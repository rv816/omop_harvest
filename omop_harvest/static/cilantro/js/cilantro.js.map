{"version":3,"file":"cilantro.js","sources":["cilantro/utils/numbers.js","cilantro/utils/url.js","cilantro/utils/version.js","cilantro/utils.js","cilantro/config.js","cilantro/channels.js","plugins/js.js","plugins/jquery-ajax-queue.js","cilantro/core.js","cilantro/models/base.js","cilantro/models/field/stats.js","cilantro/models/field/base.js","cilantro/models/field.js","cilantro/models/concept.js","cilantro/models/filters.js","cilantro/models/context.js","cilantro/models/exporter.js","cilantro/models/paginator.js","cilantro/models/view.js","cilantro/models/query.js","cilantro/constants.js","cilantro/structs.js","cilantro/models/results.js","cilantro/models/stats.js","cilantro/models/value.js","cilantro/models.js","cilantro/router.js","cilantro/session.js","text.js","tpl.js","templates/count.html!tpl","templates/notification.html!tpl","templates/paginator.html!tpl","templates/panel.html!tpl","templates/search.html!tpl","templates/welcome.html!tpl","templates/accordion/group.html!tpl","templates/accordion/section.html!tpl","templates/accordion/item.html!tpl","tpl!templates/base/error-overlay.html","tpl!templates/button/select-option.html","templates/button/select.html!tpl","templates/charts/chart.html!tpl","tpl!templates/charts/editable-chart.html","tpl!templates/concept/columns/available-group.html","tpl!templates/concept/columns/available-section.html","tpl!templates/concept/columns/available-item.html","tpl!templates/concept/columns/selected-item.html","templates/concept/columns/layout.html!tpl","templates/concept/columns/dialog.html!tpl","templates/concept/error.html!tpl","templates/concept/form.html!tpl","templates/concept/info.html!tpl","templates/concept/panel.html!tpl","templates/concept/workspace.html!tpl","templates/concept/popover.html!tpl","templates/export/dialog.html!tpl","templates/export/option.html!tpl","templates/export/batch.html!tpl","templates/export/progress.html!tpl","templates/context/panel.html!tpl","templates/context/actions.html!tpl","templates/context/info.html!tpl","templates/context/empty.html!tpl","templates/context/filter.html!tpl","templates/controls/infograph/bar.html!tpl","templates/controls/infograph/layout.html!tpl","templates/controls/infograph/toolbar.html!tpl","templates/controls/range/layout.html!tpl","templates/controls/select/layout.html!tpl","templates/controls/select/list.html!tpl","templates/controls/search/layout.html!tpl","templates/controls/search/item.html!tpl","templates/controls/null/layout.html!tpl","templates/controls/text/layout.html!tpl","tpl!templates/controls/text/preview-list.html","tpl!templates/controls/text/preview-item.html","templates/controls/vocab/layout.html!tpl","templates/controls/vocab/path.html!tpl","templates/controls/vocab/item.html!tpl","templates/controls/vocab/bucket.html!tpl","tpl!templates/controls/vocab/bucket-item.html","tpl!templates/field/form-condensed.html","templates/field/form.html!tpl","templates/field/info.html!tpl","templates/field/stats.html!tpl","templates/field/links.html!tpl","templates/field/link.html!tpl","tpl!templates/query/delete-dialog.html","tpl!templates/query/edit-dialog.html","templates/query/item.html!tpl","templates/query/list.html!tpl","templates/query/loader.html!tpl","tpl!templates/stats/count-item.html","tpl!templates/stats/count-list.html","templates/values/item.html!tpl","templates/values/list.html!tpl","templates/workflows/query.html!tpl","templates/workflows/results.html!tpl","templates/workflows/workspace.html!tpl","cilantro/ui/templates.js","cilantro/ui/controls/base.js","cilantro/ui/button.js","cilantro/ui/controls/range.js","cilantro/ui/controls/date.js","cilantro/ui/controls/number.js","cilantro/ui/base.js","cilantro/ui/paginator.js","cilantro/ui/values.js","cilantro/ui/search.js","cilantro/ui/controls/search.js","cilantro/ui/controls/infograph.js","cilantro/ui/controls/select.js","cilantro/ui/controls/null.js","cilantro/ui/controls/text.js","cilantro/ui/controls/vocab.js","cilantro/ui/controls/registry.js","cilantro/ui/controls.js","cilantro/ui/dom.js","plugins/bootstrap-datepicker.js","plugins/jquery-ui.js","plugins/jquery-easing.js","plugins/jquery-panels.js","plugins/jquery-scroller.js","cilantro/ui/core.js","cilantro/ui/accordion.js","cilantro/ui/charts/options.js","cilantro/ui/charts/core.js","cilantro/ui/charts/utils.js","cilantro/ui/charts/dist.js","cilantro/ui/charts/axis.js","cilantro/ui/charts/editable.js","cilantro/ui/charts.js","cilantro/ui/concept/info.js","cilantro/ui/concept/search.js","cilantro/ui/concept/index.js","cilantro/ui/concept/panel.js","cilantro/ui/field/info.js","cilantro/ui/config.js","cilantro/ui/field/stats.js","cilantro/ui/field/controls.js","cilantro/ui/field/form.js","cilantro/ui/field.js","cilantro/ui/concept/form.js","cilantro/ui/welcome.js","cilantro/ui/concept/workspace.js","cilantro/ui/concept/columns/available.js","cilantro/ui/concept/columns/selected.js","cilantro/ui/concept/columns/layout.js","cilantro/ui/concept/columns/dialog.js","cilantro/ui/concept/columns.js","cilantro/ui/concept.js","cilantro/ui/context/filters.js","cilantro/ui/context/info.js","cilantro/ui/context/actions.js","cilantro/ui/context/panel.js","cilantro/ui/context.js","cilantro/ui/exporter.js","cilantro/ui/notify.js","cilantro/ui/query/dialog.js","cilantro/ui/query/item.js","cilantro/ui/query/list.js","cilantro/ui/query/loader.js","cilantro/ui/query.js","cilantro/ui/stats.js","cilantro/ui/tables/cell.js","cilantro/ui/tables/row.js","cilantro/ui/tables/header.js","cilantro/ui/tables/footer.js","cilantro/ui/tables/body.js","cilantro/ui/tables/table.js","cilantro/ui/tables.js","cilantro/ui/workflows/query.js","cilantro/ui/numbers.js","cilantro/ui/workflows/results.js","cilantro/ui/workflows/workspace.js","cilantro/ui/workflows.js","cilantro/ui.js","cilantro/setup.js"],"names":[],"mappings":"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A,aACA,WACA,aACA,aACA,YACA,UACA,UACA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAKA,GAAA,IACA,GAAA,EACA,OAAA,EACA,OAAA,EACA,QAAA,EACA,OAAA,EACA,YAAA,EACA,OAAA,EACA,SAAA,EACA,KAAA,EACA,QAAA,EACA,OAAA,EACA,OAAA,EACA,SAAA,EACA,MAAA,EACA,UAAA,EACA,QAAA,EACA,IAAA,EACA,OAAA,EACA,SAAA,EACA,UAAA,EACA,QAAA,EACA,IAAA,EACA,KAAA,EACA,SAAA,EACA,KAAA,EACA,QAAA,EACA,QAAA,EACA,UAAA,EACA,QAAA,EACA,UAAA,EACA,KAAA,EACA,QAAA,EACA,IAAA,EACA,IAAA,EACA,MAAA,EACA,IAAA,EACA,QAAA,EACA,SAAA,EACA,QAAA,EACA,SAAA,EACA,UAAA,EACA,MAAA,EACA,QAAA,EACA,YAAA,EACA,QAAA,EACA,OAAA,EACA,OAAA,EACA,QAAA,EACA,SAAA,EACA,SAAA,EACA,QAAA,EACA,MAAA,EACA,MAAA,EACA,QAAA,EACA,KAAA,EACA,IAAA,EACA,MAAA,EACA,KAAA,EACA,QAAA,EACA,MAAA,EACA,IAAA,EACA,KAAA,EACA,OAAA,EACA,SAAA,EACA,KAAA,EACA,IAAA,EACA,UAAA,EACA,QAAA,EACA,MAAA,EACA,MAAA,EACA,MAAA,EACA,MAAA,EACA,KAAA,EACA,QAAA,EACA,MAAA,EACA,IAAA,EACA,OAAA,EACA,QAAA,EACA,QAAA,EACA,QAAA,EACA,WAAA,EACA,OAAA,EACA,QAAA,EACA,KAAA,EACA,MAAA,EACA,MAAA,EACA,OAAA,EACA,UAAA,EACA,YAAA,EACA,YAAA,EACA,QAAA,EACA,KAAA,EACA,SAAA,EACA,MAAA,EACA,MAAA,EACA,MAAA,EACA,MAAA,EACA,OAAA,EACA,MAAA,EACA,OAAA,EACA,QAAA,EACA,UAAA,EACA,OAAA,EACA,OAAA,EACA,MAAA,EACA,MAAA,EACA,OAAA,EACA,MAAA,EACA,SAAA,EACA,KAAA,EACA,MAAA,EACA,IAAA,EACA,KAAA,EACA,KAAA,EACA,OAAA,EACA,MAAA,EACA,IAAA,EACA,OAAA,EACA,KAAA,EACA,MAAA,EACA,WAAA,EACA,QAAA,EACA,QAAA,EACA,UAAA,EACA,MAAA,EACA,SAAA,EACA,KAAA,EACA,SAAA,EACA,KAAA,EACA,KAAA,EACA,SAAA,EACA,SAAA,EACA,IAAA,EACA,MAAA,EACA,MAAA,EACA,KAAA,EACA,QAAA,EACA,UAAA,EACA,MAAA,EACA,IAAA,EACA,IAAA,EACA,KAAA,EACA,QAAA,EACA,MAAA,EACA,MAAA,EACA,QAAA,EACA,UAAA,EACA,OAAA,EACA,MAAA,EACA,KAAA,EACA,MAAA,EACA,MAAA,EACA,KAAA,EACA,IAAA,EACA,WAAA,EACA,OAAA,EACA,MAAA,EACA,MAAA,EACA,MAAA,EACA,UAAA,EACA,MAAA,EACA,QAAA,EACA,MAAA,EACA,MAAA,EACA,MAAA,EACA,IAAA,EACA,QAAA,EACA,MAAA,EACA,QAAA,EACA,SAAA,EACA,OAAA,EACA,cAAA,EACA,MAAA,EACA,MAAA,EACA,IAAA,EACA,QAAA,EACA,MAAA,EACA,OAAA,EACA,KAAA,EACA,KAAA,EACA,SAAA,EACA,KAAA,EACA,SAAA,EACA,IAAA,EACA,KAAA,EACA,OAAA,EACA,IAAA,EACA,MAAA,EACA,KAAA,EACA,MAAA,EACA,MAAA,EACA,IAAA,EACA,OAAA,EACA,QAAA,EACA,WAAA,EACA,KAAA,EACA,MAAA,EACA,WAAA,EACA,KAAA,EACA,MAAA,EACA,KAAA,EACA,MAAA,EACA,KAAA,EACA,SAAA,EACA,QAAA,EACA,KAAA,EACA,QAAA,EACA,IAAA,EACA,MAAA,EACA,KAAA,EACA,MAAA,EACA,QAAA,EACA,SAAA,EACA,OAAA,EACA,SAAA,EACA,SAAA,EACA,KAAA,EACA,QAAA,EACA,MAAA,EACA,MAAA,EACA,OAAA,EACA,SAAA,EACA,KAAA,EACA,OAAA,EACA,IAAA,EACA,MAAA,EACA,SAAA,EACA,SAAA,EACA,WAAA,EACA,UAAA,EACA,WAAA,EACA,WAA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","sourcesContent":["/* global define */\n\n/* Utilities to formating numbers in a human-readable way.\n *\n *  - toSuffixedNumber - for numbers greater than or equal to 1000,\n *      the output is a suffixed number\n *  - toDelimitedNumber - returns a delimited string representation\n *      of the number\n *  - prettyNumber - attempts to return a number either rounded and/or\n *      suffixed, appropriate for the value\n */\n\ndefine('cilantro/utils/numbers',[],function() {\n\n    var suffixes = [\n        [3, 'K'],\n        [6, 'million'],\n        [9, 'billion'],\n        [12, 'trillion'],\n        [15, 'quadrillion'],\n        [18, 'quintillion'],\n        [21, 'sextillion'],\n        [24, 'septillion'],\n        [27, 'octillion'],\n        [30, 'nonillion'],\n        [33, 'decillion'],\n        [100, 'googol']\n    ];\n\n    var parsable = function(value) {\n        return !(value === undefined || value === null || value === '');\n    };\n\n    var toSuffixedNumber = function(value, threshold) {\n        if (!parsable(value)) return;\n\n        // If our number is less than the set threshold,\n        // do not proceed with rounding or making it pretty\n        if (value < 1000 && (threshold === null || threshold === undefined)) {\n            return toDelimitedNumber(value);\n        }\n        else if (value <= threshold){\n            return value;\n        }\n\n        var exp, suffix, largeNum, newValue;\n        for (var i = 0; i < suffixes.length; i++) {\n            exp = suffixes[i][0];\n            suffix = suffixes[i][1];\n\n            largeNum = Math.pow(10, exp);\n\n            if (value < largeNum * 1000) {\n                newValue = Math.round(value / largeNum * 10) / 10;\n                return '' + newValue + ' ' + suffix;\n            }\n        }\n    };\n\n    var toDelimitedNumber = function(value, delim) {\n        if (!parsable(value)) return;\n\n        if (delim === undefined) delim = ',';\n\n        var valueParts = value.toString().split('.'),\n            intPart = valueParts[0],\n            decimalPart = valueParts[1],\n            arr = intPart.toString().split(''),\n            len = arr.length,\n            i = len % 3 || 3;\n\n        while (i < len) {\n            arr.splice(i, 0, delim);\n            i += 4;\n        }\n\n        var text = arr.join('');\n        if (decimalPart) {\n            text += '.' + decimalPart;\n        }\n\n        return text;\n    };\n\n    var prettyNumber = function(value, threshold) {\n        if (!parsable(value)) return;\n\n        if (value !== 0) {\n            // Small float\n            if (Math.abs(value) < 0.01) {\n                return value.toExponential(2);\n            }\n            // Other floats\n            if (Math.round(value) !== value) {\n                value = value.toPrecision(3);\n            }\n        }\n\n        return toSuffixedNumber(value, threshold);\n    };\n\n    return {\n        toSuffixedNumber: toSuffixedNumber,\n        toDelimitedNumber: toDelimitedNumber,\n        prettyNumber: prettyNumber\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/utils/url',['jquery'], function($) {\n\n    /*\n     * Utility method for parsing links. See:\n     *      http://stackoverflow.com/a/6644749/407954\n     *      https://developer.mozilla.org/en-US/docs/Web/API/window.location\n     */\n    var linkParser = function(href) {\n        var a = document.createElement('a');\n        a.href = href;\n        return a;\n    };\n\n    /*\n     * Augments/changes a URL's query parameters. Takes a URL and object\n     * of URL params.\n     */\n    var alterUrlParams = function(href, data) {\n        if (!data) return href;\n\n        // Parse the href into a temporary anchor element\n        var a = linkParser(href);\n\n        // Parse existing params on URL\n        var params = {},\n            search = a.search.substr(1).split('&');\n\n        // De-parametize URL\n        for (var i = 0; i< search.length; i++) {\n            var param = search[i].split('=');\n\n            if (param[0]) {\n                // Reverse what jQuery parametize logic\n                params[param[0]] = decodeURIComponent(param[1].replace('+', ' '));\n            }\n        }\n\n        // Update params hash with passed params\n        $.extend(params, data);\n\n        // Reset parameters on the href\n        a.search = '?' + $.param(params);\n\n        return a.href;\n    };\n\n    return {\n        linkParser: linkParser,\n        alterUrlParams: alterUrlParams\n    };\n});\n\n","/* global define */\n\ndefine('cilantro/utils/version',[], function() {\n\n    var validVersionRe = /^\\d+\\.\\d+\\.\\d+$/;\n\n    /*\n     * Remove any release levels such as 'alpha', 'b2', 'rc1'. Ensures the\n     * version contains three points including major, minor and micro.\n     */\n    var cleanVersionString = function(version) {\n        if (!version) version = '';\n\n        var stripped = version.replace(/[abrf].*$/g, '');\n        var fields = stripped.split('.');\n\n        // zfill the right side, e.g. [2] => [2, 0, 0]. Empty strings are\n        // replaced with zeros, thus '2.' is a valid version string.\n        for (var i = 0; i < 3; i++) {\n            fields[i] = fields[i] || 0;\n        }\n\n        // Ensure each point is a valid number and has exactly three points.\n        var cleaned;\n        if (!validVersionRe.test(cleaned = fields.join('.'))) {\n            throw new Error('Bad version string: ' + version);\n        }\n\n        return cleaned;\n    };\n\n    // Converts a cleaned version string into an object of integers\n    var parseVersionString = function(version) {\n        var fields = cleanVersionString(version).split('.');\n\n        return {\n            major: parseInt(fields[0], 10),\n            minor: parseInt(fields[1], 10),\n            micro: parseInt(fields[2], 10)\n        };\n    };\n\n    /*\n     * Compares version v1 with v2. If v1 is greater than v2, 1 is returned.\n     * If v1 is less than v2, -1 is returned, if v1 and v2 are equal 0 is\n     * returned.\n     */\n    var compareVersions = function(v1, v2) {\n        v1 = parseVersionString(v1);\n        v2 = parseVersionString(v2);\n\n        switch (true) {\n            case (v1.major > v2.major):\n                return 1;\n            case (v1.major < v2.major):\n                return -1;\n        }\n\n        switch (true) {\n            case (v1.minor > v2.minor):\n                return 1;\n            case (v1.minor < v2.minor):\n                return -1;\n        }\n\n        switch (true) {\n            case (v1.micro > v2.micro):\n                return 1;\n            case (v1.micro < v2.micro):\n                return -1;\n        }\n\n        return 0;\n    };\n\n    var versionIsEqual = function(v1, v2) {\n        return compareVersions(v1, v2) === 0;\n    };\n\n    var versionIsGt = function(v1, v2) {\n        return compareVersions(v1, v2) === 1;\n    };\n\n    var versionIsGte = function(v1, v2) {\n        return compareVersions(v1, v2) > -1;\n    };\n\n    var versionIsLt = function(v1, v2) {\n        return compareVersions(v1, v2) === -1;\n    };\n\n    var versionIsLte = function(v1, v2) {\n        return compareVersions(v1, v2) < 1;\n    };\n\n    var versionInRange = function(v1, v2, v3) {\n        return versionIsGte(v1, v2) && versionIsLte(v1, v3);\n    };\n\n    return {\n        cleanVersionString: cleanVersionString,\n        parseVersionString: parseVersionString,\n        compareVersions: compareVersions,\n        versionIsEqual: versionIsEqual,\n        versionIsGt: versionIsGt,\n        versionIsGte: versionIsGte,\n        versionIsLt: versionIsLt,\n        versionIsLte: versionIsLte,\n        versionInRange: versionInRange\n    };\n});\n\n","/* global define,console */\n\ndefine('cilantro/utils',[\n    'jquery',\n    './utils/numbers',\n    './utils/url',\n    './utils/version'\n], function($) {\n\n    // Modules to be mixed-in with exports\n    var mods = Array.prototype.slice.call(arguments, 1);\n\n    var setCookie = function(name, value) {\n        document.cookie = name + '=' + window.escape(value) + '; path=/';\n    };\n\n    var getCookie = function(cname) {\n        // Code from: http://www.w3schools.com/js/js_cookies.asp\n        var name = cname + '=';\n        var ca = document.cookie.split(';');\n\n        for(var i = 0; i < ca.length; i++) {\n            var c = ca[i].trim();\n            if (c.indexOf(name) === 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n    };\n\n    // Convenience method for getting a value using the dot-notion for\n    // accessing nested structures.\n    var getDotProp = function(obj, key, def) {\n        var toks = key.split('.');\n\n        for (var i = 0; i < toks.length; i++) {\n            obj = obj[toks[i]];\n\n            if (obj === undefined) {\n                return def;\n            }\n        }\n        // Final value of obj is returned\n        if (typeof obj === 'function') {\n            return obj.apply();\n        }\n        else {\n            return obj;\n        }\n    };\n\n    // Convenience method for setting a value using the dot-notion for\n    // accessing nested structures.\n    var setDotProp = function(obj, key, value) {\n        if (typeof key === 'object') {\n            // Second argument is a boolean to whether or not to replace\n            // the options\n            if (value === true) {\n                return $.extend(true, {}, key);\n            }\n            return $.extend(true, obj, key);\n        }\n\n        var toks = key.split('.'),\n            last = toks.pop();\n\n        for (var t, i = 0; i < toks.length; i++) {\n            t = toks[i];\n\n            if (obj[t] === undefined) {\n                obj[t] = {};\n            }\n            obj = obj[t];\n        }\n        obj[last] = value;\n    };\n\n    var pprint = function(obj) {\n        console.log(JSON.stringify(obj, null, 4));\n    };\n\n    mods.unshift({\n        pprint: pprint,\n        getDotProp: getDotProp,\n        getCookie: getCookie,\n        setCookie: setCookie,\n        setDotProp: setDotProp\n    });\n\n    return $.extend.apply(null, mods);\n});\n\n","/* global define */\n\ndefine('cilantro/config',[\n    'jquery',\n    './utils'\n], function($, utils) {\n\n\n    var defaultOptions = {\n        // Run in debug mode to turn off various behaviors that impede\n        // development and increase logging output to the console.\n        debug: false,\n\n        // The root URL to the application. If falsy, default is '/'\n        root: '/',\n\n        // The selector of the element views will be rendered within.\n        main: '#cilantro-main',\n\n\n        /*\n         * Sessions\n         *\n         * - url: The URL of the API\n         * - ping: The ping interval for endpoints that support it.\n         * - data: Keys correspond to each resource under the `session.data`\n         *   object. The value corresponds to GET or POST data to be\n         *   used during a fetch.\n         */\n\n        session: {\n            defaults: {\n                url: null,\n                credentials: null,\n                ping: 30000, // 30 seconds\n                data: {}\n            }\n        },\n\n        // Convenience option: URL of the default session\n        url: null,\n\n        // Convenience option: Credentials for the default session\n        credentials: null,\n\n        /*\n         * Threshold for showing counts of results as rounded and/or\n         * prefixed numbers. Set this threshold to be a number and if the\n         * displayed counts are less than the threshold, there will be no\n         * rounding and the count will be displayed as is(precise).\n         */\n        threshold: null,\n\n        /*\n         * A list of values used to determine which models are shown in the\n         * stats table on the Workspace page. When this value is null, there is\n         * no filtering done and all models will be listed in the table. When\n         * this value is the empty list([]), then the control itself will not\n         * be shown. Finally, when this list contains values, only the stat\n         * values with values in this list will be shown.\n         *\n         * NOTE: Values in this list must be of the format app_name.model_name,\n         * so, for example, if I wanted to include just a couple models I might\n         * set this list to:\n         *\n         *      statsModelsList = [\n         *          'diagnoses.diagnosis',\n         *          'drugs.drug'\n         *      ];\n         *\n         * And all models except Diagnosis from the diagnoses app and Drug from\n         * the drugs app will be ignored.\n         */\n        statsModelsList: null,\n\n        /*\n         * Threshold for the max number of values that will be displayed in\n         * a filter on the context panel before they are hidden with ellipses.\n         */\n        maxFilterDisplayValues: 4,\n\n        /*\n         * Setting this as true will style the filter display, highlighting\n         * concept names, operators and values to make filters more readable.\n         */\n        styleFilters: false,\n\n        /*\n         * Timeouts\n         *\n         * Timeouts for various components in Cilantro.\n         */\n        timeouts: {\n            control: 10000\n        },\n\n\n        /*\n         * Templates\n         *\n         * Maps template names to module paths or pre-compiled functions.\n         */\n\n        templates: {},\n\n\n        /*\n         * Controls\n         *\n         * Keys represent the names of the controls and the value is either\n         * a control class or a module name (that will be fetched on demand).\n         *\n         * The default controls can be found near the top of:\n         *\n         *      cilantro/js/ui/controls/registry.js\n         */\n\n        controls: {},\n\n        /*\n         * Concepts\n         *\n         * Shared:\n         *\n         * - form: options for ConceptForm, a ConceptForm subclass, a module name\n         *\n         * Precedence hierarchy:\n         *\n         * - defaults: default options for the component\n         * - types: specific to concept type, overrides defaults\n         * - instances: specific to a concept instance, overrides types\n         */\n\n        concepts: {\n\n            defaults: {},\n\n            types: {},\n\n            instances: {}\n\n        },\n\n        /*\n         * Fields\n         *\n         * Shared:\n         *\n         * - form: options for FieldForm, a FieldForm subclass, a module name\n         *     - chart: true (show), false (hide; default), options (show)\n         *     - info: true (show), false (hide), null (hide if only field in concept)\n         *     - stats: true (show; default), false (hide)\n         *     - controls: options for default control or a Control subclass\n         *\n         * Instance-only:\n         *\n         * - type: string explicitly defining an instance's type\n         *\n         * Precedence hierarchy:\n         *\n         * - defaults: default options for the component\n         * - types: specific to field type, overrides defaults\n         * - instances: specific to a field instance, overrides types\n         *\n         */\n\n        fields: {\n\n            defaults: {\n                form: {\n                    controls: ['search']\n                }\n            },\n\n            types: {\n                choice: {\n                    form: {\n                        controls: ['infograph']\n                    }\n                },\n\n                number: {\n                    form: {\n                        chart: true,\n                        controls: ['number']\n                    }\n                },\n\n                date: {\n                    form: {\n                        chart: true,\n                        controls: ['date']\n                    }\n                },\n\n                time: {\n                    form: {\n                        chart: true,\n                        controls: ['date']\n                    }\n                },\n\n                datetime: {\n                    form: {\n                        chart: true,\n                        controls: ['date']\n                    }\n                }\n            },\n\n            instances: {}\n        }\n    };\n\n\n    // Takes N number of option objects with increasing precedence and deep\n    // merges them with the default options.\n    var Config = function() {\n        this.reset.apply(this, arguments);\n    };\n\n    Config.prototype.reset = function() {\n        var options = [].slice.call(arguments);\n        this.options = $.extend.apply(null, [true, {}, defaultOptions].concat(options));\n    };\n\n    Config.prototype.get = function(key, def) {\n        return utils.getDotProp(this.options, key, def);\n    };\n\n    Config.prototype.set = function(key, value) {\n        utils.setDotProp(this.options, key, value);\n    };\n\n    Config.prototype.unset = function(key) {\n        utils.setDotProp(this.options, key, undefined);\n    };\n\n\n    return {\n        Config: Config,\n        defaultOptions: defaultOptions\n    };\n\n});\n\n","/* global define */\n\n/*\nThe channels published to by all Serrano types include:\n\n- `changed` - Published when changes occur to the object on the client.\n   For subscribers that can make use of these changes that do not\n   require a sync to the server should subscribe to this topic. The\n   model itself is published.\n\n- `syncing` - Published before the request is sent during a model save\n   and fetch. For elements which need to display a loader this topic\n   should be subscribed to in addition to the `synced` topic to turn\n   off the loader UI. The model itself is published.\n\n- `synced` - Published after a request has finished and the client has\n   been synced with the server. The model and a response code is published\n   which is either 'success' or 'error'.\n\nThe channels subscribed to by all Serrano types include:\n\n- `pause` - Publishing to this channel will trigger the target object to\n   pause syncing with the server until `resume` (see below) is published\n   to.\n\n- `resume` - Publishing to this channel will trigger the target object to\n   resume syncing with the server if it had been paused (see above).\n*/\n\ndefine('cilantro/channels',{\n\n    FIELD_FOCUS: 'field:focus',\n    FIELD_BLUR: 'field:blur',\n\n    CONCEPT_FOCUS: 'concept:focus',\n    CONCEPT_BLUR: 'concept:blur',\n\n    CONTEXT_CHANGED: 'context:changed',\n    CONTEXT_SYNCING: 'context:syncing',\n    CONTEXT_SYNCED: 'context:synced',\n\n    CONTEXT_PAUSE: 'context:pause',\n    CONTEXT_RESUME: 'context:resume',\n\n    CONTEXT_CLEAR: 'context:clear',\n    CONTEXT_SAVE: 'context:save',\n\n    CONTEXT_REQUIRED: 'context:required',\n    CONTEXT_INVALID: 'context:invalid',\n\n    VIEW_CHANGED: 'view:changed',\n    VIEW_SYNCING: 'view:syncing',\n    VIEW_SYNCED: 'view:synced',\n\n    VIEW_PAUSE: 'view:pause',\n    VIEW_RESUME: 'view:resume',\n\n    VIEW_CLEAR: 'view:clear',\n    VIEW_SAVE: 'view:save'\n\n});\n\n","/* global define */\n\ndefine('plugins/js',[],function() {\n    if (!String.prototype.trim) {\n        String.prototype.ltrim = function() {\n            return this.replace(/^\\s+/, '');\n        };\n\n        String.prototype.rtrim = function() {\n            return this.replace(/\\s+$/, '');\n        };\n\n        String.prototype.trim = function() {\n            this.ltrim().rtrim();\n        };\n    }\n});\n\n","/* global define */\n\ndefine('plugins/jquery-ajax-queue',['jquery'], function(jQuery) {\n\n    var ajax = jQuery.ajax,\n        requestQueue = [],\n        requestPending = false;\n\n    function sendRequest(options, promise, trigger) {\n        if (trigger !== false) trigger = true;\n        if (trigger) requestPending = true;\n\n        promise\n            .done(options.success)\n            .fail(options.error)\n            .always(options.complete);\n\n        var params = {\n            complete: function() {\n                if (trigger) dequeueRequest();\n            },\n            success: function() {\n                promise.resolveWith(this, arguments);\n            },\n            error: function() {\n                promise.rejectWith(this, arguments);\n            }\n        };\n\n        var jqXHR = ajax(jQuery.extend({}, options, params));\n        promise.abort = jqXHR.abort;\n    }\n\n    function dequeueRequest() {\n        var args, options, promise;\n        if ((args = requestQueue.shift())) {\n            options = args[0];\n            promise = args[1];\n            sendRequest(options, promise);\n        } else {\n            requestPending = false;\n        }\n    }\n\n    function queueRequest(options) {\n        var promise, type, queue;\n        promise = jQuery.Deferred();\n        type = (options.type || 'get').toLowerCase();\n        queue = options.queue !== null ? options.queue : (type === 'get' ? false : true);\n\n        if (queue && requestPending) {\n            var deferredRequest = [options, promise];\n\n            promise.abort = function() {\n                var index =  requestQueue.indexOf(deferredRequest);\n                if (index > -1) {\n                    requestQueue.splice(index, 1);\n                }\n                [].unshift.call(arguments, 'abort');\n                promise.rejectWith(promise, arguments);\n            };\n\n            requestQueue.push(deferredRequest);\n        } else {\n            sendRequest(options, promise, queue);\n        }\n\n        return promise;\n    }\n\n    jQuery.ajax = function(options, optional) {\n        if (typeof(options) === \"string\"){\n            optional.url = options;\n            options = optional;\n        }\n        return queueRequest(options);\n    };\n\n    jQuery.hasPendingRequest = function() {\n        return requestPending;\n    };\n});\n\n","/* global define */\n\ndefine('cilantro/core',[\n    'underscore',\n    'backbone',\n    './config',\n    './channels',\n    './utils',\n    'plugins/js',\n    'plugins/jquery-ajax-queue',\n    // Conditional inclusion of json2 (for ie7)\n    JSON === undefined ? 'json2' : null\n], function(_, Backbone, config, channels, utils) {\n\n    var cilantro = {\n        // Version of cilantro\n        version: '2.3.8',\n\n        // Defines the minimum version and maximum version Serrano that this version\n        // of Cilantro is 100% compatible with. While Cilantro will attempt to run\n        // normally despite the version number received from the server, the user\n        // will be warned if no version number is found or if it is less than this\n        // minimum to prepare them in the case of missing or broken functionality.\n        minSerranoVersion: '2.0.16',\n        maxSerranoVersion: '2.3.11',\n\n        // Returns the current session's Serrano version. If there is no\n        // active session or version defined, the absolute minimum is returned.\n        getSerranoVersion: function() {\n            if (this.session) {\n                return this.utils.cleanVersionString(this.session.version);\n            }\n        },\n\n        // Returns a boolean as to whether the current Serrano version is\n        // supported relative to the min and max.\n        isSupported: function(version) {\n            var minVersion = this.minSerranoVersion,\n                maxVersion = this.maxSerranoVersion,\n                serranoVersion = this.getSerranoVersion();\n\n            // Cilantro may support a version of Serrano greater than the\n            // current one being accessed.\n            if (utils.versionIsLt(serranoVersion, maxVersion)) {\n                maxVersion = serranoVersion;\n            }\n\n            return utils.versionInRange(version, minVersion, maxVersion);\n        },\n\n        // Initialize the session manager and default configuration\n        config: new config.Config(this.cilantro),\n\n        // Attach commonly used utilities\n        utils: utils,\n    };\n\n    // Give the cilantro object events!\n    _.extend(cilantro, Backbone.Events, channels);\n\n    return cilantro;\n});\n\n","/* global define */\n\ndefine('cilantro/models/base',[\n    'underscore',\n    'backbone'\n], function(_, Backbone) {\n\n    // Base model for Cilantro. Data for models commonly contain a\n    // `_links` attribute which is parsed to be made accessible for\n    // consumers.\n    var Model = Backbone.Model.extend({\n        constructor: function(attrs, options) {\n            options = _.defaults({parse: true}, options);\n            this.links = {};\n\n            Backbone.Model.prototype.constructor.call(this, attrs, options);\n            this.on('change:_links', this._parseLinks);\n        },\n\n        url: function() {\n            if (this.isNew()) {\n                return Backbone.Model.prototype.url.call(this);\n            }\n            return this.links.self;\n        },\n\n        _parseLinks: function(model, attrs) {\n            var links = {};\n\n            _.each(attrs, function(link, name) {\n                links[name] = link.href;\n            });\n\n            model.links = links;\n        },\n\n        parse: function(attrs) {\n            if (attrs && attrs._links) {\n                this._parseLinks(this, attrs._links);\n            }\n\n            return attrs;\n        }\n    });\n\n    var Collection = Backbone.Collection.extend({\n        model: Model\n    });\n\n    // Base collection class that is session-aware. A session is always\n    // created on initialization which enables immediately binding to the\n    // session object, as well transparency when switching between session\n    // objects. This is used for Context, View and Query collections.\n    var SessionCollection = Collection.extend({\n        initialize: function() {\n            this.session = this.add({session: true});\n        },\n\n        // Prevent deferencing the session\n        reset: function(models, options) {\n            options = options || {};\n            models = models || [];\n\n            // Search for session model, merge into existing and remove it\n            var model, match;\n\n            for (var i = 0; i < models.length; i++) {\n                model = models[i];\n\n                if (model instanceof Backbone.Model) {\n                    if (model.get('session') === true) match = model.toJSON();\n                } else if (model && model.session === true) {\n                    match = model;\n                }\n\n                if (match) {\n                    this.session.set(match, options);\n                    models.splice(i, 1);\n                    break;\n                }\n            }\n\n            models.push(this.session);\n            return Collection.prototype.reset.call(this, models, options);\n        },\n\n        // Extend `get` to lookup by session if passed. The session model\n        // may change over time which is independent of the model id.\n        // Furthermore, it guarantees views will have something to bind to\n        // prior to it being fetched from the server.\n        get: function(attrs) {\n            var session = false;\n\n            if (attrs instanceof Backbone.Model) {\n                session = attrs.get('session');\n            }\n\n            if (attrs === 'session' || (typeof attrs === 'object' && attrs.session)) {\n                session = true;\n            }\n\n            if (session) return this.findWhere({session: true});\n\n            return Collection.prototype.get.call(this, attrs);\n        },\n\n        getSession: function() {\n            return this.session;\n        }\n    });\n\n\n    return {\n        Model: Model,\n        Collection: Collection,\n        SessionCollection: SessionCollection\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/field/stats',[\n    'backbone'\n], function(Backbone) {\n\n    var StatModel = Backbone.Model.extend({\n        idAttribute: 'key'\n    });\n\n    var StatCollection = Backbone.Collection.extend({\n        model: StatModel,\n\n        parse: function(attrs) {\n            var stats = [];\n\n            var key, value;\n            for (key in attrs) {\n                value = attrs[key];\n\n                if (key.charAt(0) === '_') {\n                    continue;\n                }\n\n                stats.push({\n                    key: key,\n                    value: value\n                });\n            }\n\n            // Reverse the order of 'min' and 'max'. If changing the order\n            // of other stats are required, put them into this array in the\n            // order required.\n            var order = ['min', 'max'];\n\n            stats.sort(function(a,b) {\n                var ai = order.indexOf(a.key),\n                    bi = order.indexOf(b.key);\n\n                // If both defined, compare\n                if (ai >= 0 && bi >= 0) return ai - bi;\n                // Sort lexicographically otherwise\n                if (ai < 0 && bi < 0) return a.key > b.key;\n                // If one of them defined, promote\n                if (ai >= 0) return -1;\n                return 1;\n            });\n\n            return stats;\n        }\n    });\n\n    return {\n        StatModel: StatModel,\n        StatCollection: StatCollection\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/field/base',[\n    'underscore',\n    'backbone',\n    '../../core',\n    '../base',\n    './stats'\n], function(_, Backbone, c, base, stats) {\n\n    var getLogicalType = function(attrs) {\n        // Takes precedence since it is specified explicitly.\n        var type = c.config.get('fields.instances.' + attrs.id + '.type');\n\n        if (type) return type;\n\n        // Fallback to the upstream type defined on the field.\n        if (attrs.type) {\n            return attrs.type;\n        }\n\n        // Infer/select a logical type based on the field's properties.\n        type = attrs.simple_type;   // jshint ignore:line\n\n        if (attrs.enumerable || type === 'boolean') {\n            return 'choice';\n        }\n\n        return type;\n    };\n\n    var FieldModel = base.Model.extend({\n        constructor: function() {\n            base.Model.prototype.constructor.apply(this, arguments);\n\n            var _this = this;\n            if (this.links.stats) {\n                this.stats = new stats.StatCollection();\n                this.stats.url = function() {\n                    return _this.links.stats;\n                };\n            }\n        },\n\n        parse: function() {\n            this._cache = {};\n\n            var attrs = base.Model.prototype.parse.apply(this, arguments);\n            attrs.type = getLogicalType(attrs);\n\n            return attrs;\n        },\n\n        distribution: function(handler, cache) {\n            if (cache !== false) cache = true;\n\n            if (this.links.distribution === undefined) {\n                handler();\n                return;\n            }\n\n            if (cache && (this._cache.distribution !== undefined)) {\n                handler(this._cache.distribution);\n            }\n            else {\n                var _this = this;\n                Backbone.ajax({\n                    url: this.links.distribution,\n                    dataType: 'json',\n                    success: function(resp) {\n                        if (cache) {\n                            _this._cache.distribution = resp;\n                        }\n                        return handler(resp);\n                    }\n                });\n            }\n        },\n\n        values: function(params, handler, cache) {\n            if (cache !== false) cache = true;\n\n            // Shift arguments if params is not supplied.\n            if (typeof params === 'function') {\n                handler = params;\n                cache = handler;\n                params = {};\n            }\n            // Do not cache query-based lookups.\n            else if (params) {\n                cache = false;\n                // Support previous behavior of passing a query string.\n                if (typeof params === 'string') {\n                    params = {\n                        query: params\n                    };\n                }\n            }\n\n            // Field does not support values, call the handler without\n            // a response.\n            if (!this.links.values) {\n                handler();\n                return;\n            }\n\n            var deferred = Backbone.$.Deferred();\n\n            // Register handler to facilitate previous behavior.\n            if (handler) {\n                deferred.done(handler);\n            }\n\n            // Use cache if available.\n            if (cache && (this._cache.values !== undefined)) {\n                deferred.resolve(this._cache.values);\n            }\n            else {\n                var _this = this;\n\n                Backbone.ajax({\n                    url: this.links.values,\n                    data: params,\n                    dataType: 'json',\n                    success: function(resp) {\n                        if (cache) {\n                            _this._cache.values = resp;\n                        }\n                        deferred.resolve(resp);\n                    },\n                    error: function() {\n                        deferred.reject();\n                    }\n                });\n            }\n\n            return deferred.promise();\n        }\n    });\n\n    var FieldCollection = base.Collection.extend({\n        model: FieldModel,\n\n        search: function(query, handler) {\n            Backbone.ajax({\n                url: _.result(this, 'url'),\n                data: { query: query },\n                dataType: 'json',\n                success: function(resp) {\n                    handler(resp);\n                }\n            });\n        }\n    });\n\n    return {\n        FieldModel: FieldModel,\n        FieldCollection: FieldCollection\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/field',[\n    'underscore',\n    './field/base',\n    './field/stats'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(_, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/concept',[\n    'underscore',\n    'backbone',\n    '../core',\n    './base',\n    './field'\n], function(_, Backbone, c, base, field) {\n\n\n    var Concept = base.Model.extend({\n        constructor: function() {\n            this.fields = new field.FieldCollection();\n            base.Model.prototype.constructor.apply(this, arguments);\n        },\n\n        initialize: function() {\n            base.Model.prototype.initialize.call(this, arguments);\n\n            // Fetch the field data the first time a concept receives focus\n            c.on(c.CONCEPT_FOCUS, function(id) {\n                if (this.id !== id) return;\n\n                if (this.fields.length === 0) {\n                    this.fields.fetch({reset: true});\n                }\n            }, this);\n        },\n\n        parse: function(resp, options) {\n            base.Model.prototype.parse.call(this, resp, options);\n\n            var _this = this;\n\n            // Set the endpoint for related fields\n            this.fields.url = function() {\n                return _this.links.fields;\n            };\n\n            // Should only be falsy on a PUT request\n            if (!resp) return;\n\n            // Response has the fields data embedded\n            if (resp.fields) {\n                this.fields.set(resp.fields, options);\n                delete resp.fields;\n            }\n\n            return resp;\n        }\n    });\n\n\n    var BaseConcepts = base.Collection.extend({\n        model: Concept,\n\n        // Perform a remote search on this collection\n        search: function(query, handler) {\n            return Backbone.ajax({\n                url: _.result(this, 'url'),\n                data: {\n                    query: query,\n                    brief: 1\n                },\n                dataType: 'json',\n                success: function(resp) {\n                    handler(resp);\n                }\n            });\n        }\n    });\n\n\n    var Concepts = BaseConcepts.extend({\n        constructor: function() {\n            this.queryable = new BaseConcepts();\n            this.viewable = new BaseConcepts();\n\n            var _this = this;\n\n            this.queryable.url = function() {\n                return _.result(_this, 'url');\n            };\n\n            this.viewable.url = function() {\n                return _.result(_this, 'url');\n            };\n\n            BaseConcepts.prototype.constructor.apply(this, arguments);\n        },\n\n        initialize: function() {\n            // Update the sub-collections with the specific sets of models\n            this.on('add remove reset', function() {\n                this.queryable.reset(this.filter(function(model) {\n                    return !!model.get('queryable') || !!model.get('queryview');\n                }));\n\n                this.viewable.reset(this.filter(function(model) {\n                    return !!model.get('viewable') || !!model.get('formatter_name');\n                }));\n            });\n        }\n    });\n\n\n    return {\n        Concept: Concept,\n        Concepts: Concepts\n    };\n\n});\n\n","/* global define */\n\n\ndefine('cilantro/models/filters',[\n    'jquery',\n    'underscore',\n    'backbone'\n], function($, _, Backbone) {\n\n    var generateId = function(attrs) {\n        var id = '';\n        if (attrs.concept) id += 'c' + attrs.concept;\n        if (attrs.field) id += 'f' + attrs.field;\n        if (!id) throw new Error('Cannot generate id for filter');\n        return id;\n    };\n\n    // A filter encapsulates a single context node. The attributes must be tagged\n    // with an identifier, either a `concept` id, `field` id or both.\n    var Filter = Backbone.Model.extend({\n        constructor: function(attrs, options) {\n            if (attrs && !attrs.id) {\n                attrs[this.idAttribute] = generateId(attrs);\n            }\n            Backbone.Model.prototype.constructor.call(this, attrs, options);\n        },\n\n        // This coincides with a possible feature in Backbone 1.1.3 that enables\n        // dynamically generating ids rather than relying on a static id as defined\n        // by idAttribute\n        generateId: function(attrs) {\n            return generateId(attrs);\n        },\n\n        clear: function(options) {\n            var attrs = _.clone(this.attributes);\n\n            // Do not unset required fields\n            delete attrs.id;\n            delete attrs.field;\n            delete attrs.concept;\n\n            // Void out the value for each key being unset otherwise\n            // the change will not be recorded in Backbone\n            _.each(attrs, function(value, key) {\n                attrs[key] = undefined;\n            });\n\n            this.set(attrs, _.defaults({unset: true}, options));\n        },\n\n        // No syncing, i.e. no request, sync, error\n        sync: function() {},\n\n        apply: function(options) {\n            this.trigger('apply', this, options);\n        },\n\n        unapply: function(options) {\n            this.trigger('unapply', this, options);\n        },\n\n        // Performs a deep copy to prevent any shared referenced in nested\n        // structures. Remove the id attribute by default\n        toJSON: function(options) {\n            options = _.defaults(options || {}, {id: false});\n            var attrs = $.extend(true, {}, this.attributes);\n            if (!options.id) delete attrs[this.idAttribute];\n            return attrs;\n        },\n\n        // Convenience method for checking if the filter is enabled. If the\n        // attribute is not set, this also implies it is enabled.\n        isEnabled: function() {\n            return this.get('enabled') !== false;\n        },\n\n        // Toggles if the filter is enabled/disabled\n        toggleEnabled: function() {\n            this.set('enabled', !this.isEnabled());\n        }\n    });\n\n\n    // Collection of \"filters\" which correspond to an arbitrarily complex context node\n    var Filters = Backbone.Collection.extend({\n        model: Filter,\n\n        constructor: function(models, options) {\n            options = _.defaults({parse: true}, options);\n            Backbone.Collection.prototype.constructor.call(this, models, options);\n        },\n\n        sync: function() {},\n\n        apply: function(options) {\n            this.trigger('apply', this, options);\n        },\n\n        unapply: function(options) {\n            this.trigger('unapply', this, options);\n        },\n\n        // Handles both a normal array of model attributes and a context tree.\n        // IDs are generated at this stage so attrs/models can be properly merged\n        // into the existing collection.\n        parse: function(models) {\n            if (_.isArray(models)) {\n                _.each(models, function(attrs) {\n                    if (!attrs.id) {\n                        attrs.id = this.model.prototype.generateId(attrs);\n                    }\n                });\n            } else {\n                var attrs = models || {};\n\n                models = [];\n\n                if (attrs.field) {\n                    var id = this.model.prototype.generateId(attrs);\n                    models.push(_.extend({id: id}, attrs));\n                }\n\n                // Bare branch or standalone concept; traverse children.\n                // Note: concept-level filters are not yet supported, so they\n                // need to be deconstructed to their containing fields. The\n                // will be augmented on the child if present.\n                else if (attrs.children) {\n                    var concept = attrs.concept;\n\n                    _.each(attrs.children, function(child) {\n                        if (concept !== undefined) {\n                            child = _.extend({concept: concept}, child);\n                        }\n                        models = models.concat(this.parse(child));\n                    }, this);\n                }\n            }\n\n            return models;\n        }\n    });\n\n\n    return {\n        Filter: Filter,\n        Filters: Filters,\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/context',[\n    'underscore',\n    'backbone',\n    'loglevel',\n    '../core',\n    './base',\n    './filters'\n], function(_, Backbone, loglevel, c, base, filters) {\n\n    var getRequiredFilters = function() {\n        var lookups = [];\n\n        _.each(c.config.get('filters.required'), function(lookup)  {\n            lookups.push(lookup);\n        });\n\n        var concepts = c.config.get('query.concepts.required');\n\n        if (concepts) {\n            loglevel.warn('The \"query.concepts.required\" option is ' +\n                             'deprecated, use \"filters.required\" instead ' +\n                             'with fully qualified lookups.');\n\n            _.each(concepts, function(concept)  {\n                lookups.push({concept: concept});\n            });\n        }\n\n        return lookups;\n    };\n\n    /*\n     * The context model provides an interface for [un]applying filters. Filters\n     * are uniquely identified by field, concept, or both.\n     */\n    var Context = base.Model.extend({\n\n        options: {\n            saveDelay: 300\n        },\n\n        initialize: function(attrs, options) {\n            attrs = attrs || {};\n\n            this.requiredFilters = getRequiredFilters();\n\n            // Internal collection of all filters\n            this._filters = new filters.Filters(attrs.json,\n                _.defaults({parse: true}, options));\n\n            // Public collection of filters that are applied\n            this.filters = new filters.Filters(attrs.json,\n                _.defaults({parse: true}, options));\n\n            // Proxy events from individual nodes as they are altered\n            this.listenTo(this._filters, {\n                'apply': this.apply,\n                'unapply': this.unapply\n            });\n\n            this.listenTo(this.filters, {\n                'unapply': this.unapply,\n                'change:enabled': function() {\n                    this._save();\n                }\n            });\n\n            // Watch for changes to the JSON attribute, update filters.\n            // On a reset, the internal filters are also set to reflect the state\n            // of the filters. Note, the below order is required so the internal\n            // filters can be compared with the updated \"public\" filters.\n            this.on('change:json', function(model, value, options) {\n                this.filters.set(value, _.defaults({parse: true}, options));\n\n                if (options.reset) {\n                    this._filters.set(value, _.defaults({\n                        parse: true,\n                        remove: false\n                    }, options));\n                }\n\n                // Add the `required` attribute to filters marked as such\n                this.filters.each(function(model) {\n                    if (this.isFilterRequired(model.attributes)) {\n                        model.set('required', true);\n                    }\n                    else {\n                        model.unset('required');\n                    }\n                }, this);\n            });\n\n            // Trigger Cilantro event when context is saved\n            this.on('sync', function(model, attrs, options) {\n                options = options || {};\n\n                // Validate the context on sync\n                this.validate();\n\n                if (options.silent !== true) {\n                    c.trigger(c.CONTEXT_SYNCED, this, 'success');\n                }\n            });\n\n            // Define a debounced save method for handling rapid successions\n            // of [un]apply events.\n            this._save = _.debounce(this.save, this.options.saveDelay);\n        },\n\n        validate: function() {\n            var invalid = [];\n\n            _.each(this.requiredFilters, function(lookup) {\n                var reason, model = this.filters.findWhere(lookup);\n\n                if (!model) {\n                    reason = 'undefined';\n                } else if (!model.isEnabled()) {\n                    reason = 'disabled';\n                }\n\n                if (reason) {\n                    invalid.push(_.extend({reason: reason}, lookup));\n                }\n            }, this);\n\n            if (invalid.length) {\n                c.trigger(c.CONTEXT_INVALID, invalid);\n                return 'One or more filters are invalid';\n            }\n        },\n\n        // Only compare values for keys defined on the lookup\n        isFilterRequired: function(attrs) {\n            return _.any(this.requiredFilters, function(lookup) {\n                return _.isEqual(_.pick(attrs, _.keys(lookup)), lookup);\n            });\n        },\n\n        _apply: function(filter, options) {\n            // Ensure only attributes are being added to prevent references\n            var attrs = filter.toJSON({id: true});\n            // Filters are enabled by default. If a filter is previously disabled\n            // and re-applied, it will be enabled.\n            attrs.required = this.isFilterRequired(attrs);\n\n            // Add/update public filter\n            var model = this.filters.get(attrs.id);\n\n            // Clear previous attributes if model exists\n            if (model) {\n                model.clear({silent: true});\n                model.set(attrs);\n            }\n            else {\n                model = this.filters.add(attrs, options);\n            }\n\n            // Silently enable the model, otherwise this will trigger a save\n            // TODO refactor?\n            model.set('enabled', true, {silent: true});\n\n            // Trigger the applied event on the internal filter\n            var internal = this._filters.get(model);\n            internal.trigger('applied', internal, options);\n\n            // Prevent redundant handlers from firing.\n            model.stopListening(this);\n\n            // Emulate request/sync events by piggy-backing the context save.\n            model.listenToOnce(this, 'request', function(context, xhr, options) {\n                this.trigger('request', this, xhr, options);\n            });\n\n            model.listenToOnce(this, 'sync', function(context, response, options) {\n                this.trigger('sync', this, this.toJSON(), options);\n            });\n        },\n\n        // Takes one or more filters and applies it by adding/updating it in the\n        // public filters collection.\n        apply: function(filters, options) {\n            if (filters instanceof Backbone.Collection) {\n                filters = filters.slice();\n            }\n            else if (!_.isArray(filters)) {\n                filters = [filters];\n            }\n\n            // Apply the filters\n            _.each(filters, function(filter) {\n                this._apply(filter, options);\n            }, this);\n\n            // This can be useful for applying multiple filters and doing a\n            // batch save of them. Since the handlers above are bound, all the\n            // filters that are unsynced will fire their events.\n            if (options && options.save === false) return;\n\n            this._save();\n        },\n\n        _unapply: function(filter, options) {\n            // Ensure only attributes are being added to prevent references\n            var attrs = filter.toJSON({id: true});\n\n            if (this.isFilterRequired(attrs)) {\n                loglevel.debug('skipping unapplying required filter', attrs);\n                return;\n            }\n\n            var model = this.filters.remove(attrs, options);\n\n            // Filter does not exist, exit early\n            if (!model) return;\n\n            // Ensure we trigger on the reference filter\n            var internal = this._filters.get(model);\n            internal.trigger('unapplied', internal, options);\n\n            // Unbind handles from the apply method in case the events have not\n            // fired yet.\n            model.stopListening(this);\n        },\n\n        unapply: function(filters, options) {\n            if (filters instanceof Backbone.Collection) {\n                filters = filters.slice();\n            }\n            else if (!_.isArray(filters)) {\n                filters = [filters];\n            }\n\n            // Apply the filters\n            _.each(filters, function(filter) {\n                this._unapply(filter, options);\n            }, this);\n\n            if (options && options.save === false) return;\n\n            this._save();\n        },\n\n        // Gets or creates a filter based on the bare attributes. The\n        // id is derived from the attributes and used to look up the instance\n        // in the internal filters.\n        define: function(attrs) {\n            var id = this._filters.model.prototype.generateId(attrs),\n                model = this._filters.get(id);\n\n            if (!model) model = this._filters.create(attrs);\n\n            return model;\n        },\n\n        // Sets the `json` attribute based on the contents of the filters\n        toJSON: function() {\n            var attrs = base.Model.prototype.toJSON.call(this),\n                filters = this.filters.toJSON();\n\n            if (filters.length) {\n                attrs.json = {\n                    type: 'and',\n                    children: filters\n                };\n            }\n            else {\n                attrs.json = null;\n            }\n\n            return attrs;\n        },\n\n        isSession: function() {\n            return this.get('session');\n        },\n\n        isArchived: function() {\n            return this.get('archived');\n        },\n\n        isFilterApplied: function(model) {\n            return this.filters.get(model) !== undefined;\n        },\n\n        // Compares the values of the internal and applied filters for the\n        // specified set of keys.\n        hasFilterChanged: function(model, keys) {\n            var current = this.filters.get(model);\n            if (!current) return;\n\n            if (!keys) keys = _.keys(model.attributes);\n\n            return _.any(keys, function(key) {\n                return !_.isEqual(model.get(key), current.get(key));\n            });\n        }\n    });\n\n\n    var ContextCollection = base.SessionCollection.extend({\n        model: Context\n    });\n\n\n    return {\n        Context: Context,\n        ContextCollection: ContextCollection\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/exporter',[\n    'underscore',\n    './base'\n], function(_, base) {\n\n    var parseTitle = function(attrs) {\n        if (!attrs.href) return 'Untitled';\n\n        // If the title isn't there, do our best to get something meaningful\n        // from the href attribute.\n        var href = attrs.href, fields;\n\n        // Check if a trailing slash exists\n        if (href.charAt(href.length - 1) === '/') {\n            fields = href.substr(0, href.length-1).split('/');\n        }\n        else {\n            fields = href.split('/');\n        }\n\n        // Use the segment of the path as the title\n        if (fields.length > 0) {\n            return fields[fields.length - 1].toUpperCase();\n        }\n\n        // If we couldn't get the title from the href then use the whole\n        // href property to try to give some context to the title.\n        return 'Untitled ' + href;\n    };\n\n\n    var ExporterModel = base.Model.extend({\n        idAttribute: 'type'\n    });\n\n\n    var ExporterCollection = base.Collection.extend({\n        model: ExporterModel,\n\n        parse: function(resp) {\n            var models = [];\n\n            _.each(resp._links, function(attrs, type) {\n                // Ignore the exporter endpoint itself\n                if (type !== 'self') {\n                    attrs = _.extend({type: type}, attrs);\n                    if (!attrs.title) attrs.title = parseTitle(attrs);\n                    models.push(attrs);\n                }\n            });\n\n            return models;\n        }\n    });\n\n    return {\n        ExporterModel: ExporterModel,\n        ExporterCollection: ExporterCollection\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/paginator',[\n    'underscore',\n    'backbone',\n    '../core'\n], function(_, Backbone, c) {\n\n    var PaginatorMixin = {\n        comparator: 'page_num',\n\n        refresh: function() {\n            var url = _.result(this, 'url');\n\n            if (this.pending) {\n                // Request already being made, otherwise abort\n                if (url === this.pending.url) return;\n\n                if (this.pending.abort) {\n                    this.pending.abort();\n                }\n            }\n\n            var _this = this;\n\n            this.pending = this.fetch({\n                reset: true\n            }).done(function() {\n                delete _this.pending;\n                _this.setCurrentPage(_this.models[0].id);\n            });\n\n            // This is a deferred and does not contain any of the\n            // ajax settings, so we set the url for later reference.\n            this.pending.url = url;\n        },\n\n        // Parses the initial fetch which is a single page, resets if necessary\n        parse: function(resp, options) {\n            if (!options.reset) {\n                // TODO Smartly shuffle pages when only the size changes.\n                // The data is not invalid, just broken up differently.\n                this.reset(null, {\n                    silent: true\n                });\n            }\n\n            this.perPage = resp.per_page;   // jshint ignore:line\n            this.trigger('change:pagesize', this, this.perPage);\n            this.numPages = resp.num_pages; // jshint ignore:line\n            this.trigger('change:pagecount', this, this.numPages);\n            this.objectCount = resp.object_count;   // jshint ignore:line\n            this.trigger('change:objectcount', this, this.objectCount);\n            this.currentPageNum = null;\n            this.setCurrentPage(resp.page_num); // jshint ignore:line\n\n            return [resp];\n        },\n\n        // Ensures `num` is within the bounds\n        hasPage: function(num) {\n            return (1 <= num && num <= this.numPages);\n        },\n\n        // Checks the a _next_ page exists for num (or the current page)\n        hasNextPage: function(num) {\n            if (!num) num = this.currentPageNum;\n\n            return num < this.numPages;\n        },\n\n        // Checks the a _previous_ page exists for num (or the current page)\n        hasPreviousPage: function(num) {\n            if (!num) num = this.currentPageNum;\n\n            return num > 1;\n        },\n\n        // Set the current page which triggers the 'change:page' event\n        setCurrentPage: function(num) {\n            if (num === this.currentPageNum) return;\n\n            if (!this.hasPage(num)) {\n                throw new Error('Cannot set the current page out of bounds');\n            }\n\n            this.previousPageNum = this.currentPageNum;\n            this.currentPageNum = num;\n\n            return this.trigger.apply(this, ['change:currentpage', this].concat(\n                [].slice.call(this.getCurrentPageStats())));\n        },\n\n        // Gets or fetches the page for num, if options.active is true\n        // the page is set as the current one.\n        // If the page does not already exist, the model is created, added\n        // to the collected and fetched. Once fetched, the page is resolved.\n        getPage: function(num, options) {\n            if (!options) options = {};\n\n            if (!this.hasPage(num)) return;\n\n            var model = this.get(num);\n            if (!model && options.load !== false) {\n                model = new this.model({\n                    page_num: num       // jshint ignore:line\n                });\n\n                model.pending = true;\n                this.add(model);\n\n                model.fetch().done(function() {\n                    delete model.pending;\n                });\n            }\n\n            if (model && options.active !== false) {\n                this.setCurrentPage(num);\n            }\n\n            return model;\n        },\n\n        getCurrentPage: function(options) {\n            return this.getPage(this.currentPageNum, options);\n        },\n\n        getFirstPage: function(options) {\n            return this.getPage(1, options);\n        },\n\n        getLastPage: function(options) {\n            return this.getPage(this.numPages, options);\n        },\n\n        // Gets the next page relative to the current page\n        getNextPage: function(num, options) {\n            if (!num) num = this.currentPageNum;\n\n            return this.getPage(num + 1, options);\n        },\n\n        // Gets the previous page relative to the current page\n        getPreviousPage: function(num, options) {\n            if (!num) num = this.currentPageNum;\n\n            return this.getPage(num - 1, options);\n        },\n\n        // Checks if the current page is pending. Use of this check prevents\n        // stampeding the server with requests if the current one has not\n        // responded yet.\n        pageIsLoading: function(num) {\n            if (!num) num = this.currentPageNum;\n\n            var page = this.getPage(num, {\n                active: false,\n                load: false\n            });\n\n            if (page) {\n                return !!page.pending;\n            }\n        },\n\n        getPageCount: function() {\n            return this.numPages;\n        },\n\n        getCurrentPageStats: function() {\n            return [\n                this.currentPageNum, {\n                    previous: this.previousPageNum,\n                    first: this.currentPageNum === 1,\n                    last: this.currentPageNum === this.numPages\n                }\n            ];\n        }\n\n    };\n\n    // Provides the facility for fetching it's own clice of content based on\n    // the collection it's contained in.\n    var Page = Backbone.Model.extend({\n        idAttribute: 'page_num',\n\n        url: function() {\n            var url = _.result(this.collection, 'url');\n            return c.utils.alterUrlParams(url, {\n                page: this.id,\n                per_page: this.collection.perPage   // jshint ignore:line\n            });\n        }\n    });\n\n    // Paginator collection for managing its pages\n    var Paginator = Backbone.Collection.extend({\n        model: Page\n    });\n\n    _.extend(Paginator.prototype, PaginatorMixin);\n\n    return {\n        PaginatorMixin: PaginatorMixin,\n        Page: Page,\n        Paginator: Paginator\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/view',[\n    'underscore',\n    'backbone',\n    '../core',\n    './base'\n], function(_, Backbone, c, base) {\n\n    var Facet = Backbone.Model.extend({\n        idAttribute: 'concept'\n    });\n\n    var Facets = Backbone.Collection.extend({\n        model: Facet\n    });\n\n    var ViewModel = base.Model.extend({\n        constructor: function() {\n            this.facets = new Facets();\n\n            // HACK: Convert columns in facets with the specific sets of\n            // models. This is until the facets API is supported on the server.\n            this.on('change:json', function(model, value) {\n                return this.jsonToFacets(value);\n            });\n\n            base.Model.prototype.constructor.apply(this, arguments);\n        },\n\n        initialize: function() {\n            var _this = this;\n\n            this.on('request', function() {\n                return c.trigger(c.VIEW_SYNCING, this);\n            });\n\n            this.on('sync', function(model, attrs, options) {\n                if (!options) options = {};\n\n                if (options.silent !== true) {\n                    return c.trigger(c.VIEW_SYNCED, this, 'success');\n                }\n            });\n\n            this.on('error', function() {\n                return c.trigger(c.VIEW_SYNCED, this, 'error');\n            });\n\n            this.on('change', function() {\n                return c.trigger(c.VIEW_CHANGED, this);\n            });\n\n            return c.on(c.VIEW_SAVE, function(id) {\n                if (_this.id === id || !id && _this.isSession()) {\n                    return _this.save();\n                }\n            });\n        },\n\n        isSession: function() {\n            return this.get('session');\n        },\n\n        isArchived: function() {\n            return this.get('archived');\n        },\n\n        toJSON: function() {\n            var attrs = base.Model.prototype.toJSON.apply(this, arguments);\n            attrs.json = this.facetsToJSON();\n            return attrs;\n        },\n\n        parse: function(attrs) {\n            base.Model.prototype.parse.apply(this, arguments);\n            this.jsonToFacets(attrs.json);\n            return attrs;\n        },\n\n        jsonToFacets: function(json) {\n            if (!json) json = {};\n\n            // Implies this is an array of object, set directly. This is for\n            // forwards compatibility.\n            if (_.isArray(json)) {\n                this.facets.reset(json);\n                return;\n            }\n\n            var attrs, id, order;\n            var models = [];\n            var columns = json.columns || [];\n            var ordering = json.ordering || [];\n\n            for (var i = 0; i < columns.length; i++) {\n                id = columns[i];\n                attrs = {\n                    concept: id\n                };\n\n                for (var j = 0; j < ordering.length; j++) {\n                    order = ordering[j];\n\n                    if (id === order[0]) {\n                        attrs.sort = order[1];\n                        attrs.sort_index = j;       // jshint ignore:line\n                    }\n                }\n\n                models.push(attrs);\n            }\n\n            return this.facets.reset(models);\n        },\n\n        facetsToJSON: function() {\n            var json = {\n                ordering: [],\n                columns: []\n            };\n\n            this.facets.each(function(model) {\n                var direction, index, sort;\n\n                json.columns.push(model.get('concept'));\n\n                if ((direction = model.get('sort'))) {\n                    index = model.get('sort_index');\n                    sort = [model.get('concept'), direction];\n                    return json.ordering.splice(index, 0, sort);\n                }\n            });\n\n            return json;\n        }\n    });\n\n    var ViewCollection = base.SessionCollection.extend({\n        model: ViewModel\n    });\n\n    return {\n        ViewModel: ViewModel,\n        ViewCollection: ViewCollection\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/query',[\n    './base',\n    '../core',\n    './context',\n    './view'\n], function(base, c, context, view) {\n\n\n    var Query = base.Model.extend({\n        constructor: function(attrs, options) {\n            attrs = attrs || {};\n\n            // Use this.model.context.attributes.json to retrive query filters as\n            // of this change.\n            this.context = new context.Context({json: attrs.context_json}); // jshint ignore:line\n            this.view = new view.ViewModel({json: attrs.view_json}); // jshint ignore:line\n\n            base.Model.prototype.constructor.call(this, attrs, options);\n        },\n\n        parse: function(attrs, options) {\n            if (attrs) {\n                if (attrs && !attrs.shared_users) {  // jshint ignore:line\n                    attrs.shared_users = [];  // jshint ignore:line\n                }\n\n                this.context.set({json: attrs.context_json}); // jshint ignore:line\n                this.view.set({json: attrs.view_json}); // jshint ignore:line\n            }\n\n            return base.Model.prototype.parse.call(this, attrs, options);\n        }\n    });\n\n\n    var Queries = base.Collection.extend({\n        model: Query\n    });\n\n\n    return {\n        Query: Query,\n        Queries: Queries\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/constants',{\n\n    // The delay before trigging an event after a user enters text. This\n    // includes standard input and textarea elements. In practice this\n    // is generally like _.debounce(f, consts.INPUT_DELAY). The intent of\n    // defining this is to ensure a consistent UX across inputs.\n    INPUT_DELAY: 400,\n\n    // The delay before triggering an event after a user clicks on a button\n    // or anchor elements.\n    CLICK_DELAY: 300,\n\n    // The delay before triggering a new request. This is used to debounce\n    // controls that make requests for new data(such as the paginator) so that\n    // rapid input from the user doesn't result is an immediate request but\n    // instead can be used to only respond to the users last request.\n    REQUEST_DELAY: 250\n\n});\n\n","/* global define */\n\ndefine('cilantro/structs',[\n    'underscore',\n    'backbone',\n    './models/base'\n], function(_, Backbone, base) {\n\n    var Index = Backbone.Model.extend({\n        defaults: {\n            visible: true\n        },\n\n        show: function() {\n            this.set({\n                visible: true\n            });\n        },\n\n        hide: function() {\n            this.set({\n                visible: false\n            });\n        }\n    });\n\n    var Indexes = Backbone.Collection.extend({\n        model: Index\n    });\n\n    var Datum = Backbone.Model.extend({\n        constructor: function(attrs, index, options) {\n            if (!(index instanceof Index)) {\n                index = new Index(index);\n            }\n\n            this.index = index;\n\n            Backbone.Model.prototype.constructor.call(this, attrs, options);\n        },\n\n        size: function() {\n            return 1;\n        },\n\n        width: function() {\n            return 1;\n        }\n    });\n\n    // A collection of Datum objects which serves as an internal container for\n    // the Series.\n    var _DatumArray = Backbone.Collection.extend({\n        constructor: function(attrs, indexes, options) {\n            this.indexes = indexes;\n\n            var _this = this;\n\n            this.model = function(value, options) {\n                // Collections length are not updated immediately so this uses the\n                // internal hash to determine the next index.\n                var index = _this.indexes.at(_.keys(_this._byId).length);\n\n                Datum.prototype.constructor.call(this, {value: value}, index, options);\n            };\n\n            this.model.prototype = Datum.prototype;\n\n            Backbone.Collection.prototype.constructor.call(this, attrs, options);\n        }\n    });\n\n    var Series = Backbone.Model.extend({\n        constructor: function(attrs, indexes, options) {\n            var data;\n\n            if (!options) options = {};\n\n            if (!(indexes instanceof Indexes)) {\n                indexes = new Indexes(indexes);\n            }\n\n            this.indexes = indexes;\n\n            if (_.isArray(attrs)) {\n                data = attrs;\n                attrs = null;\n            }\n            else {\n                options.parse = true;\n            }\n\n            this.data = new _DatumArray(data, indexes);\n\n            Backbone.Model.prototype.constructor.call(this, attrs, options);\n        },\n\n        parse: function(resp, options) {\n            this.data.reset(resp.values, options);\n            delete resp.values;\n            return resp;\n        },\n\n        isColumn: function() {\n            return this.width() === 1;\n        },\n\n        isRow: function() {\n            return !this.isColumn();\n        },\n\n        size: function() {\n            if (this.isColumn()) {\n                return this.data.length;\n            }\n\n            return 1;\n        },\n\n        width: function() {\n            return this.indexes.length;\n        }\n    });\n\n    // Collection of Series objects that serves as an internal container for\n    // the Frame object.\n    var _SeriesArray = Backbone.Collection.extend({\n        constructor: function(attrs, indexes, options) {\n            this.indexes = indexes;\n\n            var _this = this;\n\n            this.model = function(attrs, options) {\n                Series.prototype.constructor.call(this, attrs, _this.indexes, options);\n            };\n\n            this.model.prototype = Series.prototype;\n\n            Backbone.Collection.prototype.constructor.call(this, attrs, options);\n        }\n    });\n\n    var Frame = base.Model.extend({\n        constructor: function(attrs, indexes, options) {\n            var data;\n\n            if (!options) options = {};\n\n            if (!(indexes instanceof Indexes)) {\n                indexes = new Indexes(indexes);\n            }\n\n            this.indexes = indexes;\n\n            if (_.isArray(attrs)) {\n                data = attrs;\n                attrs = null;\n            }\n            else {\n                options.parse = true;\n            }\n\n            this.series = new _SeriesArray(data, indexes);\n\n            base.Model.prototype.constructor.call(this, attrs, options);\n        },\n\n        parse: function(resp, options) {\n            base.Model.prototype.parse.call(this, resp, options);\n\n            this.indexes.reset(resp.keys, options);\n            this.series.reset(resp.objects, options);\n\n            delete resp.keys;\n            delete resp.objects;\n\n            return resp;\n        },\n\n        size: function() {\n            return this.series.length;\n        },\n\n        width: function() {\n            return this.indexes.length;\n        },\n\n        column: function(index) {\n            var data = this.series.map(function(series) {\n                return series.data.at(index);\n            });\n\n            return new Series(data, this.indexes.at(index));\n        }\n    });\n\n    var FrameArray = base.Collection.extend({\n        model: Frame,\n\n        constructor: function(attrs, options) {\n            this.indexes = new Indexes();\n\n            this.on('reset', function(collection) {\n                var model = collection.models[0];\n\n                if (model) {\n                    return this.indexes.reset(model.indexes.models);\n                }\n            });\n\n            this.on('add', function(model, collection) {\n                if (collection.length === 1) {\n                    return this.indexes.reset(model.indexes.models);\n                }\n            });\n\n            base.Collection.prototype.constructor.call(this, attrs, options);\n        }\n    });\n\n    return {\n        Datum: Datum,\n        Frame: Frame,\n        FrameArray: FrameArray,\n        Index: Index,\n        Indexes: Indexes,\n        Series: Series\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/results',[\n    'underscore',\n    '../core',\n    '../constants',\n    '../structs',\n    './paginator'\n], function(_, c, constants, structs, paginator) {\n\n    var ResultsPage = structs.Frame.extend({\n        idAttribute: 'page_num',\n\n        url: function() {\n            var url = _.result(this.collection, 'url');\n\n            return c.utils.alterUrlParams(url, {\n                page: this.id,\n                per_page: this.collection.perPage   // jshint ignore:line\n            });\n        }\n    });\n\n    // Array of result frames (pages). The first fetch sets the state of the\n    // collection including the frame size, number of possible frames, etc. A\n    // refresh resets the collection as well as changes to the frame size.\n    var Results = structs.FrameArray.extend({\n        initialize: function() {\n            _.bindAll(this, 'fetch', 'markAsDirty', 'onWorkspaceUnload',\n                      'onWorkspaceLoad', 'refresh');\n\n            // We start in a dirty state because initially, we have not\n            // retrieved the results yet so the view and context are\n            // technically out of sync with this results collection since the\n            // collection is empty and the server may have results.\n            this.isDirty = true;\n            this.isWorkspaceOpen = false;\n\n            // Debounce refresh to ensure changes are reflected up to the last\n            // trigger. This is specifically important when the context and\n            // view are saved simultaneously. The refresh will trigger after\n            // the second.\n            this._refresh = _.debounce(this.refresh, constants.CLICK_DELAY);\n\n            c.on(c.VIEW_SYNCED, this.markAsDirty);\n            c.on(c.CONTEXT_SYNCED, this.markAsDirty);\n\n            this.on('workspace:load', this.onWorkspaceLoad);\n            this.on('workspace:unload', this.onWorkspaceUnload);\n        },\n\n        onWorkspaceLoad: function() {\n            this.isWorkspaceOpen = true;\n            this._refresh();\n        },\n\n        onWorkspaceUnload: function() {\n            this.isWorkspaceOpen = false;\n        },\n\n        markAsDirty: function() {\n            this.isDirty = true;\n            this._refresh();\n        },\n\n        fetch: function(options) {\n            if (!options) options = {};\n\n            var data;\n            if ((data = c.config.get('session.defaults.data.preview'))) {\n                options.type = 'POST';\n                options.contentType = 'application/json';\n                options.data = JSON.stringify(data);\n            }\n\n            if (this.isDirty && this.isWorkspaceOpen) {\n                // Since we are making the fetch call immediately below, the\n                // data will be synced again to the current view/context to\n                // mark the results as clean for the time being.\n                this.isDirty = false;\n\n                if (options.cache === undefined) {\n                    options.cache = false;\n                }\n\n                return structs.FrameArray.prototype.fetch.call(this, options);\n            }\n            else {\n                // If the results aren't dirty or the workspace isn't open then\n                // we simply abort this fetch call and remove the pending flag.\n                // If we do not include this done method then calls from\n                // refresh() to fetch that don't actually result in a call to\n                // the server will never call the done() handler in the\n                // refresh() call to fetch().\n                var _this = this;\n                return {\n                    done: function() {\n                        return delete _this.pending;\n                    }\n                };\n            }\n        }\n    });\n\n    // Mix-in paginator functionality for results.\n    _.extend(Results.prototype, paginator.PaginatorMixin);\n\n    // Override the default getPage behavior to respect the preview config\n    // options. Without this, requests for different pages will not use the\n    // view set in the config option and will use the session view instead\n    // resulting in disparity between the first page and all other pages.\n    Results.prototype.getPage = function(num, options) {\n        if (!options) options = {};\n\n        if (!this.hasPage(num)) return;\n\n        var model = this.get(num);\n        if (!model && options.load !== false) {\n            model = new this.model({\n                page_num: num       // jshint ignore:line\n            });\n\n            model.pending = true;\n            this.add(model);\n\n            var fetchOptions = {},\n                data;\n            if ((data = c.config.get('session.defaults.data.preview'))) {\n                fetchOptions.type = 'POST';\n                fetchOptions.contentType = 'application/json';\n                fetchOptions.data = JSON.stringify(data);\n            }\n            model.fetch(fetchOptions).done(function() {\n                delete model.pending;\n            });\n        }\n\n        if (model && options.active !== false) {\n            this.setCurrentPage(num);\n        }\n\n        return model;\n    };\n\n    // Set the custom model for this Paginator.\n    Results.prototype.model = ResultsPage;\n\n    return {\n        Results: Results\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/stats',[\n    './base'\n], function(base) {\n\n    var Count = base.Model.extend({});\n\n    var CountCollection = base.Collection.extend({\n        model: Count\n    });\n\n    var Stats = base.Model.extend({\n        constructor: function() {\n            this.counts = new CountCollection();\n\n            base.Model.prototype.constructor.apply(this, arguments);\n        },\n\n        parse: function(resp, options) {\n            base.Model.prototype.parse.call(this, resp, options);\n\n            if (this.links.counts) {\n                var _this = this;\n\n                this.counts.url = function() {\n                    return _this.links.counts;\n                };\n                this.counts.fetch({reset: true});\n            }\n        }\n    });\n\n    return {\n        Stats: Stats\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models/value',[\n    'underscore',\n    'backbone',\n    '../structs',\n    '../constants'\n], function(_, Backbone, structs, constants) {\n\n    // Represents a value as defined in a query condition. For a given list of\n    // values, a value can not be specified twice, so it is treated\n    // as the `id`.\n    var Value = Backbone.Model.extend({\n        idAttribute: 'label',\n\n        defaults: {\n            valid: null,\n            pending: false\n        },\n\n        // Disable. Instances are created via the `Values` collection.\n        fetch: function() {},\n\n        // The upstream use of this will be to represent an array of values.\n        // If the label is not necessary, the `flat=true` can be set to return\n        // only the value.\n        toJSON: function(options) {\n            if (options && options.flat) {\n                return this.pluck('value');\n            }\n\n            return this.pick('value', 'label');\n        },\n\n        // Override to remove itself from the collection bypassing any\n        // server-side call.\n        destroy: function(options) {\n            this.trigger('destroy', this, this.collection, options);\n        }\n    });\n\n\n    // Collection of selected values, fetch is disabled, create performs no\n    // server-side request.\n    var Values = Backbone.Collection.extend({\n        model: Value,\n\n        options: {\n            check: true\n        },\n\n        initialize: function(models, options) {\n            options = _.extend({}, this.options, options || {});\n\n            // If values must be checked, bind to the add event\n            if (options.check) {\n                this.on('add reset', _.debounce(this.check, constants.INPUT_DELAY));\n            }\n        },\n\n        fetch: function() {},\n\n        create: function(model, options) {\n            this.add(model, options);\n        },\n\n        check: function() {\n            var models = this.where({valid: null, pending: false});\n\n            // Nothing to check\n            if (!models.length || !this.url) return;\n\n            // Mark the models as pending to prevent redundant validation.\n            _.each(models, function(model) {\n                model.set('pending', true, {silent: true});\n            });\n            this.trigger('change');\n\n            var _this = this;\n\n            Backbone.ajax({\n                url: this.url(),\n                type: 'POST',\n                data: JSON.stringify(models),\n                contentType: 'application/json',\n                success: function(resp) {\n                    // Don't add since the value could have been removed\n                    // in the meantime. Don't remove since this may only\n                    // represent a subset of values in the collection.\n                    _this.set(resp, {add: false, remove: false, silent: true});\n                },\n\n                complete: function() {\n                    // Mark the models as not pending when the request\n                    // has completed regardless if the request succeeded\n                    // or failed.\n                    _.each(models, function(model) {\n                        model.set('pending', false, {silent: true});\n                    });\n                    _this.trigger('change');\n                }\n            });\n        }\n    });\n\n\n    return {\n        Value: Value,\n        Values: Values\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/models',[\n    'underscore',\n    './models/base',\n    './models/concept',\n    './models/context',\n    './models/exporter',\n    './models/field',\n    './models/filters',\n    './models/paginator',\n    './models/query',\n    './models/results',\n    './models/stats',\n    './models/value',\n    './models/view'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(null, [{}].concat(mods));\n\n});\n\n","/* global define, require */\n\n/*\nRouter requirements:\n- Shared \"main\" area\n    - Workflows (pages) are hidden rather than closed\n\n\nvar router = new Backbone.Router({\n\n    // Standard routes map\n    routes: {\n        'workspace/': 'workspace',\n        'query/': 'query',\n        'results/:query_id/': 'query',\n        'results/': 'results'\n    },\n\n    // Map handler name to the route name which enables registering\n    // multiple handlers per route.\n    handlers: {\n        'workspace': 'workspace',\n        'query': 'query',\n        'loadQuery': 'query',\n        'results': 'results'\n    }\n});\n\n// Dispatch to all handlers that are listening\nrouter.on('route:workspace', function() {\n\n});\n\n*/\n\n\ndefine('cilantro/router',[\n    'backbone',\n    'underscore',\n    'loglevel'\n], function(Backbone, _, loglevel) {\n\n\n    // Multi-handler router that\n    var Router = Backbone.Router.extend({\n        options: {\n            main: 'body',\n            root: null\n        },\n\n        initialize: function(options) {\n            this.options = _.extend({}, _.result(this, 'options'), options);\n\n            // Array of named views that are currently loaded based on the\n            // current route. TODO not needed?\n            this._loaded = [];\n\n            // Map of paths to an array of named views registered for that path\n            this._routes = {};\n\n            // Map of internal handlers per path that handles unloading the previous\n            // routes and loading the ones that match the path\n            this._handlers = {};\n\n            // Map of registered views by name/id\n            this._registered = {};\n\n            _.bindAll(this, '_unloadAll', '_loadAll', '_unload', '_load', '_render');\n        },\n\n        // Unload all views that are currently loaded\n        _unloadAll: function() {\n            var args = [].slice.call(arguments);\n\n            _.each(this._loaded.slice(), function(id) {\n                this._unload.apply(this, [this._registered[id], false].concat(args));\n            }, this);\n        },\n\n        // Load all views registered the route\n        _loadAll: function(route) {\n            var ids = this._routes[route];\n            if (!ids) return;\n\n            var args = [].slice.call(arguments, 1);\n\n            _.each(ids, function(id) {\n                this._load.apply(this, [this._registered[id]].concat(args));\n            }, this);\n        },\n\n        _unload: function(route, force) {\n            if (force === undefined) force = true;\n\n            var index = this._loaded.indexOf(route.id);\n\n            if (route.route || (force && index >= 0)) {\n                this._loaded.splice(index, 1);\n\n                if (route._view) {\n                    route._view.$el.hide();\n\n                    var args = [].slice.call(arguments, 2);\n\n                    route._view.trigger.apply(route._view, [\n                        'router:unload',\n                        this,\n                        Backbone.history.fragment\n                    ].concat(args));\n                }\n            }\n        },\n\n        _load: function(options) {\n            var args = [].slice.call(arguments, 1);\n\n            // If the view has not be loaded before, check if it's a\n            // module string and load asynchronously\n            if (!options._view) {\n                if (_.isString(options.view)) {\n                    var _this = this;\n\n                    require([options.view], function(View) {\n                        options._view = new View(options.options);\n                        _this._render.apply(_this, [options].concat(args));\n                        _this._loaded.push(options.id);\n                    }, function(err) {\n                        loglevel.error(err);\n                    });\n                    return;\n                }\n\n                options._view = options.view;\n            }\n\n            this._render.apply(this, [options].concat(args));\n            this._loaded.push(options.id);\n        },\n\n        _render: function(options) {\n            var args = [].slice.call(arguments, 1);\n\n            var view = options._view;\n\n            if (!view._rendered) {\n                view._rendered = true;\n\n                if (options.el !== false) {\n                    var target;\n\n                    if (options.el) {\n                        target = Backbone.$(options.el, this.options.main);\n                    }\n                    else {\n                        target = Backbone.$(this.options.main);\n                    }\n\n                    target.append(view.el);\n                    view.render();\n                }\n            }\n\n            view.$el.show();\n            view.trigger.apply(view, [\n                'router:load',\n                this,\n                Backbone.history.fragment\n            ].concat(args));\n        },\n\n        _register: function(options) {\n            if (this._registered[options.id]) {\n                throw new Error('Route \"' + options.id + '\" already registered');\n            }\n\n            // Clone since the options options will be augmented\n            options = _.clone(options);\n\n            // Non-routable view.. immediately load and only once\n            if (!options.route) {\n                this._load(options);\n            }\n            else if (!this._handlers[options.route]) {\n                this._routes[options.route] = [];\n\n                var handler = _.bind(function() {\n                    var args = [].slice.call(arguments);\n                    this._unloadAll.apply(this, args);\n                    this._loadAll.apply(this, [options.route].concat(args));\n                }, this);\n\n                this._handlers[options.route] = handler;\n                this.route(options.route, options.id, handler);\n            }\n\n            if (options.route) this._routes[options.route].push(options.id);\n\n            this._registered[options.id] = options;\n        },\n\n        // Returns a route config by id\n        get: function(id) {\n            return this._registered[id];\n        },\n\n        // Returns true if the route config is registered with this router and\n        // is navigable.\n        isNavigable: function(id) {\n            var config = this.get(id);\n            return config && config.navigable !== false;\n        },\n\n        // Checks if the current fragment or id is currently routed\n        isCurrent: function(fragment) {\n            if (fragment === Backbone.history.fragment) return true;\n\n            var ids = this._routes[Backbone.history.fragment] || [];\n\n            return _.any(ids, function(id) {\n                return fragment === id;\n            });\n        },\n\n        // Returns true if the supplied route is in the list of routes known\n        // to this router and false if it isn't known to this router.\n        hasRoute: function(route) {\n            return this._routes.hasOwnProperty(route);\n        },\n\n        // Attempt to get the corresponding config if one exists and use\n        // the route specified on the config. This provides a means of\n        // aliasing a name/key to a particular route.\n        navigate: function(fragment, options) {\n            if (this.isNavigable(fragment)) {\n                fragment = this.get(fragment).route;\n            }\n\n            return Backbone.Router.prototype.navigate.call(this, fragment, options);\n        },\n\n        // Register one or more routes\n        register: function(routes) {\n            if (!routes) return;\n            if (!_.isArray(routes)) routes = [routes];\n\n            _.each(routes, function(options) {\n                if (options.view) this._register(options);\n            }, this);\n        },\n\n        // Unregister a route by id or all registered routes\n        unregister: function(id) {\n            if (id === undefined) {\n                _.each(this._registered, function(value, id) {\n                    this.unregister(id);\n                }, this);\n\n                return;\n            }\n\n            var options = this._registered[id];\n\n            if (!options) throw new Error('No route registered by id \"' + id + '\"');\n\n            this._unload(options);\n            delete this._registered[id];\n\n            var routes = this._routes[options.route];\n\n            if (routes && routes.indexOf(id) >= 0) {\n                this._routes[options.route].splice(routes.indexOf(id), 1);\n            }\n        },\n\n        // Shortcut for starting the Backbone.history\n        start: function(options) {\n            if (Backbone.History.started) return;\n\n            var root = this.options.root || '/';\n\n            if (root.charAt(root.length - 1) !== '/') root = root + '/';\n\n            options = _.extend({root: root, pushState: true}, options);\n\n            return Backbone.history.start(options);\n        }\n    });\n\n\n    return {\n        Router: Router\n    };\n\n\n});\n\n","/* global define, require */\n\ndefine('cilantro/session',[\n    'jquery',\n    'underscore',\n    'backbone',\n    './models',\n    './utils',\n    './router',\n    './core'\n], function($, _, Backbone, models, utils, router, c) {\n\n    var events = {\n        SESSION_OPENING: 'session:opening',\n        SESSION_ERROR: 'session:error',\n        SESSION_UNAUTHORIZED: 'session:unauthorized',\n        SESSION_OPENED: 'session:opened',\n        SESSION_CLOSED: 'session:closed'\n    };\n\n\n    // Mapping of Serrano resource links to corresponding collections or models.\n    var collectionLinkMap = {\n        concepts: models.Concepts,\n        fields: models.FieldCollection,\n        contexts: models.ContextCollection,\n        views: models.ViewCollection,\n        preview: models.Results,\n        exporter: models.ExporterCollection,\n        queries: models.Queries,\n        public_queries: models.Queries,  // jshint ignore:line\n        stats: models.Stats\n    };\n\n\n    /*\n    A session opens a connection with a Serrano-compatible API endpoint and\n    uses the response to drive the application state. All the necessary data,\n    views, router and other state that is specific to a particular endpoint\n    is stored here. The lifecycle of a session involves:\n\n        - validating the options\n        - requesting the root endpoint of API (with optional authentication)\n        - initializing the collections supported by the API\n        - fetching the collection data in the background\n        - initializing a router and registering top-level routes and views\n    */\n    var Session = models.Model.extend({\n        idAttribute: 'url',\n\n        options: function() {\n            return c.config.get('session.defaults');\n        },\n\n        initialize: function(attrs, options) {\n            this.options = _.extend({}, _.result(this, 'options'), options);\n\n            this.opened = false;\n            this.started = false;\n            this.opening = false;\n\n            this.state = {};\n\n            _.bindAll(this, 'ping', 'startPing', 'stopPing');\n        },\n\n        // Ensure a url is defined when the session is initialized\n        // or updated (using set). See http://backbonejs.org///Model-validate\n        // for details.\n        validate: function(attrs) {\n            if (!attrs || !attrs.url) return 'url is required';\n        },\n\n        startPing: function() {\n            // Only if the ping endpoint is available and has a non-falsy ping interval\n            if (this.links.ping && this.options.ping && !this._ping) {\n                this.ping();\n                this._ping = setInterval(this.ping, this.options.ping);\n            }\n        },\n\n        stopPing: function() {\n            clearTimeout(this._ping);\n            delete this._ping;\n        },\n\n        ping: function() {\n            var _this = this;\n\n            Backbone.ajax({\n                type: 'GET',\n                url: this.links.ping,\n                dataType: 'json',\n                success: function(resp) {\n                    if (resp.status === 'timeout') {\n                        _this.stopPing();\n                        _this.timeout(resp.location);\n                    }\n                },\n\n                error: function(xhr, status, error) {\n                    _this.stopPing();\n\n                    // Handle redirect\n                    if (error === 'FOUND') {\n                        _this.timeout(xhr.getResponseHeader('Location'));\n                    }\n                }\n            });\n        },\n\n        timeout: function(loc) {\n            var message;\n\n            if (loc) {\n                message = 'Your session timed out. Please ' +\n                          '<a href=\"' + loc + '\">refresh the page</a>.';\n            } else {\n                message = 'Your session timed out. Please refresh the page.';\n            }\n\n            c.notify({\n                header: 'Session Timeout',\n                message: message,\n                dismissable: false,\n                timeout: false,\n                level: 'warning'\n            });\n\n            // Auto-refresh after some time\n            setTimeout(function() {\n                if (loc) {\n                    window.location = loc;\n                }\n                else {\n                    // `true` argument forces a fetch from the server rather\n                    // than using local cache.\n                    window.location.reload(true);\n                }\n            }, 5000);\n        },\n\n        parse: function(attrs) {\n            attrs = attrs || {};\n\n            // Title of the API\n            this.title = attrs.title;\n\n            // Version of the API\n            this.version = attrs.version;\n\n            // Iterate over the available resource links and initialize\n            // the corresponding collection with the URL\n            this.data = {};\n\n            var Collection;\n\n            _.each(attrs._links, function(link, name) {\n                if ((Collection = collectionLinkMap[name])) {\n                    this.data[name] = new Collection();\n                    this.data[name].url = link.href;\n                    this.data[name].fetch({reset: true});\n                }\n            }, this);\n\n            // Define router with the main element and app root based on\n            // the global configuration\n            this.router = new router.Router({\n                main: c.config.get('main'),\n                root: c.config.get('root')\n            });\n\n            // Register pre-defined routes\n            var routes = this.get('routes');\n\n            if (routes) {\n                // String indicates external module, load and register\n                if (typeof routes === 'string') {\n                    var _this = this;\n\n                    require([routes], function(routes) {\n                        _this.router.register(routes);\n                    });\n                } else {\n                    if (typeof routes === 'function') {\n                        routes = routes();\n                    }\n\n                    this.router.register(routes);\n                }\n            }\n\n            return attrs;\n        },\n\n        // Opens a session. This sends a request to the target URL which is\n        // assumed to be the root resource of a Serrano-compatible API. If\n        // credentials are supplied, the request will be a POST with the\n        // credentials supplied as JSON. A successful response will _ready_\n        // the session for use.\n        open: function() {\n            // Session already opened or opening, return a promise\n            if (this.opened || this.opening) return this._opening.promise();\n\n            // Ensure the session is valid before opening\n            if (!this.isValid()) throw new Error(this.validationError);\n\n            // Set state and create deferred that will be used for creating\n            // promises while the session is opening and after it is opened\n            // to maintain a consistent interface.\n            this.opening = true;\n            this._opening = $.Deferred();\n\n            var options = {\n                url: this.get('url'),\n                type: 'GET',\n                dataType: 'json'\n            };\n\n            // If credentials switch to POST and add the credentials\n            var credentials = this.get('credentials');\n\n            if (credentials) {\n                $.extend(options, {\n                    type: 'POST',\n                    contentType: 'application/json',\n                    data: JSON.stringify(credentials)\n                });\n            }\n\n            var _this = this;\n\n            this.fetch(options)\n                .always(function() {\n                    _this.opening = false;\n                })\n                .done(function(resp, status, xhr) {\n                    _this.opened = true;\n                    _this._opening.resolveWith(_this, [_this, resp, status, xhr]);\n                })\n                .fail(function(xhr, status, error) {\n                    _this.error = error;\n                    _this._opening.rejectWith(_this, [this, xhr, status, error]);\n                });\n\n            return this._opening.promise();\n        },\n\n        // Closing a session will remove the cached data and require it to be\n        // opened again.\n        close: function() {\n            this.end();\n            this.opening = this.opened = false;\n\n            // Reset all session data to deference models.\n            _.each(this.data, function(item) {\n                // Can't guarantee that all the session data elements are\n                // collections so check for reset before calling it to avoid\n                // calling reset on models.\n                if (item.reset) {\n                    item.reset();\n                }\n                else {\n                    item.clear();\n                }\n\n                delete item.url;\n            });\n\n            delete this._opening;\n            delete this.data;\n        },\n\n        // Starts/enables the session.\n        start: function(routes, options) {\n            // Already started, return false denoting the start was not successful\n            if (this.started) return false;\n\n            if (!this.opened) throw new Error('Session must be opened before loaded');\n\n            this.started = true;\n\n            if (routes) this.router.register(routes);\n\n            // Start the router history\n            this.router.start(options);\n            this.startPing();\n\n            // When the page loses focus, stop pinging, resume when visibility is regained\n            this.listenTo(c, {\n                visible: this.startPing,\n                hidden: this.stopPing,\n                focus: this.startPing,\n                blur: this.stopPing\n            });\n\n            if (!c.isSupported(c.getSerranoVersion())) {\n                c.notify({\n                    header: 'Serrano Version Unsupported',\n                    level: 'warning',\n                    timeout: false,\n                    message: 'You are connecting to an unsupported version of ' +\n                             'Serrano. Some functionality may be broken or missing ' +\n                             'due to compatibility issues.'\n                });\n            }\n        },\n\n        // Ends/disables the session.\n        end: function() {\n            this.started = false;\n            this.stopPing();\n            this.stopListening(c, 'visible hidden');\n            this.router.unregister();\n        }\n    });\n\n\n    // Keeps track of sessions as they are created and switched between.\n    // The `pending` property references any session that is currently loading and will be\n    // made the active once finished. The `active` property references the\n    // currently active session if one exists.\n    var SessionManager = Backbone.Collection.extend({\n        _switch: function(session) {\n            if (this.active === session) return;\n            delete this.pending;\n\n            // End the current active session\n            this.close();\n\n            // Set session as active and start it\n            this.active = session;\n            this.trigger(events.SESSION_OPENED, session);\n        },\n\n        // Opens a session. Takes an object of options that are passed into\n        // the session constructor. The url can be passed by itself as the\n        // first argument as a shorthand method for opening sessions.\n        open: function(url, options) {\n            if (typeof url === 'object') {\n                options = url;\n            } else {\n                options = options || {};\n                options.url = url;\n            }\n\n            // Get or create the session\n            var session = this.get(options.url);\n\n            if (!session) {\n                session = new Session(options);\n                this.add(session);\n            }\n\n            // Ensure redundant calls are not being made\n            if (session !== this.active && session !== this.pending) {\n                this.pending = session;\n                this.trigger(events.SESSION_OPENING, session);\n            }\n\n            // Open returns a deferred object. If the opened session is *still*\n            // the pending session, activate it. This could not be true if the\n            // client quickly switches between available sessions and the first\n            // session has not yet responded.\n            var _this = this;\n\n            return session.open()\n                .done(function() {\n                    if (_this.pending !== session) return;\n                    _this._switch(session);\n                })\n                .fail(function(_session, xhr, status, error) {\n                    if (_this.pending !== session) return;\n\n                    _this.pending = null;\n\n                    // Select to the appropriate channel to publish on depending\n                    // if it's a forbidden, unauthorized, or general error\n                    var event;\n\n                    if (xhr.statusCode === 401 || xhr.statusCode === 403) {\n                        event = events.SESSION_UNAUTHORIZED;\n                    } else {\n                        event = events.SESSION_ERROR;\n                    }\n\n                    _this.trigger(event, session, error);\n                });\n        },\n\n        // Closes the current sessions and publishes a message\n        close: function() {\n            if (this.active) {\n                var session = this.active;\n                delete this.active;\n                this.remove(session);\n                session.close();\n                this.trigger(events.SESSION_CLOSED, session);\n            }\n        },\n\n        // Closes the current session and clears all sessions\n        clear: function() {\n            this.close();\n            this.reset();\n        }\n    });\n\n\n    return _.extend({\n        SessionManager: SessionManager,\n        Session: Session,\n        events: events\n    });\n\n\n});\n\n","/**\n * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/text for details\n */\n/*jslint regexp: true */\n/*global require, XMLHttpRequest, ActiveXObject,\n  define, window, process, Packages,\n  java, location, Components, FileUtils */\n\ndefine('text',['module'], function (module) {\n    'use strict';\n\n    var text, fs, Cc, Ci, xpcIsWindows,\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\n        xmlRegExp = /^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,\n        bodyRegExp = /<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,\n        hasLocation = typeof location !== 'undefined' && location.href,\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\:/, ''),\n        defaultHostName = hasLocation && location.hostname,\n        defaultPort = hasLocation && (location.port || undefined),\n        buildMap = {},\n        masterConfig = (module.config && module.config()) || {};\n\n    text = {\n        version: '2.0.12',\n\n        strip: function (content) {\n            //Strips <?xml ...?> declarations so that external SVG and XML\n            //documents can be added to a document without worry. Also, if the string\n            //is an HTML document, only the part inside the body tag is returned.\n            if (content) {\n                content = content.replace(xmlRegExp, \"\");\n                var matches = content.match(bodyRegExp);\n                if (matches) {\n                    content = matches[1];\n                }\n            } else {\n                content = \"\";\n            }\n            return content;\n        },\n\n        jsEscape: function (content) {\n            return content.replace(/(['\\\\])/g, '\\\\$1')\n                .replace(/[\\f]/g, \"\\\\f\")\n                .replace(/[\\b]/g, \"\\\\b\")\n                .replace(/[\\n]/g, \"\\\\n\")\n                .replace(/[\\t]/g, \"\\\\t\")\n                .replace(/[\\r]/g, \"\\\\r\")\n                .replace(/[\\u2028]/g, \"\\\\u2028\")\n                .replace(/[\\u2029]/g, \"\\\\u2029\");\n        },\n\n        createXhr: masterConfig.createXhr || function () {\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\n            var xhr, i, progId;\n            if (typeof XMLHttpRequest !== \"undefined\") {\n                return new XMLHttpRequest();\n            } else if (typeof ActiveXObject !== \"undefined\") {\n                for (i = 0; i < 3; i += 1) {\n                    progId = progIds[i];\n                    try {\n                        xhr = new ActiveXObject(progId);\n                    } catch (e) {}\n\n                    if (xhr) {\n                        progIds = [progId];  // so faster next time\n                        break;\n                    }\n                }\n            }\n\n            return xhr;\n        },\n\n        /**\n         * Parses a resource name into its component parts. Resource names\n         * look like: module/name.ext!strip, where the !strip part is\n         * optional.\n         * @param {String} name the resource name\n         * @returns {Object} with properties \"moduleName\", \"ext\" and \"strip\"\n         * where strip is a boolean.\n         */\n        parseName: function (name) {\n            var modName, ext, temp,\n                strip = false,\n                index = name.indexOf(\".\"),\n                isRelative = name.indexOf('./') === 0 ||\n                             name.indexOf('../') === 0;\n\n            if (index !== -1 && (!isRelative || index > 1)) {\n                modName = name.substring(0, index);\n                ext = name.substring(index + 1, name.length);\n            } else {\n                modName = name;\n            }\n\n            temp = ext || modName;\n            index = temp.indexOf(\"!\");\n            if (index !== -1) {\n                //Pull off the strip arg.\n                strip = temp.substring(index + 1) === \"strip\";\n                temp = temp.substring(0, index);\n                if (ext) {\n                    ext = temp;\n                } else {\n                    modName = temp;\n                }\n            }\n\n            return {\n                moduleName: modName,\n                ext: ext,\n                strip: strip\n            };\n        },\n\n        xdRegExp: /^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,\n\n        /**\n         * Is an URL on another domain. Only works for browser use, returns\n         * false in non-browser environments. Only used to know if an\n         * optimized .js version of a text resource should be loaded\n         * instead.\n         * @param {String} url\n         * @returns Boolean\n         */\n        useXhr: function (url, protocol, hostname, port) {\n            var uProtocol, uHostName, uPort,\n                match = text.xdRegExp.exec(url);\n            if (!match) {\n                return true;\n            }\n            uProtocol = match[2];\n            uHostName = match[3];\n\n            uHostName = uHostName.split(':');\n            uPort = uHostName[1];\n            uHostName = uHostName[0];\n\n            return (!uProtocol || uProtocol === protocol) &&\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\n                   ((!uPort && !uHostName) || uPort === port);\n        },\n\n        finishLoad: function (name, strip, content, onLoad) {\n            content = strip ? text.strip(content) : content;\n            if (masterConfig.isBuild) {\n                buildMap[name] = content;\n            }\n            onLoad(content);\n        },\n\n        load: function (name, req, onLoad, config) {\n            //Name has format: some.module.filext!strip\n            //The strip part is optional.\n            //if strip is present, then that means only get the string contents\n            //inside a body tag in an HTML string. For XML/SVG content it means\n            //removing the <?xml ...?> declarations so the content can be inserted\n            //into the current doc without problems.\n\n            // Do not bother with the work if a build and text will\n            // not be inlined.\n            if (config && config.isBuild && !config.inlineText) {\n                onLoad();\n                return;\n            }\n\n            masterConfig.isBuild = config && config.isBuild;\n\n            var parsed = text.parseName(name),\n                nonStripName = parsed.moduleName +\n                    (parsed.ext ? '.' + parsed.ext : ''),\n                url = req.toUrl(nonStripName),\n                useXhr = (masterConfig.useXhr) ||\n                         text.useXhr;\n\n            // Do not load if it is an empty: url\n            if (url.indexOf('empty:') === 0) {\n                onLoad();\n                return;\n            }\n\n            //Load the text. Use XHR if possible and in a browser.\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\n                text.get(url, function (content) {\n                    text.finishLoad(name, parsed.strip, content, onLoad);\n                }, function (err) {\n                    if (onLoad.error) {\n                        onLoad.error(err);\n                    }\n                });\n            } else {\n                //Need to fetch the resource across domains. Assume\n                //the resource has been optimized into a JS module. Fetch\n                //by the module name + extension, but do not include the\n                //!strip part to avoid file system issues.\n                req([nonStripName], function (content) {\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\n                                    parsed.strip, content, onLoad);\n                });\n            }\n        },\n\n        write: function (pluginName, moduleName, write, config) {\n            if (buildMap.hasOwnProperty(moduleName)) {\n                var content = text.jsEscape(buildMap[moduleName]);\n                write.asModule(pluginName + \"!\" + moduleName,\n                               \"define(function () { return '\" +\n                                   content +\n                               \"';});\\n\");\n            }\n        },\n\n        writeFile: function (pluginName, moduleName, req, write, config) {\n            var parsed = text.parseName(moduleName),\n                extPart = parsed.ext ? '.' + parsed.ext : '',\n                nonStripName = parsed.moduleName + extPart,\n                //Use a '.js' file name so that it indicates it is a\n                //script that can be loaded across domains.\n                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';\n\n            //Leverage own load() method to load plugin value, but only\n            //write out values that do not have the strip argument,\n            //to avoid any potential issues with ! in file names.\n            text.load(nonStripName, req, function (value) {\n                //Use own write() method to construct full module value.\n                //But need to create shell that translates writeFile's\n                //write() to the right interface.\n                var textWrite = function (contents) {\n                    return write(fileName, contents);\n                };\n                textWrite.asModule = function (moduleName, contents) {\n                    return write.asModule(moduleName, fileName, contents);\n                };\n\n                text.write(pluginName, nonStripName, textWrite, config);\n            }, config);\n        }\n    };\n\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\n            typeof process !== \"undefined\" &&\n            process.versions &&\n            !!process.versions.node &&\n            !process.versions['node-webkit'])) {\n        //Using special require.nodeRequire, something added by r.js.\n        fs = require.nodeRequire('fs');\n\n        text.get = function (url, callback, errback) {\n            try {\n                var file = fs.readFileSync(url, 'utf8');\n                //Remove BOM (Byte Mark Order) from utf8 files if it is there.\n                if (file.indexOf('\\uFEFF') === 0) {\n                    file = file.substring(1);\n                }\n                callback(file);\n            } catch (e) {\n                if (errback) {\n                    errback(e);\n                }\n            }\n        };\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\n            text.createXhr())) {\n        text.get = function (url, callback, errback, headers) {\n            var xhr = text.createXhr(), header;\n            xhr.open('GET', url, true);\n\n            //Allow plugins direct access to xhr headers\n            if (headers) {\n                for (header in headers) {\n                    if (headers.hasOwnProperty(header)) {\n                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);\n                    }\n                }\n            }\n\n            //Allow overrides specified in config\n            if (masterConfig.onXhr) {\n                masterConfig.onXhr(xhr, url);\n            }\n\n            xhr.onreadystatechange = function (evt) {\n                var status, err;\n                //Do not explicitly handle errors, those should be\n                //visible via console output in the browser.\n                if (xhr.readyState === 4) {\n                    status = xhr.status || 0;\n                    if (status > 399 && status < 600) {\n                        //An http 4xx or 5xx error. Signal an error.\n                        err = new Error(url + ' HTTP status: ' + status);\n                        err.xhr = xhr;\n                        if (errback) {\n                            errback(err);\n                        }\n                    } else {\n                        callback(xhr.responseText);\n                    }\n\n                    if (masterConfig.onXhrComplete) {\n                        masterConfig.onXhrComplete(xhr, url);\n                    }\n                }\n            };\n            xhr.send(null);\n        };\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\n        //Why Java, why is this so awkward?\n        text.get = function (url, callback) {\n            var stringBuffer, line,\n                encoding = \"utf-8\",\n                file = new java.io.File(url),\n                lineSeparator = java.lang.System.getProperty(\"line.separator\"),\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\n                content = '';\n            try {\n                stringBuffer = new java.lang.StringBuffer();\n                line = input.readLine();\n\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\n                // http://www.unicode.org/faq/utf_bom.html\n\n                // Note that when we use utf-8, the BOM should appear as \"EF BB BF\", but it doesn't due to this bug in the JDK:\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\n                    // Eat the BOM, since we've already found the encoding on this file,\n                    // and we plan to concatenating this buffer with others; the BOM should\n                    // only appear at the top of a file.\n                    line = line.substring(1);\n                }\n\n                if (line !== null) {\n                    stringBuffer.append(line);\n                }\n\n                while ((line = input.readLine()) !== null) {\n                    stringBuffer.append(lineSeparator);\n                    stringBuffer.append(line);\n                }\n                //Make sure we return a JavaScript string and not a Java string.\n                content = String(stringBuffer.toString()); //String\n            } finally {\n                input.close();\n            }\n            callback(content);\n        };\n    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&\n            typeof Components !== 'undefined' && Components.classes &&\n            Components.interfaces)) {\n        //Avert your gaze!\n        Cc = Components.classes;\n        Ci = Components.interfaces;\n        Components.utils['import']('resource://gre/modules/FileUtils.jsm');\n        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);\n\n        text.get = function (url, callback) {\n            var inStream, convertStream, fileObj,\n                readData = {};\n\n            if (xpcIsWindows) {\n                url = url.replace(/\\//g, '\\\\');\n            }\n\n            fileObj = new FileUtils.File(url);\n\n            //XPCOM, you so crazy\n            try {\n                inStream = Cc['@mozilla.org/network/file-input-stream;1']\n                           .createInstance(Ci.nsIFileInputStream);\n                inStream.init(fileObj, 1, 0, false);\n\n                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']\n                                .createInstance(Ci.nsIConverterInputStream);\n                convertStream.init(inStream, \"utf-8\", inStream.available(),\n                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\n\n                convertStream.readString(inStream.available(), readData);\n                convertStream.close();\n                inStream.close();\n                callback(readData.value);\n            } catch (e) {\n                throw new Error((fileObj && fileObj.path || '') + ': ' + e);\n            }\n        };\n    }\n    return text;\n});\n\n","/**\n * 2014-2-12: Modified for Cilantro to augment the module name as a property\n * on the returned compiled function.\n *\n * Adapted from the official plugin text.js\n *\n * Uses UnderscoreJS micro-templates : http://documentcloud.github.com/underscore/#template\n * @author Julien Cabanès <julien@zeeagency.com>\n * @version 0.3\n *\n * @license RequireJS text 0.24.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/requirejs for details\n */\n\ndefine('tpl',['module', 'text', 'underscore'], function(module, text, _) {\n\tvar settings = module.config() || {};\n\n\treturn {\n\t\t/**\n\t\t * Dynamically loads your module by using text! to require the content, and then return the results of _.template.\n\t\t * @param name\n\t\t * @param req\n\t\t * @param onLoad\n\t\t * @param config\n\t\t */\n\t\tload: function(name, req, onLoad, config) {\n\t\t\tif (config.isBuild) {\n\t\t\t\ttext.load.call(text, name, req, onLoad, config);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treq([ 'text!' + name ], function(content) {\n                var func =  content ?\n                    _.template(content, undefined, settings) :\n                    function() { return ''; };\n                func._moduleName = name;\n                onLoad(func);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Used by the optimizer to compile your templates. Logs detailed error messages whenever an invalid template is\n\t\t * encountered.\n\t\t * @param pluginName\n\t\t * @param moduleName\n\t\t * @param write\n\t\t * @param config\n\t\t */\n\t\twrite: function(pluginName, moduleName, write, config) {\n\t\t\ttext.write.call(text, pluginName, moduleName, {\n\t\t\t\tasModule: function(name, contents) {\n\t\t\t\t\tcontents = contents.substr(contents.indexOf('return') + 7);\n\t\t\t\t\tcontents = contents.substr(0, contents.lastIndexOf(';') - 3);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar template = _.template(eval(contents), undefined, settings);\n\t\t\t\t\t\twrite.asModule(pluginName + \"!\" + moduleName,\n\t\t\t\t\t\t\t\"define(function() { var func = \" + template.source +\n                                \"; func._moduleName = '\" +\n                                moduleName + \"'; return func; });\");\n\t\t\t\t\t}\n\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\tconsole.error('~~~~~');\n\t\t\t\t\t\tconsole.error('FAILED TO COMPILE ' + pluginName + \"!\" + moduleName);\n\t\t\t\t\t\tconsole.error('Error:\\t\\t' + String(err));\n\t\t\t\t\t\tconsole.error('\\n');\n\t\t\t\t\t\tif (err && err.source) {\n\t\t\t\t\t\t\tconsole.error('Error Source:\\n');\n\t\t\t\t\t\t\tconsole.error(err.source);\n\t\t\t\t\t\t\tconsole.error('\\n\\n');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.error('Original Contents:\\n');\n\t\t\t\t\t\tconsole.error(contents);\n\t\t\t\t\t\tconsole.error('\\n\\n');\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, config);\n\t\t}\n\t};\n});\n\n","\ndefine('tpl!templates/count.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<span class=count></span>\\n<span class=count-label></span>\\n';\nreturn __p;\n}; func._moduleName = 'templates/count.html'; return func; });\n","\ndefine('tpl!templates/notification.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<button class=\"close\" data-dismiss=\"alert\">&times;</button>\\n<strong>'+\n((__t=( data.header ))==null?'':__t)+\n'</strong>\\n<span>'+\n((__t=( data.message ))==null?'':__t)+\n'</span>\\n';\nreturn __p;\n}; func._moduleName = 'templates/notification.html'; return func; });\n","\ndefine('tpl!templates/paginator.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<button class=\"btn btn-mini\" data-page=first data-toggle=tooltip title=\\'First Page\\'>\\n    <i class=icon-double-angle-left></i>\\n    <span class=\\'text large-display-button-text\\'>First</span>\\n</button>\\n<button class=\"btn btn-mini\" data-page=prev data-toggle=tooltip title=\\'Previous Page\\' href=#>\\n    <i class=icon-angle-left></i>\\n    <span class=\\'text large-display-button-text\\'>Prev</span>\\n</button>\\n<button class=\"btn btn-mini\" data-page=next data-toggle=tooltip title=\\'Next Page\\' href=#>\\n    <span class=\\'text large-display-button-text\\'>Next</span>\\n    <i class=icon-angle-right></i>\\n</button>\\n<button class=\"btn btn-mini\" data-page=last data-toggle=tooltip title=\\'Last Page\\' href=#>\\n    <span class=\\'text large-display-button-text\\'>Last</span>\\n    <i class=icon-double-angle-right></i>\\n</button>\\n<span class=page-numbers>\\n    page <span class=current-page>-</span> / <span class=page-count>-</span>\\n</span>\\n';\nreturn __p;\n}; func._moduleName = 'templates/paginator.html'; return func; });\n","\ndefine('tpl!templates/panel.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=\"panel-toggle\"></div>\\n<div class=\"panel-content\"></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/panel.html'; return func; });\n","\ndefine('tpl!templates/search.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<input type=text class=\"input-block-level\" autocomplete=off>\\n';\nreturn __p;\n}; func._moduleName = 'templates/search.html'; return func; });\n","\ndefine('tpl!templates/welcome.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h2>Welcome!</h2>\\n\\n<div data-target=first-time>\\n    <p>Welcome to your data discovery and query workspace.</p>\\n\\n    <p>Get started by <strong>searching</strong> or <strong>browsing</strong>\\n    something you are curious about on the left side. We\\'ve broken up the \\n    various data you are interested into (hopefully) intuitive categories.</p>\\n\\n    <p>When you select one of the items on the left to view, you will be\\n    presented with some <strong>description information</strong>,\\n    <strong>distribution charts</strong> (for numerical data), and various\\n    <strong>statistics</strong> about the data.</p>\\n</div>\\n\\n<div data-target=welcome-back class=hide>\\n    <p>Welcome back. You can find your existing filters on the right and you\\n    can create new filters by selecting items on the left. Clicking on a filter\\n    on the right will open that item so you can edit it and see further \\n    information associated with that filter.</p>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/welcome.html'; return func; });\n","\ndefine('tpl!templates/accordion/group.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=heading>\\n    <span data-toggle=expand title=\"Expand\"><i class=\"icon-plus icon-fixed-width\"></i></span>\\n    <span data-toggle=collapse title=\"Collapse\"><i class=\"icon-minus icon-fixed-width\"></i></span>\\n    '+\n((__t=( data.name ))==null?'':__t)+\n'\\n</div>\\n<div class=\"inner collapse\">\\n    <div class=sections></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/accordion/group.html'; return func; });\n","\ndefine('tpl!templates/accordion/section.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=heading>'+\n((__t=( data.name ))==null?'':__t)+\n'</div>\\n<ul class=\"items nav nav-list\"></ul>\\n';\nreturn __p;\n}; func._moduleName = 'templates/accordion/section.html'; return func; });\n","\ndefine('tpl!templates/accordion/item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<a href=#>'+\n((__t=( data.name ))==null?'':__t)+\n'</a>\\n';\nreturn __p;\n}; func._moduleName = 'templates/accordion/item.html'; return func; });\n","\ndefine('tpl!templates/base/error-overlay.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h3><i class=\"icon-exclamation text-error\"></i> Whoops, sorry.</h3>\\n\\n<p><strong>There was a problem syncing with the server.</strong>\\n    Don\\'t worry only the last change you made will have to be repeated.\\n    Please refresh your browser and give it another try.</p>\\n';\nreturn __p;\n}; func._moduleName = 'templates/base/error-overlay.html'; return func; });\n","\ndefine('tpl!templates/button/select-option.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<a tabindex=\"-1\" href=#>'+\n((__t=( data.label ))==null?'':__t)+\n'</a>\\n';\nreturn __p;\n}; func._moduleName = 'templates/button/select-option.html'; return func; });\n","\ndefine('tpl!templates/button/select.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<a class=\"btn dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">\\n    <span class=dropdown-selection></span>\\n    <span class=\"caret\"></span>\\n</a>\\n<ul class=\"dropdown-menu\"></ul>\\n';\nreturn __p;\n}; func._moduleName = 'templates/button/select.html'; return func; });\n","\ndefine('tpl!templates/charts/chart.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=chart-toolbar>\\n    <span class=title></span>\\n    <span class=status></span>\\n</div>\\n<div class=chart></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/charts/chart.html'; return func; });\n","\ndefine('tpl!templates/charts/editable-chart.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=btn-toolbar>\\n    <div class=btn-group>\\n        <button class=\"btn btn-mini fullsize\" title=\"Toggle Fullsize\"><i class=icon-resize-full alt=\"Toggle Fullsize\"></i></button>\\n        <button class=\"btn btn-mini outliers\" title=\"Show Outliers\" disabled><i class=icon-eye-open alt=\"Show Outliers\"></i></button>\\n    </div>\\n    <div class=btn-group>\\n        <button class=\"btn btn-mini edit\" title=\"Edit\"><i class=icon-wrench alt=\"Edit\"></i></button>\\n    </div>\\n    <div class=btn-group>\\n        <button class=\"btn btn-danger btn-mini remove\" title=\"Remove\"><i class=icon-remove alt=\"Remove\"></i></button>\\n    </div>\\n</div>\\n<div class=heading>\\n    <span class=title></span>\\n    <span class=status></span>\\n</div>\\n<div class=editable>\\n    <form class=form>\\n        <fieldset>\\n            <label>X-Axis <select name=x-axis></select></label>\\n            <label>Y-Axis <select name=y-axis></select></label>\\n            <label>Series <select name=series></select></label>\\n            <button class=\"btn btn-primary\">Update</button>\\n        </fieldset>\\n    </form>\\n</div>\\n<div class=chart></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/charts/editable-chart.html'; return func; });\n","\ndefine('tpl!templates/concept/columns/available-group.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=heading>\\n    '+\n((__t=( data.name ))==null?'':__t)+\n'\\n    <button data-action=add-group class=\"btn btn-mini pull-right\" title=\"Add items in '+\n((__t=( data.name ))==null?'':__t)+\n'\"><i class=\"icon-plus text-success\"></i> Group</button>\\n</div>\\n<div class=\"inner collapse\">\\n    <div class=sections></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/columns/available-group.html'; return func; });\n","\ndefine('tpl!templates/concept/columns/available-section.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=heading>\\n    '+\n((__t=( data.name ))==null?'':__t)+\n'\\n    <button data-action=add-section class=\"btn btn-mini pull-right\" title=\"Add items in '+\n((__t=( data.name ))==null?'':__t)+\n'\"><i class=\"icon-plus text-success\"></i> Section</button>\\n</div>\\n<ul class=\"items nav nav-list\"></ul>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/columns/available-section.html'; return func; });\n","\ndefine('tpl!templates/concept/columns/available-item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<span class=name>'+\n((__t=( data.name ))==null?'':__t)+\n'</span>\\n<button data-action=add class=\"btn btn-mini\" title=\"Add '+\n((__t=( data.name ))==null?'':__t)+\n'\"><i class=\"icon-plus text-success\"></i></button>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/columns/available-item.html'; return func; });\n","\ndefine('tpl!templates/concept/columns/selected-item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<span class=name>'+\n((__t=( data.name ))==null?'':__t)+\n'</span>\\n<button data-action=remove class=\"btn btn-mini\"><i class=\"icon-remove text-error\"></i></button>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/columns/selected-item.html'; return func; });\n","\ndefine('tpl!templates/concept/columns/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=available-column>\\n    <div class=\"search-region\"></div>\\n    <div class=\"available-region\"></div>\\n</div>\\n\\n<div class=selected-column>\\n    <div class=toolbar>\\n        <button type=button data-action=clear class=\"btn btn-mini btn-danger\"><i class=\"icon-remove icon-white\"></i> Clear</button>\\n        <strong>Click, drag and drop</strong> to change the order.\\n    </div>\\n    <div class=\"selected-region\"></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/columns/layout.html'; return func; });\n","\ndefine('tpl!templates/concept/columns/dialog.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=modal-header>\\n    <h3>Change Columns <small>Add, remove, and reorder columns for output</small></h3>\\n</div>\\n\\n<div class=modal-body>\\n    <div data-target=error class=\\'alert alert-error alert-block hide\\'></div>\\n    <div class=\\'row-fluid concept-columns-region\\'></div>\\n</div>\\n\\n<div class=modal-footer>\\n    <button data-dismiss=modal class=btn>Cancel</button>\\n    <button data-save class=\\'btn btn-primary\\'>Save</button>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/columns/dialog.html'; return func; });\n","\ndefine('tpl!templates/concept/error.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h3><i class=\"icon-exclamation text-error\"></i> Whoops, sorry.</h3>\\n\\n<strong>There was a problem loading \"'+\n((__t=( data.name ))==null?'':__t)+\n'\"</strong>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/error.html'; return func; });\n","\ndefine('tpl!templates/concept/form.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=info-region></div>\\n<div class=links-region></div>\\n<div class=fields-region></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/form.html'; return func; });\n","\ndefine('tpl!templates/concept/info.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='';\n if (data.category) { \n__p+='\\n    <p class=category>\\n        ';\n if (data.category.parent) { \n__p+='\\n            <a href=\\'#\\' class=category-link>'+\n((__t=( data.category.parent.name ))==null?'':__t)+\n'</a>\\n            <i class=icon-angle-right></i>\\n        ';\n } \n__p+='\\n        <a href=\\'#\\' class=category-link>'+\n((__t=( data.category.name ))==null?'':__t)+\n'</a>\\n    </p>\\n';\n } \n__p+='\\n\\n<p class=name>\\n    '+\n((__t=( data.name ))==null?'':__t)+\n'\\n    ';\n if (data.unit) { \n__p+='\\n        <small class=unit>'+\n((__t=( data.unit ))==null?'':__t)+\n'</small>\\n    ';\n } \n__p+='\\n</p>\\n\\n';\n if (data.description) { \n__p+='\\n    <div class=\"description ellipsis\">\\n        <div class=\"text\">'+\n((__t=( data.description ))==null?'':__t)+\n'</div>\\n        <a class=toggle href=#>read more</a>\\n    </div>\\n';\n } \n__p+='\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/info.html'; return func; });\n","\ndefine('tpl!templates/concept/panel.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=panel-content>\\n    <div class=search-region></div>\\n    <div class=index-region></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/panel.html'; return func; });\n","\ndefine('tpl!templates/concept/workspace.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=\"main-region\"></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/workspace.html'; return func; });\n","\ndefine('tpl!templates/concept/popover.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=\"arrow\"></div>\\n<h4 class=\"popover-title\">'+\n((__t=( data.name ))==null?'':__t)+\n'</h4>\\n<div class=\"popover-content\">\\n    <p>'+\n((__t=( data.description ))==null?'':__t)+\n'</p>\\n    ';\n if (data.fields) { \n__p+='\\n        <p class=muted>Included fields: '+\n((__t=( data.fields ))==null?'':__t)+\n'</p>\\n    ';\n } \n__p+='\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/concept/popover.html'; return func; });\n","\ndefine('tpl!templates/export/dialog.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=modal-header>\\n    <a class=close data-dismiss=modal><i class=icon-remove></i></a>\\n    <h3>Exporter<small> Choose export options and pages</small></h3>\\n</div>\\n\\n<div class=modal-body>\\n    <div data-target=error class=\"alert alert-error alert-block hide\"></div>\\n\\n    <div class=row-fluid>\\n        <div class=span6>\\n            <h4>Types</h4>\\n\\n            <div data-target=\"types\"></div>\\n        </div>\\n\\n        <div class=span6>\\n            <h4>Pages</h4>\\n\\n            <label class=radio>\\n                <input type=radio name=pages value=all checked> All pages\\n            </label>\\n\\n            <label class=radio>\\n                <input type=radio name=pages value=range> Single page or range\\n                <input type=text name=page-range placeholder=\"e.g. 1, 1...4\" disabled>\\n            </label>\\n        </div>\\n    </div>\\n\\n    <div data-target=\"progress\"></div>\\n</div>\\n\\n<div class=modal-footer>\\n    <button data-dismiss=modal class=btn>Close</button>\\n    <button data-toggle=save class=\"btn btn-primary\">Export</button>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/export/dialog.html'; return func; });\n","\ndefine('tpl!templates/export/option.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<input type=checkbox value=\"'+\n((__t=( data.type ))==null?'':__t)+\n'\" title=\"'+\n((__t=( data.title ))==null?'':__t)+\n'\"> '+\n((__t=( data.title ))==null?'':__t)+\n'\\n';\nreturn __p;\n}; func._moduleName = 'templates/export/option.html'; return func; });\n","\ndefine('tpl!templates/export/batch.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h4>Downloads</h4>\\n';\nreturn __p;\n}; func._moduleName = 'templates/export/batch.html'; return func; });\n","\ndefine('tpl!templates/export/progress.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=row-fluid>\\n    <div class=span2>\\n        <span>'+\n((__t=( data.title ))==null?'':__t)+\n'</span>\\n    </div>\\n    <div class=span8>\\n        <span data-target=status><span class=\"label\">Pending...</span></span>\\n    </div>\\n    <div class=span2>\\n        <a href=# data-target=cancel class=text-error><i class=\"icon-remove\" /> Cancel</a>\\n    </div>\\n</div>\\n\\n';\nreturn __p;\n}; func._moduleName = 'templates/export/progress.html'; return func; });\n","\ndefine('tpl!templates/context/panel.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=\"panel-content\">\\n    <div class=actions-region></div>\\n    <div class=filters-region></div>\\n    <div class=info-region></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/context/panel.html'; return func; });\n","\ndefine('tpl!templates/context/actions.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=pull-right>\\n    <button data-action=remove class=\\'btn btn-danger btn-mini\\' title=\\'Remove All Filters\\' disabled><i class=\\'icon-remove icon-white\\'></i></button>\\n</div>\\n\\n<div class=count-label>\\n    <span data-target=loading-message class=hide>Calculating...<i class=\\'icon-spinner icon-spin\\'></i></span>\\n    ';\n if (data.count == null) { \n__p+='\\n        <span data-target=count>All</span>\\n    ';\n } else { \n__p+='\\n        <span data-target=count title=\\''+\n((__t=( data.count ))==null?'':__t)+\n'\\'>'+\n((__t=( data.prettyCount ))==null?'':__t)+\n'</span>\\n    ';\n } \n__p+='\\n    <span data-target=units>\\n        ';\n if (data.count == 1) { \n__p+='\\n            '+\n((__t=( data.object_name ))==null?'':__t)+\n'\\n        ';\n } else { \n__p+='\\n            '+\n((__t=( data.object_name_plural ))==null?'':__t)+\n'\\n        ';\n } \n__p+='\\n    </span>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/context/actions.html'; return func; });\n","\ndefine('tpl!templates/context/info.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<button data-route=query class=\"btn btn-primary input-block-level\"><i class=icon-search></i> Refine Query</button>\\n<button data-route=results class=\"btn btn-primary input-block-level\"><i class=icon-table></i> View Results</button>\\n';\nreturn __p;\n}; func._moduleName = 'templates/context/info.html'; return func; });\n","\ndefine('tpl!templates/context/empty.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h4>No filters are applied</h4>\\n\\n<p class=\\'no-filters-query-workspace\\'>Explore the available filters on the left side or click \"View Results\"\\nto immediately preview some data.</p>\\n<p class=\\'no-filters-results-workspace\\'>Browse the data in the table to the left or click \"Refine Query\"\\nto create and add filters.</p>\\n';\nreturn __p;\n}; func._moduleName = 'templates/context/empty.html'; return func; });\n","\ndefine('tpl!templates/context/filter.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div data-target=actions>\\n    <button data-action=remove class=\"btn btn-mini\" title=\"Remove\"><i class=icon-remove></i></button>\\n</div>\\n<input data-action=enable type=checkbox title=\"Disable\" checked>\\n<span data-target=required class=text-warning title=\"This filter is required and cannot be disabled or removed, only changed\"><i class=\"icon-lock\"></i></span>\\n<div data-target=description>'+\n((__t=( data.language ))==null?'':__t)+\n'</div>\\n<div data-target=loader class=hide><i class=\"icon-spinner icon-spin\"></i></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/context/filter.html'; return func; });\n","\ndefine('tpl!templates/controls/infograph/bar.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=bar style=\"width:'+\n((__t=( data.width ))==null?'':__t)+\n'%\"></div>\\n<div class=bar-mask>\\n    <span class=bar-label>'+\n((__t=( data.label ))==null?'':__t)+\n'</span>\\n    <span class=bar-count>\\n        '+\n((__t=( data.count ))==null?'':__t)+\n'\\n        <span class=bar-percentage>('+\n((__t=( data.percentage ))==null?'':__t)+\n'%)</span>\\n    </span>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/infograph/bar.html'; return func; });\n","\ndefine('tpl!templates/controls/infograph/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=toolbar-region></div>\\n<div data-target=\\'loading-indicator\\'>\\n    <i class=\"icon-spinner icon-spin\"></i> Loading values...\\n</div>\\n<div class=bars-region></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/infograph/layout.html'; return func; });\n","\ndefine('tpl!templates/controls/infograph/toolbar.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=navbar-inner>\\n    <div class=btn-toolbar>\\n        <div class=\"navbar-form\">\\n            <button class=\"btn invert-button\" name=invert title=\"Invert Selection\">Invert Selection</button>\\n            <span class=\\'filter-container\\'>\\n                <input class=filter-text type=text name=filter placeholder=\"Filter values...\">\\n            </span>\\n            <div class=\\'exclude-container\\'>\\n                <input class=\\'exclude-checkbox\\' type=\\'checkbox\\' name=\\'exclude\\' /> <span class=\\'exclude-label\\'>Exclude selected values</span>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div class=sort-region>\\n    <span class=sort-value-header>Value <i class=icon-sort></i></span><span class=sort-count-header>Count <i class=icon-sort-down></i></span>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/infograph/toolbar.html'; return func; });\n","\ndefine('tpl!templates/controls/range/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<input type=text class=\"range-lower\" placeholder=\"[lower bound]\" />\\n<span class=muted> and </span>\\n<input type=text class=\"range-upper\" placeholder=\"[upper bound]\"/>\\n<a class=\"btn range-help-button\" href=\"#\" title=\"Show/hide help text\"><i class=\"icon-question-sign\"></i></a>\\n<span class=\"help-block\">Entering a value on the left while leaving the right empty represents a filter matching all values greater than or equal to the supplied value. Conversely, entering a value on the right and leaving the left empty represents a filter matching all values less than or equal to the supplied value. Entering values in both boxes will match all values within the range specified. The opposite applies when <strong>not between</strong> is selected from the choices above.</span>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/range/layout.html'; return func; });\n","\ndefine('tpl!templates/controls/select/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=select-region></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/select/layout.html'; return func; });\n","\ndefine('tpl!templates/controls/select/list.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<select class=items>\\n</select>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/select/list.html'; return func; });\n","\ndefine('tpl!templates/controls/search/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=row-fluid>\\n    <div class=\\'span6\\'>\\n        <div class=\\'toolbar paginator-region\\'></div>\\n        <div class=search-region></div>\\n        <div class=browse-region></div>\\n    </div>\\n    <div class=span6>\\n        <div class=toolbar>\\n            <div class=exclude-container>\\n                <input class=exclude-checkbox type=checkbox name=exclude />\\n                <span class=exclude-label>Exclude selected values</span>\\n            </div>\\n            <button type=button data-action=clear class=\\'btn btn-mini btn-danger\\'>\\n                <i class=\\'icon-remove icon-white\\'></i>Clear\\n            </button>\\n        </div>\\n        <div class=values-region></div>\\n   </div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/search/layout.html'; return func; });\n","\ndefine('tpl!templates/controls/search/item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=actions>\\n    <button class=\"btn btn-mini add-item-button\"><i class=\"icon-plus text-success\"></i></button>\\n    <button class=\"btn btn-mini hide remove-item-button\"><i class=\"icon-minus text-error\"></i></button>\\n</div>\\n<span class=value-label>'+\n((__t=( data.label ))==null?'':__t)+\n'</span>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/search/item.html'; return func; });\n","\ndefine('tpl!templates/controls/null/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<select data-target=\\'null-selector\\'>\\n    <option data-target=\\'not-null-option\\' value=\\'false\\'>Exists</option>\\n    <option data-target=\\'null-option\\' value=\\'true\\'>Does not exist</option>\\n</select>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/null/layout.html'; return func; });\n","\ndefine('tpl!templates/controls/text/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div data-target=\\'search-region\\'></div>\\n<p class=\\'muted\\'>Wrap two or more words with quotes to match explicitly. Prefix a single keyword or quoted text with a \"+\" (plus sign) to require matching on the keyword or \"-\" (minus sign) to prevent matching on the keyword.</p>\\n<div data-target=\\'preview-region\\'></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/text/layout.html'; return func; });\n","\ndefine('tpl!templates/controls/text/preview-list.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h4>Preview</h4>\\n\\n<p class=muted>Note, these preview texts may not be in your final query results depending on the other filters applied.</p>\\n\\n<div class=\\'items\\'></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/text/preview-list.html'; return func; });\n","\ndefine('tpl!templates/controls/text/preview-item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+=''+\n((__t=( data.label ))==null?'':__t)+\n'\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/text/preview-item.html'; return func; });\n","\ndefine('tpl!templates/controls/vocab/layout.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=row-fluid>\\n    <div class=\\'span6\\'>\\n        <div class=toolbar>\\n            <div class=paginator-region></div>\\n        </div>\\n        <div class=search-region></div>\\n        <div class=path-region></div>\\n        <div class=browse-region></div>\\n    </div>\\n    <div class=\\'span6 buckets-region\\'></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/vocab/layout.html'; return func; });\n","\ndefine('tpl!templates/controls/vocab/path.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=toolbar>\\n    <button class=\\'btn btn-mini\\' ';\n if (!data.url) { \n__p+='disabled';\n } \n__p+='><i class=\\'icon-angle-left\\'></i> Back</button>\\n    <strong class=\\'path-label\\' title=\\''+\n((__t=( data.label ))==null?'':__t)+\n'\\'>'+\n((__t=( data.label ))==null?'':__t)+\n'</strong>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/vocab/path.html'; return func; });\n","\ndefine('tpl!templates/controls/vocab/item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=actions>\\n    <button class=\\'btn btn-mini add-item-button\\'><i class=\\'icon-plus text-success\\'></i></button>\\n    <button class=\\'btn btn-mini hide remove-item-button\\'><i class=\\'icon-minus text-error\\'></i></button>\\n</div>\\n';\n if (data.url) { \n__p+='\\n    <a class=value-label href=\\''+\n((__t=( data.url ))==null?'':__t)+\n'\\'>'+\n((__t=( data.label ))==null?'':__t)+\n'</a>\\n';\n } else { \n__p+='\\n    <span class=value-label>'+\n((__t=( data.label ))==null?'':__t)+\n'</span>\\n';\n } \n__p+='\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/vocab/item.html'; return func; });\n","\ndefine('tpl!templates/controls/vocab/bucket.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<strong>'+\n((__t=( data.name ))==null?'':__t)+\n'</strong>\\n<div class=value-list data-target=items></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/vocab/bucket.html'; return func; });\n","\ndefine('tpl!templates/controls/vocab/bucket-item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=actions>\\n    <button data-target=remove class=\\'btn btn-mini\\'><i class=\\'icon-minus text-error\\'></i></button>\\n</div>\\n<span class=value-label data-value=\\''+\n((__t=( data.value ))==null?'':__t)+\n'\\'>'+\n((__t=( data.label ))==null?'':__t)+\n'</span>\\n';\nreturn __p;\n}; func._moduleName = 'templates/controls/vocab/bucket-item.html'; return func; });\n","\ndefine('tpl!templates/field/form-condensed.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=row-fluid>\\n    <div class=span4>\\n        <div class=info-region></div>\\n        <div class=stats-region></div>\\n    </div>\\n    <div class=span8>\\n        <div class=controls-region></div>\\n    </div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/field/form-condensed.html'; return func; });\n","\ndefine('tpl!templates/field/form.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=info-region></div>\\n<div class=stats-region></div>\\n<div class=chart-region></div>\\n<div class=controls-region></div>\\n\\n<div class=actions-region>\\n    <button data-action=update class=\"btn btn-primary btn-small\">Update Filter</button>\\n    <button data-action=apply class=\"btn btn-success btn-small\">Apply Filter</button>\\n    <div data-target=state class=\"alert hide\"></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/field/form.html'; return func; });\n","\ndefine('tpl!templates/field/info.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h4 class=name>\\n    '+\n((__t=( data.alt_name || data.name ))==null?'':__t)+\n'\\n    ';\n if (data.unit) { \n__p+='\\n        <small class=unit>'+\n((__t=( data.unit ))==null?'':__t)+\n'</small>\\n    ';\n } \n__p+='\\n</h4>\\n\\n';\n if (data.description) { \n__p+='\\n    <p class=field-description>'+\n((__t=( data.description ))==null?'':__t)+\n'</p>\\n';\n } \n__p+='\\n';\nreturn __p;\n}; func._moduleName = 'templates/field/info.html'; return func; });\n","\ndefine('tpl!templates/field/stats.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=stats-values></div>\\n<div class=stats-chart></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/field/stats.html'; return func; });\n","\ndefine('tpl!templates/field/links.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='Jump to: <ul class=\"links\" data-target=\"links\"></ul>\\n';\nreturn __p;\n}; func._moduleName = 'templates/field/links.html'; return func; });\n","\ndefine('tpl!templates/field/link.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<a>'+\n((__t=( data.name ))==null?'':__t)+\n'</a>\\n';\nreturn __p;\n}; func._moduleName = 'templates/field/link.html'; return func; });\n","\ndefine('tpl!templates/query/delete-dialog.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=modal-header>\\n    <h4></h4>\\n</div>\\n\\n<div class=modal-body>\\n    <div class=\"alert alert-error hide\"></div>\\n    <p>Are you sure you want to delete this query?</p>\\n</div>\\n\\n<div class=modal-footer>\\n    <button data-dismiss=modal class=btn>No</button>\\n    <button class=\"btn btn-primary delete-query-button\">Yes</button>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/query/delete-dialog.html'; return func; });\n","\ndefine('tpl!templates/query/edit-dialog.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=modal-header>\\n    <h4></h4>\\n</div>\\n\\n<div class=modal-body>\\n    <div class=\\'alert alert-error hide\\'></div>\\n    <form class=\\'form-inline\\'>\\n        <div class=\\'control-group row-fluid\\'>\\n            <label class=control-label>Name</label>\\n            <div class=controls>\\n                <input type=text class=\\'query-name span12\\' placeholder=\\'Query name (required)...\\' />\\n            </div>\\n        </div>\\n        <div class=\\'control-group row-fluid\\'>\\n            <label class=control-label>Description</label>\\n            <div class=controls>\\n                <input type=text class=\\'query-description span12\\' placeholder=\\'Additional description or details (optional)...\\' />\\n            </div>\\n        </div>\\n        <div class=\\'checkbox\\'>\\n            <label>\\n                <input type=checkbox name=\\'query-publicity\\' class=\\'query-publicity\\' />Should this query be publicly available to all users?\\n            </label>\\n        </div>\\n        <div class=\\'control-group row-fluid\\'>\\n            <label class=control-label>Share</label>\\n            <div class=controls>\\n                <textarea rows=3 class=\\'query-emails span12\\' placeholder=\\'Enter the email addresses or usernames of the users to share this query with. Separate multiple entries using a comma (optional)...\\'></textarea>\\n            </div>\\n        </div>\\n        <div class=\\'control-group row-fluid hide\\' data-target=email-message-container>\\n            <label class=control-label>Email Message</label>\\n            <div class=controls>\\n                <textarea rows=3 class=\\'span12\\' data-target=email-message placeholder=\\'Enter a message to be included in the notification email sent to the above users to alert them that this query has been shared with them (optional)...\\'></textarea>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\\n<div class=modal-footer>\\n    <button data-dismiss=modal class=btn>Cancel</button>\\n    <button data-save class=\\'btn btn-primary\\'>Save</button>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/query/edit-dialog.html'; return func; });\n","\ndefine('tpl!templates/query/item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<span class=\\'owner\\'>\\n    <button data-toggle=edit-query-modal class=\\'btn btn-mini edit-query\\'><i class=icon-pencil></i> Edit</button>\\n    <button data-toggle=delete-query-modal class=\\'btn btn-mini delete-query\\'><i class=\\'icon-remove text-error\\'></i> Delete</button>\\n    <i class=\\'public-icon icon-external-link-sign muted\\' title=\\'Private query\\'></i>\\n    <i class=\\'icon-group share-count muted\\' title=\\'Not shared\\'> <strong>'+\n((__t=( data.shared_users.length ))==null?'':__t)+\n'</strong></i>\\n</span>\\n\\n<span class=\\'non-owner\\'>\\n    shared by <em>'+\n((__t=( data.user.username ))==null?'':__t)+\n'</em>\\n</span>\\n\\n<span class=\\'name-label\\'>\\n    <a data-target=\\'query\\' href=\\'#\\'>'+\n((__t=( data.name ))==null?'':__t)+\n'</a>\\n    <a data-target=toggle-details href=#>Show details</a>\\n</span>\\n\\n<div class=\\'details\\' data-target=details></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/query/item.html'; return func; });\n","\ndefine('tpl!templates/query/list.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=query-list>\\n    <div class=header>\\n        <h4 class=\\'title\\'></h4>\\n    </div>\\n    <div class=\"empty-message\"></div>\\n    <div class=\"loading-indicator hide\">\\n        <i class=\"icon-spinner icon-spin\"></i> Loading...\\n    </div>\\n    <div class=\"alert alert-danger error-message hide\">There was a problem retrieving the queries. Please reload the page to try to reload the queries.</div>\\n    <div class=items></div>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/query/list.html'; return func; });\n","\ndefine('tpl!templates/query/loader.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=\\'loading-message\\'>\\n    <i class=\"icon-spinner icon-spin\"></i> Loading Query...\\n</div>\\n<div class=\\'error-message alert alert-block hide\\'>\\n    <i class=\"icon-exclamation\"></i> <strong>Uh oh.</strong> There was an error opening the query. Your filters and view have not been changed. It is possible that this query has been removed. To try opening this query again, please navigate to the Workspace page and clicking on the query from the list shown on that page.\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/query/loader.html'; return func; });\n","\ndefine('tpl!templates/stats/count-item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<td>'+\n((__t=( data.displayName ))==null?'':__t)+\n'</td>\\n<td>'+\n((__t=( data.count ))==null?'':__t)+\n'</td>\\n';\nreturn __p;\n}; func._moduleName = 'templates/stats/count-item.html'; return func; });\n","\ndefine('tpl!templates/stats/count-list.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h4 class=title>Data Summary</h4>\\n\\n<div class=\\'loading-message\\'>\\n    <i class=\\'icon-spinner icon-spin\\'></i> Loading Summary Statistics...\\n</div>\\n\\n<table class=\\'table table-collapsed table-bordered table-striped hide\\'>\\n    <thead>\\n        <tr>\\n            <th data-sort=\\'verbose_name\\'>Model <i class=\\'icon-sort-up\\'></i><i class=\\'icon-sort-down\\'></i></th>\\n            <th data-sort=\\'count\\'>Count <i class=\\'icon-sort-up\\'></i><i class=\\'icon-sort-down\\'></i></th>\\n        </tr>\\n    </thead>\\n    <tbody></tbody>\\n</table>\\n';\nreturn __p;\n}; func._moduleName = 'templates/stats/count-list.html'; return func; });\n","\ndefine('tpl!templates/values/item.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+=''+\n((__t=( data.label ))==null?'':__t)+\n'\\n';\nreturn __p;\n}; func._moduleName = 'templates/values/item.html'; return func; });\n","\ndefine('tpl!templates/values/list.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<textarea placeholder=\"Enter or paste a list of values (one per line) or search and add values one-by-one from the left...\"></textarea>\\n';\nreturn __p;\n}; func._moduleName = 'templates/values/list.html'; return func; });\n","\ndefine('tpl!templates/workflows/query.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=\"concept-workspace-region\"></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/workflows/query.html'; return func; });\n","\ndefine('tpl!templates/workflows/results.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=\\'navbar navbar-masthead results-workflow-navbar\\'>\\n    <div class=\\'navbar-inner\\'>\\n        <div class=\\'navbar-text pull-right\\'>\\n            <span class=\\'paginator-region\\'></span>\\n            <button data-toggle=columns-dialog class=\\'btn btn-primary btn-mini\\' title=\\'Change Columns\\'>\\n                <i class=icon-columns></i> <span class=large-display-button-text>Change Columns...</span>\\n            </button>\\n            <button data-toggle=exporter-dialog class=\\'btn btn-primary btn-mini\\' title=\\'Export Data\\'>\\n                <i class=icon-file></i> <span class=large-display-button-text>Export...</span>\\n            </button>\\n            <button data-toggle=query-dialog class=\\'btn btn-primary btn-mini\\' title=\\'Save/Share Query\\'>\\n                <i class=icon-save></i> <span class=large-display-button-text>Save/Share Query...</span>\\n            </button>\\n            <button data-toggle=context-panel class=\\'btn btn-primary btn-mini expand-collapse\\' title=\\'Hide Filter Panel\\'>\\n                <i class=icon-expand-alt></i> <span class=large-display-button-text>Hide Filters</span>\\n            </button>\\n        </div>\\n        <span class=\\'navbar-text count-region\\'></span>\\n    </div>\\n</div>\\n\\n<div class=\\'loading-overlay hide\\'>\\n    <h4><i class=\\'icon-spinner icon-spin\\'></i> Loading Results</h4>\\n</div>\\n\\n<div class=table-region></div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/workflows/results.html'; return func; });\n","\ndefine('tpl!templates/workflows/workspace.html',[],function() { var func = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div class=row-fluid>\\n    <div class=\\'span6 data-summary-region\\'></div>\\n    <div class=span6>\\n        <div class=\\'query-region\\'></div>\\n        <div class=\\'public-query-region\\'></div>\\n    </div>\\n</div>\\n\\n<div class=\\'loading-overlay hide\\'>\\n    <h4><i class=\\'icon-spinner icon-spin\\'></i> Loading Query</h4>\\n</div>\\n';\nreturn __p;\n}; func._moduleName = 'templates/workflows/workspace.html'; return func; });\n","/* global define, require */\n\ndefine('cilantro/ui/templates',[\n    'underscore',\n    'loglevel',\n\n    'tpl!templates/count.html',\n    'tpl!templates/notification.html',\n    'tpl!templates/paginator.html',\n    'tpl!templates/panel.html',\n    'tpl!templates/search.html',\n    'tpl!templates/welcome.html',\n\n    'tpl!templates/accordion/group.html',\n    'tpl!templates/accordion/section.html',\n    'tpl!templates/accordion/item.html',\n\n    'tpl!templates/base/error-overlay.html',\n\n    'tpl!templates/button/select-option.html',\n    'tpl!templates/button/select.html',\n\n    'tpl!templates/charts/chart.html',\n    'tpl!templates/charts/editable-chart.html',\n\n    'tpl!templates/concept/columns/available-group.html',\n    'tpl!templates/concept/columns/available-section.html',\n    'tpl!templates/concept/columns/available-item.html',\n    'tpl!templates/concept/columns/selected-item.html',\n    'tpl!templates/concept/columns/layout.html',\n    'tpl!templates/concept/columns/dialog.html',\n\n    'tpl!templates/concept/error.html',\n    'tpl!templates/concept/form.html',\n    'tpl!templates/concept/info.html',\n    'tpl!templates/concept/panel.html',\n    'tpl!templates/concept/workspace.html',\n    'tpl!templates/concept/popover.html',\n\n    'tpl!templates/export/dialog.html',\n    'tpl!templates/export/option.html',\n    'tpl!templates/export/batch.html',\n    'tpl!templates/export/progress.html',\n\n    'tpl!templates/context/panel.html',\n    'tpl!templates/context/actions.html',\n    'tpl!templates/context/info.html',\n    'tpl!templates/context/empty.html',\n    'tpl!templates/context/filter.html',\n\n    'tpl!templates/controls/infograph/bar.html',\n    'tpl!templates/controls/infograph/layout.html',\n    'tpl!templates/controls/infograph/toolbar.html',\n\n    'tpl!templates/controls/range/layout.html',\n\n    'tpl!templates/controls/select/layout.html',\n    'tpl!templates/controls/select/list.html',\n\n    'tpl!templates/controls/search/layout.html',\n    'tpl!templates/controls/search/item.html',\n\n    'tpl!templates/controls/null/layout.html',\n\n    'tpl!templates/controls/text/layout.html',\n    'tpl!templates/controls/text/preview-list.html',\n    'tpl!templates/controls/text/preview-item.html',\n\n    'tpl!templates/controls/vocab/layout.html',\n    'tpl!templates/controls/vocab/path.html',\n    'tpl!templates/controls/vocab/item.html',\n    'tpl!templates/controls/vocab/bucket.html',\n    'tpl!templates/controls/vocab/bucket-item.html',\n\n    'tpl!templates/field/form-condensed.html',\n    'tpl!templates/field/form.html',\n    'tpl!templates/field/info.html',\n    'tpl!templates/field/stats.html',\n    'tpl!templates/field/links.html',\n    'tpl!templates/field/link.html',\n\n    'tpl!templates/query/delete-dialog.html',\n    'tpl!templates/query/edit-dialog.html',\n    'tpl!templates/query/item.html',\n    'tpl!templates/query/list.html',\n    'tpl!templates/query/loader.html',\n\n    'tpl!templates/stats/count-item.html',\n    'tpl!templates/stats/count-list.html',\n\n    'tpl!templates/values/item.html',\n    'tpl!templates/values/list.html',\n\n    'tpl!templates/workflows/query.html',\n    'tpl!templates/workflows/results.html',\n    'tpl!templates/workflows/workspace.html'\n\n], function(_, loglevel) {\n\n    // Built-in templates and application-defined templates\n    var defaultTemplates = {},\n        customTemplates = {};\n\n    // Derives a template id from the template's path. This is an internal\n    // function that assumes the base directory is under templates/\n    var pathToId = function(name) {\n        // Remove leading slash\n        if (name.charAt(0) === '/') {\n            name = name.substr(1);\n        }\n\n        // Remove relative paths\n        name = name.replace(/\\.\\.\\//g, '');\n\n        // Remove templates prefix, strip extension\n        return name.replace(/templates\\//, '').replace(/\\.html$/, '');\n    };\n\n    // Registers all built-in templates using the augmented _moduleName from\n    // a modified version of the RequireJS tpl plugin.\n    var templates = [].slice.call(arguments, 2);\n\n    _.each(templates, function(func) {\n        func.templateId = pathToId(func._moduleName);\n        defaultTemplates[func.templateId] = func;\n    });\n\n    // Templates can be registered as AMD modules which will be immediately\n    // fetched to obtain the resulting compiled template function. This is\n    // count of the number of pending AMD modules that have not been fetched.\n    var pendingRemotes = 0;\n\n    // Loads the remote template and adds it to the custom cache.\n    var loadRemote = function(id, module) {\n        pendingRemotes++;\n\n        require([\n            module\n        ], function(func) {\n            // No id, anonymous function, assume loaded via the tpl! plugin\n            if (!id) {\n                id = func;\n                func = null;\n            }\n\n            _set(id, func);\n\n            pendingRemotes--;\n        }, function(err) {\n            loglevel.debug(err);\n            pendingRemotes--;\n        });\n    };\n\n    // Handles the case when the registered function is *not* a function.\n    var _set = function(id, func) {\n        // Assume template loaded via the tpl! plugin\n        if (typeof id === 'function') {\n            func = id;\n            if (!func._moduleName) {\n                throw new Error('cannot register anonymous template');\n            }\n            id = pathToId(func._moduleName);\n        }\n        // Assume bare id is a remote path\n        else if (!func) {\n            func = id;\n            id = null;\n        }\n\n        switch (typeof func) {\n            case 'function':\n                customTemplates[id] = func;\n                break;\n            case 'string':\n                loadRemote(id, func);\n                break;\n            default:\n                throw new Error('template must be a function or AMD module');\n        }\n    };\n\n    return {\n        // Get the template function by id. Checks the custom cache and falls back\n        // to the built-in cache.\n        get: function(id) {\n            return customTemplates[id] || defaultTemplates[id];\n        },\n\n        // Sets a template in cache.\n        set: function(id, func) {\n            if (_.isArray(id)) {\n                _.each(id, function(func) {\n                    this.set(func);\n                }, this);\n            }\n            else if (_.isFunction(id)) {\n                _set(id);\n            }\n            else if (_.isObject(id)) {\n                _.each(id, function(func, key) {\n                    this.set(key, func);\n                }, this);\n            }\n            else {\n                _set(id, func);\n            }\n        },\n\n        // Returns a boolean denoting if all AMD-based templates have been loaded.\n        ready: function() {\n            return pendingRemotes === 0;\n        },\n\n        // Clears the custom templates\n        clear: function() {\n            customTemplates = {};\n        }\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/base',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'marionette',\n    '../../core'\n], function($, _, Backbone, Marionette, c) {\n\n    var noop = function() {};\n\n    var ControlViewMixin = {\n        className: 'control',\n\n        attrNames: ['concept', 'field', 'operator', 'value'],\n\n        attrGetters: {\n            concept: 'getConcept',\n            field: 'getField',\n            operator: 'getOperator',\n            value: 'getValue'\n        },\n\n        attrSetters: {\n            concept: 'setConcept',\n            field: 'setField',\n            operator: 'setOperator',\n            value: 'setValue'\n        },\n\n        // Get the value from this control for the attr key. This\n        // attempts to call the associated method in attrGetters.\n        _get: function(key, options) {\n            var method, func;\n\n            if (!(method = this.attrGetters[key])) return;\n\n            if ((func = this[method])) {\n                return func.call(this, options);\n            }\n\n            throw new Error('Getter declared, but not defined for ' + key);\n        },\n\n        // Set the value on this control for the attr key. This\n        // attempts to call the associated method in attrSetters.\n        _set: function(key, value, options) {\n            var method, func;\n\n            if (!(method = this.attrSetters[key])) return;\n\n            if ((func = this[method])) {\n                return func.call(this, value, options);\n            }\n\n            throw new Error('Setter declared, but not defined for ' + key);\n        },\n\n        // Controls call this to put this itself in a waiting state\n        wait: function() {\n            if (this._waiting) return;\n\n            this._waiting = true;\n\n            var _this = this;\n\n            var timer = setTimeout(function() {\n                _this.trigger('error');\n            }, c.config.get('timeouts.control'));\n\n            // Clear the timeout on success or error\n            this.on('beforeready error', function() {\n                clearTimeout(timer);\n            });\n        },\n\n        // Controls call this to mark themselves as ready. If the `wait`\n        // flag is set, only trigger the ready state if control is not already\n        // waiting.\n        ready: function(wait) {\n            if (wait && this._waiting) return;\n\n            delete this._waiting;\n\n            this.trigger('beforeready');\n            this.trigger('ready');\n        },\n\n        // Return attributes for each getter defined for this control.\n        // If a specific key is provided, only return the value for that key.\n        get: function(key, options) {\n            // Shift arguments\n            if (_.isObject(key)) {\n                options = key;\n                key = null;\n            }\n\n            // Single key, e.g. get('value')\n            if (key) return this._get(key, options);\n\n            var attrs = {};\n\n            // If the getter returns an undefined result, this implies\n            // the method is not implemented.\n            for (var value, i = 0; i < this.attrNames.length; i++) {\n                key = this.attrNames[i];\n\n                if ((value = this._get(key, options)) !== undefined) {\n                    attrs[key] = value;\n                }\n            }\n\n            return attrs;\n        },\n\n        // Sets a value on the control for the attr key or object. If an model\n        // is passed, it's toJSON method is called to returned the underlying\n        // attributes of the model.\n        set: function(key, value, options) {\n            if (this._changing) return;\n\n            var attrs;\n\n            // Shift arguments\n            if (_.isObject(key)) {\n                if (key instanceof Backbone.Model) {\n                    attrs = key.toJSON();\n                } else {\n                    attrs = key;\n                }\n                options = value;\n            } else {\n                (attrs = {})[key] = value;\n            }\n\n            for (key in attrs) {\n                if ((value = attrs[key]) !== undefined) {\n                    this._set(key, value, options);\n                }\n            }\n        },\n\n        clear: function(key, options) {\n            // Shift arguments\n            if (_.isObject(key)) {\n                options = key;\n                key = null;\n            }\n\n            var attrs = {};\n\n            if (key) {\n                attrs[key] = undefined;\n            } else {\n                for (var i = 0; i < this.attrNames.length; i++) {\n                    key = this.attrNames[i];\n                    attrs[key] = undefined;\n                }\n            }\n\n            this._set(attrs, options);\n        },\n\n        // Triggered any time the control contents have changed. Upstream, the\n        // filter can be bound to this event and update itself as changes\n        // occur.\n        change: function() {\n            this._changing = true;\n            this.trigger('change', this, this.get());\n            delete this._changing;\n        },\n\n        // Takes attributes and returns an error message if they are invalid\n        // for this control.\n        validate: function() {},\n\n        // Takes attributes and returns a boolean to whether a value is set.\n        isEmpty: function(attrs) {\n            if (_.isUndefined(attrs.value) || _.isNull(attrs.value)) {\n                return true;\n            }\n\n            if (_.isArray(attrs.value) && !attrs.value.length) {\n                return true;\n            }\n\n            return false;\n        },\n\n        // Placeholder no-op getter/setter functions for each attribute\n        getConcept: noop,\n        getField: noop,\n        getOperator: noop,\n        getValue: noop,\n\n        setConcept: noop,\n        setField: noop,\n        setOperator: noop,\n        setValue: noop\n    };\n\n    // View classes for each Marionette view type with the control attributes\n    // mixed-in\n    var ControlView = Marionette.View.extend({}),\n        ControlItemView = Marionette.ItemView.extend({}),\n        ControlCollectionView = Marionette.CollectionView.extend({}),\n        ControlCompositeView = Marionette.CompositeView.extend({}),\n        ControlLayout = Marionette.Layout.extend({});\n\n    _.defaults(ControlView.prototype, ControlViewMixin);\n    _.defaults(ControlItemView.prototype, ControlViewMixin);\n    _.defaults(ControlCollectionView.prototype, ControlViewMixin);\n    _.defaults(ControlCompositeView.prototype, ControlViewMixin);\n    _.defaults(ControlLayout.prototype, ControlViewMixin);\n\n    return {\n        ControlViewMixin: ControlViewMixin,\n        ControlView: ControlView,\n        ControlItemView: ControlItemView,\n        ControlCollectionView: ControlCollectionView,\n        ControlCompositeView: ControlCompositeView,\n        ControlLayout: ControlLayout,\n        Control: ControlLayout // backwards compatibility\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/button',[\n    'underscore',\n    'backbone',\n    'marionette'\n], function(_, Backbone, Marionette) {\n\n    var ButtonSelectEmptyOption = Marionette.ItemView.extend({\n        className: 'disabled',\n\n        tagName: 'li',\n\n        template: 'button/select-option',\n\n        events: {\n            'click': 'prevent'\n        },\n\n        prevent: function(event) {\n            if (event) {\n                event.preventDefault();\n            }\n        },\n\n        serializeData: function() {\n            return {\n                label: 'No options are available'\n            };\n        }\n    });\n\n    var ButtonSelectOption = Marionette.CompositeView.extend({\n        tagName: 'li',\n\n        template: 'button/select-option',\n\n        events: {\n            'click': 'select'\n        },\n\n        serializeData: function() {\n            return {\n                label: this.model.get('label') || this.model.get('value')\n            };\n        },\n\n        select: function(event) {\n            if (event) {\n                event.preventDefault();\n            }\n\n            return this.model.set('selected', true);\n        }\n    });\n\n    var ButtonSelect = Marionette.CompositeView.extend({\n        className: 'btn-group btn-select',\n\n        template: 'button/select',\n\n        itemView: ButtonSelectOption,\n\n        itemViewContainer: '.dropdown-menu',\n\n        emptyView: ButtonSelectEmptyOption,\n\n        options: {\n            placeholder: '----'\n        },\n\n        ui: {\n            toggle: '.dropdown-toggle',\n            menu: '.dropdown-menu',\n            selection: '.dropdown-selection'\n        },\n\n        collectionEvents: {\n            'change:selected': 'updateSelection'\n        },\n\n        constructor: function(options) {\n            if (!options) options = {};\n\n            var choices = options.collection;\n\n            if (!(choices instanceof Backbone.Collection)) {\n                // Convert from flat list of values into objects\n                if (choices && typeof choices[0] !== 'object') {\n                    choices = _.map(choices, function(choice) {\n                        return {\n                            value: choice,\n                            label: choice\n                        };\n                    });\n                }\n\n                options.collection = new Backbone.Collection(choices);\n            }\n\n            Marionette.CompositeView.prototype.constructor.call(this, options);\n        },\n\n        setSelection: function(value) {\n            var model = this.collection.findWhere({value: value});\n\n            if (model) {\n                return model.set('selected', true);\n            }\n        },\n\n        getSelection: function() {\n            var model = this.collection.findWhere({selected: true});\n\n            if (model) {\n                return model.get('value');\n            }\n        },\n\n        updateSelection: function(model, selected, options) {\n            if (!selected) return;\n\n            var value = model.get('value');\n\n            // Disable all other selected models.\n            this.collection.each(function(_model) {\n                if (_model !== model) {\n                    return _model.set('selected', false, {silent: true});\n                }\n            });\n\n            this.ui.selection.html(model.get('label') || value);\n\n            // Trigger DOM event\n            this.$el.trigger('change', value);\n\n            // Trigger view event\n            this.trigger('change', model, value, options);\n        },\n\n        onRender: function() {\n            if (/^(small|large|mini)$/.test(this.options.size)) {\n                this.ui.toggle.addClass('btn-' + this.options.size);\n            }\n\n            this.ui.toggle.dropdown();\n\n            var model = this.collection.findWhere({selected: true});\n            if (model) {\n                this.updateSelection(model, true);\n            }\n            else {\n                this.ui.selection.html(this.options.placeholder);\n            }\n        }\n    });\n\n    return {\n        ButtonSelectEmptyOption: ButtonSelectEmptyOption,\n        ButtonSelectOption: ButtonSelectOption,\n        ButtonSelect: ButtonSelect\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/range',[\n    'underscore',\n    './base',\n    '../button',\n    '../../constants'\n], function(_, base, button, constants) {\n\n    // A generic control for entering an inclusive or exclusive range.\n    var RangeControl = base.Control.extend({\n        template: 'controls/range/layout',\n\n        events: {\n            'keyup .range-lower, .range-upper': '_change',\n            'change .btn-select': '_change',\n            'click .range-help-button': 'toggleHelpText'\n        },\n\n        ui: {\n            operatorSelect: '.btn-select',\n            lowerBound: '.range-lower',\n            upperBound: '.range-upper',\n            help: '.help-block'\n        },\n\n        initialize: function() {\n            this._change = _.debounce(this.change, constants.INPUT_DELAY);\n        },\n\n        onRender: function() {\n            this.operatorSelect = new button.ButtonSelect({\n                collection: [{\n                    value: 'range',\n                    label: 'between',\n                    selected: true\n                }, {\n                    value: '-range',\n                    label: 'not between'\n                }]\n            });\n\n            this.operatorSelect.render().$el.prependTo(this.$el);\n            this.ui.help.hide();\n            this.renderBounds();\n\n            this.listenTo(this.model.stats, 'reset', this.renderBounds);\n        },\n\n        // Renders the lower/upper bounds of the input fields. This reads the stats\n        // and then renders the input placeholders if defined.\n        renderBounds: function() {\n            this.readMinMaxStats();\n\n            if (!_.isUndefined(this.minLowerBound)) {\n                this.setLowerBoundPlaceholder(this.minLowerBound);\n            }\n\n            if (!_.isUndefined(this.maxUpperBound)) {\n                this.setUpperBoundPlaceholder(this.maxUpperBound);\n            }\n        },\n\n        // Method for parsing the lower bound value for the range.\n        parseMinStat: function(value) {\n            return value;\n        },\n\n        // Method for parsing the upper bound value for the range.\n        parseMaxStat: function(value) {\n            return value;\n        },\n\n        // If available and applicable, the minimum and maximum values of the field\n        // distribution are used for display in the text inputs.\n        readMinMaxStats: function() {\n            var statsMin = this.model.stats.get('min'),\n                statsMax = this.model.stats.get('max');\n\n            if (!_.isUndefined(statsMin)) {\n                this.minLowerBound = this.parseMinStat(statsMin.get('value'));\n            }\n\n            if (!_.isUndefined(statsMax)) {\n                this.maxUpperBound = this.parseMaxStat(statsMax.get('value'));\n            }\n        },\n\n        toggleHelpText: function(event) {\n            event.preventDefault();\n            this.ui.help.toggle();\n        },\n\n        getField: function() {\n            return this.model.id;\n        },\n\n        // Uses the logical combination of the (not) between dropdown and the\n        // upper/lower bounds text boxes to determine the operator for this\n        // control. The help information for this control has a plain English\n        // explanation of this logic.\n        getOperator: function() {\n            var lower = this.ui.lowerBound.val(),\n                upper = this.ui.upperBound.val(),\n                operator = this.operatorSelect.getSelection(),\n                reverse = operator !== 'range';\n\n            if (lower !== '' && upper !== '') {\n                operator = operator;\n            }\n            else if (lower !== '') {\n                operator = reverse ? 'lte' : 'gte';\n            }\n            else if (upper !== '') {\n                operator = reverse ? 'gte' : 'lte';\n            }\n            else {\n                operator = undefined;\n            }\n\n            return operator;\n        },\n\n        // Method to override in the case where formatting or conversion of\n        // the lower bound needs to occur before using as part of or in whole\n        // for the value determined in getValue. By default, this method simply\n        // returns the string representation of the lower bound lower the text\n        // box input.\n        getLowerBoundValue: function() {\n            return this.ui.lowerBound.val();\n        },\n\n        // Method to override in the case where formatting or conversion of\n        // the upper bound needs to occur before using as part of or in whole\n        // for the value determined in getValue. By default, this method simply\n        // returns the string representation of the upper bound lower the text\n        // box input.\n        getUpperBoundValue: function() {\n            return this.ui.upperBound.val();\n        },\n\n        exists: function(value) {\n            return _.exists(value) && value !== '';\n        },\n\n        // Use the filled state of the upper/lower bound inputs to create the\n        // value range or explicit value for this control. If both the upper\n        // and lower bounds are left blank, null will be returned to invalidate\n        // this range.\n        getValue: function() {\n            var value,\n                lower = this.getLowerBoundValue(),\n                upper = this.getUpperBoundValue();\n\n            if (this.exists(lower) && this.exists(upper)) {\n                value = [lower, upper];\n            }\n            else if (this.exists(lower)) {\n                value = lower;\n            }\n            else if (this.exists(upper)) {\n                value = upper;\n            }\n\n            return value;\n        },\n\n        isFocused: function(element) {\n            // We need to compare the element against the activeElement on the\n            // document because the :focus psuedoselector is buggy in some\n            // browsers.\n            return document.activeElement === element;\n        },\n\n        setOperator: function(operator) {\n            // All other operators (lte, gte, etc.) default to the 'range'\n            // selection by default.\n            if (operator !== '-range') {\n                operator = 'range';\n            }\n\n            this.operatorSelect.setSelection(operator);\n        },\n\n        // This method updates the lower bound text box placeholder with the\n        // supplied value. Overriding this method allows for transformations\n        // of the value itself before application as well as more complex UI\n        // updates beyond the default behavior. This method simply sets the\n        // lower bound text box placeholder to the string supplied as the value\n        // argument.\n        setLowerBoundPlaceholder: function(value) {\n            this.ui.lowerBound.prop('placeholder', value);\n        },\n\n        setLowerBoundValue: function(value) {\n            // Since ui.upperBound is techinically just the result of a selector\n            // it is really an array so we use the first element to check for\n            // the focused state.\n            if (!this.isFocused(this.ui.lowerBound[0])) {\n                this.ui.lowerBound.val(value);\n            }\n        },\n\n        // This method updates the upper bound text box placeholder with the\n        // supplied value. Overriding this method allows for transformations\n        // of the value itself before application as well as more complex UI\n        // updates beyond the default behavior. This method simply sets the\n        // upper bound text box placeholder to the string supplied as the value\n        // argument.\n        setUpperBoundPlaceholder: function(value) {\n            this.ui.upperBound.prop('placeholder', value);\n        },\n\n        setUpperBoundValue: function(value) {\n            // Since ui.upperBound is techinically just the result of a selector\n            // it is really an array so we use the first element to check for\n            // the focused state.\n            if (!this.isFocused(this.ui.upperBound[0])) {\n                this.ui.upperBound.val(value);\n            }\n        },\n\n        // Override set method due to the dependency of the operator\n        // when setting the value.\n        set: function(attrs) {\n            // If this control is in the middle of a change, don't bother\n            // trying to set anything here.\n            if (this._changing) return;\n\n            this.setOperator(attrs.operator);\n\n            // Reset values prior to setting.\n            this.setUpperBoundValue();\n            this.setLowerBoundValue();\n\n            var value = attrs.value;\n\n            if (_.isArray(value)) {\n                if (!_.isUndefined(value[0])) this.setLowerBoundValue(value[0]);\n                if (!_.isUndefined(value[1])) this.setUpperBoundValue(value[1]);\n            }\n            else if (!_.isUndefined(value)) {\n                if (attrs.operator === 'gte') {\n                    this.setLowerBoundValue(value);\n                }\n                else {\n                    this.setUpperBoundValue(value);\n                }\n            }\n        },\n\n        validate: function(attrs) {\n            // One of the bounds must be defined.\n            if (_.isUndefined(attrs.value) || _.isNull(attrs.value)) {\n                return 'A lower or upper value must be defined';\n            }\n\n            // The first value should not be greater than the second.\n            if (_.isArray(attrs.value) && attrs.value[0] > attrs.value[1]) {\n                return 'The lower bound cannot be greater than the upper';\n            }\n        }\n    });\n\n\n    return {\n        RangeControl: RangeControl\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/date',[\n    'underscore',\n    './range'\n], function(_, range) {\n\n    var DateControl = range.RangeControl.extend({\n        // Add the change event from the datepickers to existing range events\n        events: function() {\n            return _.extend({\n                'changeDate .range-lower,.range-upper': '_change'\n            }, range.RangeControl.prototype.events);\n        },\n\n        onRender: function() {\n            range.RangeControl.prototype.onRender.apply(this, arguments);\n\n            // Initialize the datepickers and make them close automatically\n            this.ui.lowerBound.datepicker({'autoclose': true});\n            this.ui.upperBound.datepicker({'autoclose': true});\n        },\n\n        // Sets the placeholder value on the supplied element to the date value\n        _setPlaceholder: function(element, value) {\n            // String off the time data if it is included.\n            var dateStr = value.replace(/T.*$/, '');\n\n            // Currently the string is in yyyy-mm-dd so we need to split it up\n            // and reorder the properties.\n            var dateFields = dateStr.split('-');\n\n            // Unless there are exaclty 3 fields we will leave the place holder\n            // as it is now rather than trying to figure out what malformed\n            // input we are trying to use.\n            if (dateFields.length === 3) {\n                dateStr = '' + dateFields[1] + '/' + dateFields[2] + '/' + dateFields[0];\n                element.attr('placeholder', dateStr);\n            }\n        },\n\n        // Override the default behavior so the date is formatted correctly\n        // for use in the placeholder.\n        setLowerBoundPlaceholder: function(value) {\n            this._setPlaceholder(this.ui.lowerBound, value);\n        },\n\n        // Override the default behavior so the date is formatted correctly\n        // for use in the placeholder.\n        setUpperBoundPlaceholder: function(value) {\n            this._setPlaceholder(this.ui.upperBound, value);\n        },\n    });\n\n    return {\n        DateControl: DateControl\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/number',[\n    './range'\n], function(range) {\n\n    // A control for entering an inclusive or exclusive numeric range\n    var NumberControl = range.RangeControl.extend({\n\n        // Cast the lower bound to a number for use in the getValue() method\n        getLowerBoundValue: function() {\n            var value = this.ui.lowerBound.val().trim();\n            if (value) return parseFloat(value);\n        },\n\n        // Cast the upper bound to a number for use in the getValue() method\n        getUpperBoundValue: function() {\n            var value = this.ui.upperBound.val().trim();\n            if (value) return parseFloat(value);\n        }\n\n    });\n\n\n    return {\n        NumberControl: NumberControl\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/base',[\n    'jquery',\n    'underscore',\n    'marionette'\n], function($, _, Marionette) {\n\n    /*\n     * Simple set of views for representing various states.\n     *\n     * Options include:\n     *\n     * - icon\n     * - message\n     * - align\n     * - template\n     *\n     * If a template is not provided, one will be created based on\n     * the icon and the message.\n     *\n     * `align` corresponds to the text alignment. Options are 'left', 'right'\n     * and 'center'.\n     */\n\n    var StateView = Marionette.ItemView.extend({\n        align: 'center',\n\n        constructor: function(options) {\n            Marionette.ItemView.prototype.constructor.call(this, options);\n\n            if (!this.template) {\n                if (this.options.template) {\n                    this.template = this.options.template;\n                } else {\n                    var html = [];\n\n                    var icon = _.result(this.options, 'icon') ||\n                               _.result(this, 'icon');\n\n                    var message = _.result(this.options, 'message') ||\n                                  _.result(this, 'message');\n\n                    if (icon) html.push(icon);\n                    if (message) html.push(message);\n\n                    this.template = function() {\n                        return html.join(' ');\n                    };\n                }\n            }\n\n            if (this.align) this.$el.css('text-align', this.align);\n        }\n    });\n\n\n    var EmptyView = StateView.extend({\n        className: 'empty-view',\n\n        icon: '<i class=\"icon-info\"></i>',\n\n        message: 'No data available'\n    });\n\n\n    var EmptySearchView = EmptyView.extend({\n        className: 'empty-search-view',\n\n        icon: '<i class=\"icon-search icon-2x\"></i>',\n\n        message: 'We could not find anything related to your search'\n    });\n\n\n    var ErrorView = StateView.extend({\n        className: 'error-view',\n\n        icon: '<i class=\"icon-exclamation\"></i>',\n\n        message: 'Something went awry..'\n    });\n\n\n    var ErrorOverlayView = ErrorView.extend({\n        className: 'error-overlay-view',\n\n        template: 'base/error-overlay',\n\n        onRender: function() {\n            $(this.options.target)\n                .append(this.$el);\n        }\n    });\n\n\n    var LoadView = StateView.extend({\n        className: 'load-view',\n\n        icon: '<i class=\"icon-spinner icon-spin\"></i>',\n\n        message: 'Loading...'\n    });\n\n\n    return {\n        EmptyView: EmptyView,\n        EmptySearchView: EmptySearchView,\n        ErrorView: ErrorView,\n        ErrorOverlayView: ErrorOverlayView,\n        LoadView: LoadView\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/paginator',[\n    'jquery',\n    'underscore',\n    'marionette',\n    './base',\n    '../constants'\n], function($, _, Marionette, base, constants) {\n\n    var EmptyPage = base.EmptyView.extend({\n        message: 'No page results'\n    });\n\n    var LoadingPage = base.LoadView.extend({\n        message: 'Loading page...'\n    });\n\n    // Set of pagination links that are used to control/navigation the bound\n    // model. The model is assumed to implement the 'paginator protocol', see\n    // cilantro/models/paginator.\n    var Paginator = Marionette.ItemView.extend({\n        template: 'paginator',\n\n        className: 'paginator',\n\n        ui: {\n            first: '[data-page=first]',\n            prev: '[data-page=prev]',\n            next: '[data-page=next]',\n            last: '[data-page=last]',\n            pageCount: '.page-count',\n            currentPage: '.current-page',\n            buttons: '[data-toggle=tooltip]'\n        },\n\n        modelEvents: {\n            'change:pagecount': 'renderPageCount',\n            'change:currentpage': 'renderCurrentPage'\n        },\n\n        events: {\n            'click [data-page]': 'requestChangePage'\n        },\n\n        initialize: function() {\n            this._changePage = _.debounce(this.changePage, constants.REQUEST_DELAY);\n        },\n\n        onRender: function() {\n            // The tooltip call MUST be done before the render calls below or\n            // the tooltip options set here will not be respected because some\n            // of the buttons will be disabled.\n            this.ui.buttons.tooltip({\n                animation: false,\n                placement: 'bottom'\n            });\n\n            if (!this.model.pageIsLoading()) {\n                this.renderPageCount(this.model, this.model.getPageCount());\n                var args = [this.model].concat(this.model.getCurrentPageStats());\n                this.renderCurrentPage.apply(this, args);\n            }\n        },\n\n        renderPageCount: function(model, value) {\n            this.ui.pageCount.text(value);\n        },\n\n        renderCurrentPage: function(model, value, options) {\n            this.ui.currentPage.text(value);\n            this.ui.first.prop('disabled', !!options.first);\n            this.ui.prev.prop('disabled', !!options.first);\n            this.ui.next.prop('disabled', !!options.last);\n            this.ui.last.prop('disabled', !!options.last);\n\n            // If we have disabled the buttons then we need to force hide the\n            // tooltip to prevent it from being permanently visible.\n            if (!!options.first) {\n                this.ui.first.tooltip('hide');\n                this.ui.prev.tooltip('hide');\n            }\n\n            if (!!options.last) {\n                this.ui.next.tooltip('hide');\n                this.ui.last.tooltip('hide');\n            }\n        },\n\n        changePage: function(newPage) {\n            switch (newPage) {\n                case 'first':\n                    return this.model.getFirstPage();\n                case 'prev':\n                    return this.model.getPreviousPage();\n                case 'next':\n                    return this.model.getNextPage();\n                case 'last':\n                    return this.model.getLastPage();\n                default:\n                    throw new Error('Unknown paginator direction: ' + newPage);\n            }\n        },\n\n        requestChangePage: function(event) {\n            this._changePage($(event.currentTarget).data('page'));\n        }\n    });\n\n    // Page for representing model-based data.\n    var Page = Marionette.ItemView.extend({});\n\n    // Page for representing collection-based data.\n    var ListingPage = Marionette.CollectionView.extend({\n        itemView: Page,\n\n        emptyPage: EmptyPage,\n\n        itemViewOptions: function(item, index) {\n            return _.defaults({model: item, index: index}, this.options);\n        }\n    });\n\n    // Renders multiples pages as requested, but only shows the current\n    // page. This is delegated by the paginator-based collection bound to\n    // this view.\n    //\n    // The contained views may be model-based or collection-based. This is\n    // toggled based on the `options.list` flag. If true, the `listView`\n    // will be used as the item view class. Otherwise the standard `itemView`\n    // will be used for model-based data.\n    //\n    // If list is true, the `listViewOptions` will be called to produce the\n    // view options for the collection view. By default the item passed in\n    // is assumed to have an `items` collection on it that will be used.\n    var PageRoll = Marionette.CollectionView.extend({\n        options: {\n            list: true\n        },\n\n        itemView: Page,\n\n        listView: ListingPage,\n\n        // The first page is guaranteed (assumed) to be fetch and rendered,\n        // thus the empty view for the page roll is the loading state.\n        emptyView: LoadingPage,\n\n        collectionEvents: {\n            'change:currentpage': 'showCurrentPage'\n        },\n\n        // Toggle between list-based versus item-based page roll\n        getItemView: function() {\n            if (this.options.list) {\n                return this.listView;\n            }\n\n            return this.itemView;\n        },\n\n        listViewOptions: function(item) {\n            return {\n                collection: item.items\n            };\n        },\n\n        itemViewOptions: function(item, index) {\n            var options = {\n                model: item,\n                index: index\n            };\n\n            if (this.options.list) {\n                _.extend(options, this.listViewOptions(item, index));\n            }\n\n            return _.defaults(options, this.options);\n        },\n\n        showCurrentPage: function(model, num) {\n            this.children.each(function(view) {\n                view.$el.toggle(view.model.id === num);\n            });\n        }\n    });\n\n    return {\n        Paginator: Paginator,\n        Page: Page,\n        ListingPage: ListingPage,\n        PageRoll: PageRoll\n    };\n});\n\n","/* global define */\n\ndefine('cilantro/ui/values',[\n    'jquery',\n    'underscore',\n    'marionette',\n    'loglevel',\n    './base',\n    '../core',\n    '../models',\n    '../constants'\n], function($, _, Marionette, loglevel, base, c, models, constants) {\n\n    var ValueItem = Marionette.ItemView.extend({\n        className: 'value-item',\n\n        template: 'values/item'\n    });\n\n\n    // Interface for representing a user-defined/selected list of values\n    // in a textarea (one per line). In majority of cases, values\n    // correspond to the labels, but in certain cases, the underlying\n    // values are surrogate identifiers. In this case the values rendered\n    // in the textarea will be the labels.\n    // This expects a collection such as cilantro/models/value#Values\n    var ValueList = Marionette.ItemView.extend({\n        className: 'value-list',\n\n        template: 'values/list',\n\n        // Listen for collection events to update the textarea to match\n        // the values\n        collectionEvents: {\n            'add': 'reloadText',\n            'remove': 'reloadText',\n            'reset': 'reloadText'\n        },\n\n        ui: {\n            textarea: 'textarea'\n        },\n\n        initialize: function() {\n            _.bindAll(this, 'parseText', 'reloadText');\n\n            this._parseText = _.debounce(this.parseText, constants.INPUT_DELAY);\n        },\n\n        // Load labels in textarea\n        reloadText: function() {\n            this.ui.textarea.val(this.collection.pluck('label').join('\\n'));\n        },\n\n        // Split by line, create a new set of models and update the collection\n        // based on the value\n        parseText: function() {\n            var models = [],\n                labels = this.ui.textarea.val().split('\\n');\n\n            // We can only make use of the value as label at this point\n            // since resolving the label may require an server lookups.\n            // This is harmless since _this_ is what the user entered.\n            // Also, the only cases where the value and label would\n            // differ is either pretty formatting (capitalization) or the\n            // value is the primary key and the label is some other\n            // string (e.g. foreign key, lexicon, object set)\n            _.each(labels, function(label) {\n                label = $.trim(label);\n\n                // Ignore empty lines\n                if (!label) return;\n\n                // If the model already exists, use it so revalidation does not\n                // have to occur\n                var model = this.collection.get(label);\n\n                if (!model) {\n                    // 2.3.2 correctly supports validating against the label.\n                    // Prior to this, only the value is supported for validation.\n                    if (c.isSupported('2.3.2')) {\n                        model = {label: label};\n                    }\n                    else {\n                        model = {value: label};\n                        loglevel.warn('Serrano 2.3.2+ is required for proper ' +\n                             'validation of search values');\n                    }\n                }\n\n                models.push(model);\n            }, this);\n\n            this.collection.reset(models);\n        },\n\n        onRender: function() {\n            this.ui.textarea.on('input propertychange', this._parseText);\n        }\n    });\n\n    return {\n        ValueItem: ValueItem,\n        ValueList: ValueList\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/search',[\n    'underscore',\n    'marionette',\n    '../constants'\n], function(_, Marionette, constants) {\n\n    // Search input box that triggers a `search` event the input value\n    // changes. As this is intended for search, non-printing keys do not\n    // trigger the event.\n    var Search = Marionette.ItemView.extend({\n        className: 'search',\n\n        template: 'search',\n\n        options: {\n            placeholder: 'Search...',\n            delay: constants.INPUT_DELAY\n        },\n\n        ui: {\n            input: 'input'\n        },\n\n        events: {\n            'input @ui.input': '_triggerSearch'\n        },\n\n        constructor: function(options) {\n            options = options || {};\n\n            var delay = options.delay || _.result(this, 'options').delay;\n\n            // This event needs to be debounced before the call to the super\n            // constructor or the keyup event will not be mapped to any handler\n            // since _triggerSearch won't exist yet.\n            this._triggerSearch = _.debounce(this.triggerSearch, delay);\n\n            Marionette.ItemView.prototype.constructor.call(this, options);\n\n            // If this is triggered externally, ensure the input text reflects\n            // the query.\n            this.on('search', this.renderInputValue);\n\n            // If a search method is supplied, bind it to the search event\n            if (this.search) this.on('search', this.search);\n        },\n\n        onRender: function() {\n            this.ui.input.attr('placeholder', this.options.placeholder);\n\n            // Focus the input on render, but defer until end of the loop\n            // to ensure it is in the DOM.\n            var _this = this;\n\n            _.defer(function() {\n                if (_this._isRendered && !_this.isClosed) {\n                    _this.ui.input.focus();\n                }\n            });\n        },\n\n        renderInputValue: function(value) {\n            // Prevent setting the input when triggering itself\n            if (!this._triggering) this.ui.input.val(value);\n        },\n\n        triggerSearch: function() {\n            var query = this.ui.input.val();\n            this._triggering = true;\n            this.trigger('search', query);\n            this._triggering = false;\n        }\n    });\n\n\n    return {\n        Search: Search\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/search',[\n    'jquery',\n    'underscore',\n    'marionette',\n    './base',\n    '../../models',\n    '../../constants',\n    '../paginator',\n    '../values',\n    '../search'\n], function($, _, Marionette, controls, models, constants, paginator, values, search) {\n\n    // Single page of values\n    var SearchPageModel = models.Page.extend({\n        constructor: function(attrs, options) {\n            (options = options || {}).parse = true;\n            this.items = new models.Values();\n            models.Page.prototype.constructor.call(this, attrs, options);\n        },\n\n        parse: function(resp, options) {\n            this.items.reset(resp.values, options);\n            delete resp.values;\n            return resp;\n        }\n    });\n\n\n    // Paginator (collection) of pages which is driven by a field values\n    // endpoint.\n    var SearchPaginator = models.Paginator.extend({\n        model: SearchPageModel,\n\n        initialize: function(items, options) {\n            options = options || {};\n            this.field = options.field;\n            this.currentUrl = null;\n            models.Paginator.prototype.initialize.call(this, items, options);\n        },\n\n        url: function() {\n            var url = this.currentUrl || this.field.links.values;\n\n            if (this.urlParams) {\n                url = url + '?' + $.param(this.urlParams);\n            }\n            return url;\n        }\n    });\n\n    // Single search result item\n    var SearchItem = Marionette.ItemView.extend({\n        className: 'value-item',\n\n        template: 'controls/search/item',\n\n        ui: {\n            actions: '.actions',\n            addButton: '.add-item-button',\n            removeButton: '.remove-item-button',\n            label: '.value-label'\n        },\n\n        events: {\n            'click .add-item-button': 'addItem',\n            'click .remove-item-button': 'removeItem'\n        },\n\n        constructor: function(options) {\n            options = options || {};\n\n            if ((this.values = options.values)) {\n                this.listenTo(this.values, 'add', this.setState);\n                this.listenTo(this.values, 'remove', this.setState);\n                this.listenTo(this.values, 'reset', this.setState);\n            }\n\n            Marionette.ItemView.prototype.constructor.call(this, options);\n        },\n\n        addItem: function() {\n            // Mark as valid since it was derived from a controlled list\n            var attrs = _.extend(this.model.toJSON(), {valid: true});\n            this.values.add(attrs);\n        },\n\n        removeItem: function() {\n            this.values.remove(this.model);\n        },\n\n        setState: function() {\n            if (!!this.values.get(this.model)) {\n                this.ui.addButton.hide();\n                this.ui.removeButton.show();\n            } else {\n                this.ui.addButton.show();\n                this.ui.removeButton.hide();\n            }\n        },\n\n        onRender: function() {\n            this.setState();\n            if (this.ui.label.html() === '') {\n                this.ui.label.html('(empty)');\n            } else if (this.ui.label.html() === 'null') {\n                this.ui.label.html('(null)');\n            }\n        }\n    });\n\n\n    // A single page of search results\n    var SearchPage = paginator.ListingPage.extend({\n        className: 'search-value-list',\n        itemView: SearchItem\n    });\n\n\n    // All search result pages, only the current page is shown, the rest are\n    // hidden.\n    var SearchPageRoll = paginator.PageRoll.extend({\n        listView: SearchPage\n    });\n\n\n    var SearchControl = controls.ControlLayout.extend({\n        className: 'field-value-search',\n\n        template: 'controls/search/layout',\n\n        searchPaginator: SearchPaginator,\n\n        events: {\n            'click [data-action=clear]': 'clearValues',\n            'change [name=exclude]': 'change'\n        },\n\n        regions: {\n            search: '.search-region',\n            paginator: '.paginator-region',\n            browse: '.browse-region',\n            values: '.values-region'\n        },\n\n        regionViews: {\n            search: search.Search,\n            paginator: paginator.Paginator,\n            browse: SearchPageRoll,\n            values: values.ValueList\n        },\n\n        ui: {\n            excludeCheckbox: '[name=exclude]'\n        },\n\n        initialize: function() {\n            // Initialize a new collection of values for use by the\n            // two regions. This is shared between the source data\n            // and the selected values for toggling state changes.\n            if (!this.collection) {\n                this.collection = new models.Values();\n\n                var _this = this;\n                this.collection.url = function() {\n                    return _this.model.links.values;\n                };\n            }\n\n            // Trigger a change event on all collection events\n            this.listenTo(this.collection, 'all', this.change);\n\n            this.valuesPaginator = new this.searchPaginator(null, {\n                field: this.model\n            });\n\n            this.valuesPaginator.refresh();\n        },\n\n        onRender: function() {\n            var searchRegion = new this.regionViews.search({\n                model: this.model,\n                placeholder: 'Search ' + this.model.get('plural_name') + '...'\n            });\n\n            // Listen to search events\n            this.listenTo(searchRegion, 'search', this.handleSearch);\n\n            var browseRegion = new this.regionViews.browse({\n                collection: this.valuesPaginator,\n                values: this.collection\n            });\n\n            var paginatorRegion = new this.regionViews.paginator({\n                className: 'paginator mini',\n                model: this.valuesPaginator\n            });\n\n            var valuesRegion = new this.regionViews.values({\n                collection: this.collection\n            });\n\n            this.search.show(searchRegion);\n            this.browse.show(browseRegion);\n            this.paginator.show(paginatorRegion);\n            this.values.show(valuesRegion);\n        },\n\n        handleSearch: function(query) {\n            this.valuesPaginator.urlParams = query ? {query: query} : null;\n            this.valuesPaginator.refresh();\n        },\n\n        clearValues: function() {\n            this.collection.reset();\n        },\n\n        getField: function() {\n            if (this.model) return this.model.id;\n        },\n\n        getOperator: function() {\n            if (this.ui.excludeCheckbox.prop('checked')) {\n                return '-in';\n            }\n\n            return 'in';\n        },\n\n        setOperator: function(operator) {\n            if (operator === '-in') {\n                this.ui.excludeCheckbox.prop('checked', true);\n            }\n            else {\n                this.ui.excludeCheckbox.prop('checked', false);\n            }\n        },\n\n        // Returns an array of objects with value and label attributes.\n        // These are returned as is to enable correct repopulation.\n        getValue: function() {\n            return this.collection.toJSON();\n        },\n\n        setValue: function(value) {\n            // Do not merge into existing models since the collection contains\n            // additional state (which would be removed due to the merge).\n            this.collection.set(value, {merge: false, silent: true});\n            this.collection.trigger('reset');\n        },\n\n        validate: function(attrs) {\n            // If a call is still pending, warn the user that they are too\n            // fast for their own good and to try again in a bit.\n            var pending = this.collection.any(function(value) {\n                return value.get('pending') === true;\n            });\n\n            if (pending) {\n                return 'The entered ' + this.model.get('plural_name') +\n                       ' are being validated.';\n            }\n\n            // Get a list of labels for all the elements in the collection that\n            // were found to be invalid during the last call to the values\n            // endpoint on the server. If no such elements exist, then this\n            // control is deemed valid.\n            var invalid = [];\n\n            this.collection.each(function(model) {\n                if (model.get('valid') === false) {\n                    invalid.push(model.get('label'));\n                }\n            });\n\n            if (invalid.length) {\n                return 'The following ' + this.model.get('plural_name') +\n                       ' are invalid: <pre>' + invalid.join('\\n') + '</pre>';\n            }\n\n            if (attrs && (!attrs.value || !attrs.value.length)) {\n                return 'At least one value must be selected';\n            }\n        }\n\n    });\n\n    return {\n        SearchControl: SearchControl,\n        SearchItem: SearchItem,\n        SearchPage: SearchPage,\n        SearchPageRoll: SearchPageRoll,\n        SearchPaginator: SearchPaginator\n    };\n\n});\n\n","/* global define */\n\ndefine ('cilantro/ui/controls/infograph',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'marionette',\n    './base'\n], function($, _, Backbone, Marionette, base) {\n\n    // Returns a function closure that can be used to sort by attribute\n    // values for a collection of models.\n    var sortModelAttr = function(attr) {\n        return function(model) {\n            var value = model.get(attr);\n            if (_.isString(value)) {\n                value = value.toLowerCase();\n            }\n            return value;\n        };\n    };\n\n    // Model with minimal parsing for unpacking the source value contained\n    // with an array.\n    var BarModel = Backbone.Model.extend({ });\n\n    // Collection of models representing the distribution data. Includes\n    // a method for sorting models by an attriute. If the attribute is\n    // prefixed with a hyphen '-', the sort will be reversed (descending).\n    // This triggers the 'sort' event unless the 'silent' option is true.\n    var BarCollection = Backbone.Collection.extend({\n        model: BarModel,\n\n        comparator: function(model) {\n            return -model.get('count');\n        },\n\n        sortModelsBy: function(attr) {\n            var reverse = attr.chartAt(0);\n            if (reverse === '-') {\n                attr = attr.slice(1);\n            }\n            this.models = this.sortBy(sortModelAttr(attr));\n\n            if (reverse === '-') {\n                this.models.reverse();\n            }\n\n            this.trigger('sort', this);\n        }\n    });\n\n    // View rendering the data in BarModel including stats relative to the\n    // 'total' option such as the percentile of its 'count'. Bars have\n    // 'selected' and 'visibility' properties, both of which can be toggled.\n    var Bar = Marionette.ItemView.extend({\n        className: 'info-bar',\n\n        template: 'controls/infograph/bar',\n\n        options: {\n            total: null\n        },\n\n        ui: {\n            bar: '.bar',\n            barLabel: '.bar-label'\n        },\n\n        events: {\n            'click': 'toggleSelected'\n        },\n\n        modelEvents: {\n            'change:selected': 'setSelected',\n            'change:visible': 'setVisible'\n        },\n\n        initialize: function() {\n            _.bindAll(this, 'onExcludedChange');\n\n            this.listenTo(this.model.collection, 'change:excluded',\n                          this.onExcludedChange);\n        },\n\n        serializeData: function() {\n            var attrs = this.model.toJSON();\n\n            var percentage = this.getPercentage();\n            attrs.width = percentage;\n\n            // Simplify percentages that are less than one to be represented as\n            // such rather than a small floating point.\n            if (percentage < 1) {\n                attrs.percentage = '<1';\n            }\n            else {\n                attrs.percentage = parseInt(percentage);\n            }\n\n            return attrs;\n        },\n\n        onRender: function() {\n            this.setSelected(this.model, !!this.model.get('selected'));\n\n            if (this.ui.barLabel.html() === '') {\n                this.ui.barLabel.html('(empty)');\n            }\n\n            if (this.ui.barLabel.html() === 'null') {\n                this.ui.barLabel.html('(null)');\n            }\n        },\n\n        // Returns the percentage of the value's count relative to the 'total'\n        getPercentage: function() {\n            return (this.model.get('count') / this.options.total) * 100;\n        },\n\n        // Toggle the selected state of the bar\n        toggleSelected: function() {\n            this.model.set('selected', !this.model.get('selected'));\n        },\n\n        onExcludedChange: function() {\n            this.$el.toggleClass('excluded', this.model.get('excluded'));\n        },\n\n        // Sets the selected state of the bar. If the bar is filtered,\n        // deselecting it will hide the bar from view.\n        setSelected: function(model, value) {\n            this.$el.toggleClass('selected', value);\n\n            if (!value && model.get('visible') === false) {\n                this.$el.removeClass('filtered').hide();\n            }\n        },\n\n        // Sets the visibility of the bar based on its current state.\n        setVisible: function(model, value) {\n            if (value) {\n                this.$el.removeClass('filtered').show();\n            }\n            else if (model.get('selected')) {\n                this.$el.addClass('filtered');\n            }\n            else {\n                this.$el.hide();\n            }\n        }\n    });\n\n    // Renders a series of bars for each value. This contains the value\n    // count and percentage for the value.\n    var Bars = base.ControlCollectionView.extend({\n        className: 'info-bar-chart',\n\n        itemView: Bar,\n\n        itemViewOptions: function(model) {\n            return {\n                model: model,\n                total: this.calcTotal()\n            };\n        },\n\n        collectionEvents: {\n            'change': 'change',\n            'sort': 'sortChildren'\n        },\n\n        initialize: function() {\n            this.wait();\n\n            var _this = this;\n\n            // Fetch the field distribution, do not cache\n            this.model.distribution(function(dist) {\n                _this.model.values({'limit': 0}, function(resp) {\n                    var valueLabels = {};\n\n                    _.each(resp.values, function(item) {\n                        valueLabels[item.value] = item.label;\n                    });\n\n                    var models = _.map(dist.data, function(item) {\n                        var value = item.values[0];\n\n                        return {\n                            count: item.count,\n                            value: value,\n                            label: valueLabels[value]\n                        };\n                    });\n\n                    _this.collection.reset(models);\n                    _this.ready();\n                });\n            });\n        },\n\n        // Sums the total count across all values\n        calcTotal: function() {\n            var total = 0,\n                counts = this.collection.pluck('count');\n\n            for (var i = 0; i < counts.length; i++) {\n                total += counts[i];\n            }\n\n            return total;\n        },\n\n        sortChildren: function() {\n            // Iterate over the newly sorted models and re-appends the child\n            // view relative to the new indicies.\n            var _this = this;\n            this.collection.each(function(model) {\n                var view = _this.collection.findByModel(model);\n                _this.$el.append(view.el);\n            });\n        },\n\n        getField: function() {\n            return this.model.id;\n        },\n\n        getOperator: function() {\n            // Since all selected bars are either included or excluded, the presence\n            // of a single excluded bar in those selected means that we should be\n            // using the exclusive operator. Otherwise, return the inclusive operator.\n            if (this.collection.where({excluded: true}).length > 0) {\n                return '-in';\n            }\n\n            return 'in';\n        },\n\n        getValue: function() {\n            return _.map(this.collection.where({selected: true}), function(model) {\n                return model.get('value');\n            });\n        },\n\n        setValue: function(values) {\n            if (!values) values = [];\n\n            // Toggle the selection based on the presence values\n            this.collection.each(function(model) {\n                var value = model.get('value');\n                model.set('selected', values.indexOf(value) >= 0);\n            });\n        },\n\n        setOperator: function(operator) {\n            if (operator === '-in') {\n                this.collection.each(function(model) {\n                    model.set('excluded', true);\n                });\n                $('input[name=exclude]').attr('checked', true);\n            }\n        }\n    });\n\n    // The toolbar makes it easier to interact with large lists of values. It\n    // supports filtering values by text. Also, a button is provided to invert the\n    // selection of values. When combined with filtering, values are selected if\n    // they are not filtered by the search. The values themselves are sortable by\n    // the label or the count.\n    var BarChartToolbar = Marionette.ItemView.extend({\n        className: 'navbar navbar-toolbar',\n\n        template: 'controls/infograph/toolbar',\n\n        events: {\n            // Note, that no delay is used since it is working with the local list\n            // of values so the filtering can keep up.\n            'keyup [name=filter]': 'filterBars',\n            'click [name=invert]': 'invertSelection',\n            'click .sort-value-header, .sort-count-header': 'sortBy',\n            'change [name=exclude]': 'excludeCheckboxChanged'\n        },\n\n        ui: {\n            toolbar: '.btn-toolbar',\n            filterInput: '[name=filter]',\n            invertButton: '[name=invert]',\n            sortValueHeader: '.sort-value-header',\n            sortCountHeader: '.sort-count-header',\n            excludeCheckbox: '[name=exclude]'\n        },\n\n        initialize: function() {\n            this.sortDirection = '-count';\n        },\n\n        sortBy: function(event) {\n            if (event.currentTarget.className === 'sort-value-header') {\n                if (this.sortDirection === '-value') {\n                    this.sortDirection = 'value';\n                }\n                else {\n                    this.sortDirection = '-value';\n                }\n            }\n            else {\n                if (this.sortDirection === '-count') {\n                    this.sortDirection = 'count';\n                }\n                else {\n                    this.sortDirection = '-count';\n                }\n            }\n\n            switch (this.sortDirection) {\n                case '-count':\n                    this.ui.sortValueHeader.html('Value <i class=icon-sort></i>');\n                    this.ui.sortCountHeader.html('Count <i class=icon-sort-down></i>');\n                    break;\n                case 'count':\n                    this.ui.sortValueHeader.html('Value <i class=icon-sort></i>');\n                    this.ui.sortCountHeader.html('Count <i class=icon-sort-up></i>');\n                    break;\n                case '-value':\n                    this.ui.sortValueHeader.html('Value <i class=icon-sort-down></i>');\n                    this.ui.sortCountHeader.html('Count <i class=icon-sort></i>');\n                    break;\n                case 'value':\n                    this.ui.sortValueHeader.html('Value <i class=icon-sort-up></i>');\n                    this.ui.sortCountHeader.html('Count <i class=icon-sort></i>');\n                    break;\n            }\n\n            this.collection.sortModelsBy(this.sortDirection);\n        },\n\n        toggle: function(show) {\n            this.ui.filterInput.toggle(show);\n            this.ui.invertButton.toggle(show);\n            this.ui.sortValueHeader.toggle(show);\n            this.ui.sortCountHeader.toggle(show);\n        },\n\n        // Filters the bars given a text string or via an event from the input\n        filterBars: function(event) {\n            var text;\n\n            if (_.isString(event)) {\n                text = event;\n            }\n            else {\n                if (event !== null) {\n                    event.stopPropagation();\n                }\n                text = this.ui.filterInput.val();\n            }\n\n            var regex = new RegExp(text, 'i');\n            this.collection.each(function(model) {\n                model.set('visible', !text || regex.test(model.get('value')));\n            });\n        },\n\n        // Inverts the selected bars. If the bar is not visible and not\n        // selected it will not be inverted.\n        invertSelection: function() {\n            this.collection.each(function(model) {\n                if (model.get('visible') !== false || model.get('selected')) {\n                    model.set('selected', !model.get('selected'));\n                }\n            });\n            this.collection.trigger('change');\n        },\n\n        excludeCheckboxChanged: function() {\n            var exclude = this.ui.excludeCheckbox.prop('checked');\n\n            // If we don't set this to silent, then the change event for each\n            // model will also be called on the collection. This will result in\n            // an unnecessary number of change handler calls for this control.\n            this.collection.each(function(model) {\n                model.set('excluded', exclude, {silent: true});\n            });\n\n            // Be polite and broadcast an event to alert the bars that the\n            // inclusion/exclusion status has changed and that they should now\n            // update accordingly. This is necessary since we silenced the event\n            // that would normally occur when we explicity set the excluded\n            // attribute above.\n            this.collection.trigger('change:excluded');\n        }\n    });\n\n    // Infograph-style control which renders a list of horizontal bars filled based\n    // on their percentage of the total population. Bars can be clicked to be selected\n    // for inclusion. For small sets of values, the 'minValuesForToolbar' option\n    // can be set (to an integer) to hide the toolbar.\n    var InfographControl = base.ControlLayout.extend({\n        template: 'controls/infograph/layout',\n\n        events: {\n            change: 'change'\n        },\n\n        options: {\n            minValuesForToolbar: 10\n        },\n\n        regions: {\n            bars: '.bars-region',\n            toolbar: '.toolbar-region'\n        },\n\n        ui: {\n            loading: '[data-target=loading-indicator]'\n        },\n\n        collectionEvents: {\n            'reset': 'toggleToolbar'\n        },\n\n        initialize: function() {\n            _.bindAll(this, 'toggleToolbar');\n        },\n\n        // Internally defined collection for wrapping the available values as\n        // well as maintaining state for which values are selected.\n        constructor: function(options) {\n            if (!options.collection) options.collection = new BarCollection();\n\n            base.ControlLayout.prototype.constructor.apply(this, arguments);\n\n            this.barsControl = new Bars({\n                model: this.model,\n                collection: this.collection\n            });\n\n            var _this = this;\n            // Proxy all control-based operations to the bars\n            var methods = ['set', 'get', 'when', 'ready', 'wait'];\n            var proxyFunc = function(method) {\n                _this[method] = function() {\n                    var thisControl = _this.barsControl;\n                    return thisControl[method].apply(thisControl, arguments);\n                };\n\n                return _this[method];\n            };\n\n            _.each(methods, function(method) {\n                proxyFunc(method);\n            });\n\n            // Proxy events\n            this.listenTo(this.barsControl, 'all', function() {\n                var event = arguments[0];\n\n                if (event === 'change' || event === 'beforeready' || event === 'ready') {\n                    this.trigger.apply(this, arguments);\n                }\n\n                if (event === 'ready') {\n                    this.ui.loading.hide();\n                }\n            });\n        },\n\n        toggleToolbar: function() {\n            // Not yet rendered, this will be called again in onRender\n            if (!this.toolbar.currentView) return;\n\n            this.toolbar.currentView.toggle(\n                this.collection.length >= this.options.minValuesForToolbar);\n        },\n\n        onRender: function() {\n            this.bars.show(this.barsControl);\n\n            this.toolbar.show(new BarChartToolbar({\n                collection: this.collection\n            }));\n\n            this.toggleToolbar();\n        },\n\n        validate: function(attrs) {\n            if (_.isUndefined(attrs.value) || attrs.value.length === 0) {\n                return 'Select at least one value';\n            }\n        }\n    });\n\n    return {\n        InfographControl: InfographControl\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/select',[\n    'underscore',\n    'backbone',\n    'marionette',\n    '../../core',\n    './base'\n], function(_, Backbone, Marionette, c, base) {\n\n    var SelectionListItem = Marionette.ItemView.extend({\n        template: function() {},\n\n        tagName: 'option',\n\n        modelEvents: {\n            'change:selected': 'render'\n        },\n\n        onRender: function() {\n            var label = this.model.get('label');\n\n            if (label === '') {\n                this.$el.text('(empty)');\n            }\n            else if (label === 'null') {\n                this.$el.text('(null)');\n            }\n            else {\n                this.$el.text(label);\n            }\n\n            this.$el.attr('value', this.model.get('value'));\n            this.$el.attr('selected', this.model.get('selected'));\n        }\n    });\n\n    // Renders a dropdown of items allowing for selection of a single item\n    // from the list.\n    var SingleSelectionList = base.ControlCompositeView.extend({\n        className: 'selection-list',\n\n        template: 'controls/select/list',\n\n        itemView: SelectionListItem,\n\n        itemViewOptions: function(model) {\n            return {\n                model: model\n            };\n        },\n\n        itemViewContainer: '.items',\n\n        ui: {\n            items: '.items'\n        },\n\n        events: {\n            'change .items': 'onSelectionChange'\n        },\n\n        collectionEvents: {\n            'reset': 'onCollectionSync'\n        },\n\n        initialize: function() {\n            var limit;\n\n            this.wait();\n\n            if (!this.collection) {\n                this.collection = new Backbone.Collection();\n\n                // This is a hack to prevent a 500 error that occurs in\n                // Serrano prior to 2.3.1 if limit is set to 0. The assumption\n                // here is that if this type of control is being used for\n                // selecting a value, it is unlikely to be rendering a large\n                // number of values due to its poor usability. The field search\n                // control is more appropriate for a large number of values.\n                if (c.isSupported('2.3.1')) {\n                    limit = 0;\n                }\n                else {\n                    limit = 1000;\n                }\n\n                var _this = this;\n                this.model.values({limit: limit}).done(function(resp) {\n                    _this.collection.reset(resp.values);\n                    return _this.ready();\n                });\n            }\n\n            this.on('ready', function() {\n                // Since the first item is selected immediately by the very\n                // nature of a drow down list without a placeholder, we need to\n                // call the change method when the control originally renders\n                // so the value is set to the default selected option in the\n                // dropdown and the apply(or update) filter button becomes\n                // activated.\n                this.change();\n            });\n        },\n\n        onCollectionSync: function() {\n            this.render();\n        },\n\n        onSelectionChange: function() {\n            this.change();\n        },\n\n        getField: function() {\n            return this.model.id;\n        },\n\n        getOperator: function() {\n            return 'exact';\n        },\n\n        getValue: function() {\n            return this.ui.items.val();\n        },\n\n        setValue: function(value) {\n            this.ui.items.val(value);\n        },\n\n        validate: function(attrs) {\n            if (_.isNull(attrs.value) || _.isUndefined(attrs.value)) {\n                return 'An option must be selected';\n            }\n        }\n    });\n\n    var MultiSelectionList = SingleSelectionList.extend({\n        onCollectionSync: function() {\n            this.render();\n        },\n\n        onSelectionChange: function() {\n            var _this = this;\n\n            this.ui.items.children().each(function(i, el) {\n                _this.collection.models[i].set('selected', el.selected);\n            });\n\n            this.change();\n        },\n\n        onRender: function() {\n            this.ui.items.attr('multiple', true);\n        },\n\n        getOperator: function() {\n            return 'in';\n        },\n\n        getValue: function() {\n            return _.map(this.collection.where({selected: true}), function(model) {\n                return model.get('value');\n            });\n        },\n\n        setValue: function(values) {\n            if (!values) {\n                values = [];\n            }\n\n            this.collection.each(function(model) {\n                model.set('selected', (values.indexOf(model.get('value')) >= 0));\n            });\n        },\n\n        validate: function(attrs) {\n            if (!attrs.value || !attrs.value.length) {\n                return 'At least one option must be selected';\n            }\n        }\n    });\n\n    return {\n        SingleSelectionList: SingleSelectionList,\n        MultiSelectionList: MultiSelectionList\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/null',[\n    './base'\n], function (base) {\n\n    // Null selector filtering on whether or not a field is null\n    var NullSelector = base.Control.extend({\n        template: 'controls/null/layout',\n\n        ui: {\n            select: '[data-target=null-selector]',\n            nullOption: '[data-target=null-option]',\n            notNullOption: '[data-target=not-null-option]'\n        },\n\n        events: {\n            'change [data-target=null-selector]': 'change'\n        },\n\n        initialize: function () {\n            this.on('ready', this.change);\n        },\n\n        onRender: function () {\n            if (this.options.isNullLabel) {\n                this.ui.nullOption.text(this.options.isNullLabel);\n            }\n            if (this.options.isNotNullLabel) {\n                this.ui.notNullOption.text(this.options.isNotNullLabel);\n            }\n        },\n\n        getOperator: function () {\n            return 'isnull';\n        },\n\n        getValue: function () {\n            return this.ui.select.val() === 'true';\n        },\n\n        setValue: function (value) {\n            this.ui.select.val(value.toString());\n        }\n    });\n\n    return {\n        NullSelector: NullSelector\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/text',[\n    'underscore',\n    'backbone',\n    'marionette',\n    '../../core',\n    '../search',\n    '../base',\n    './base'\n], function(_, Backbone, Marionette, c, search, base, controls) {\n\n    // Stop words are considered too common in search strings and are removed\n    // to prevent false positive results. Stop words present in quote strings\n    // will be untouched.\n    var stopwords = {\n        'a': true,\n        'about': true,\n        'above': true,\n        'across': true,\n        'after': true,\n        'afterwards': true,\n        'again': true,\n        'against': true,\n        'all': true,\n        'almost': true,\n        'alone': true,\n        'along': true,\n        'already': true,\n        'also': true,\n        'although': true,\n        'always': true,\n        'am': true,\n        'among': true,\n        'amongst': true,\n        'amoungst': true,\n        'amount': true,\n        'an': true,\n        'and': true,\n        'another': true,\n        'any': true,\n        'anyhow': true,\n        'anyone': true,\n        'anything': true,\n        'anyway': true,\n        'anywhere': true,\n        'are': true,\n        'around': true,\n        'as': true,\n        'at': true,\n        'back': true,\n        'be': true,\n        'became': true,\n        'because': true,\n        'become': true,\n        'becomes': true,\n        'becoming': true,\n        'been': true,\n        'before': true,\n        'beforehand': true,\n        'behind': true,\n        'being': true,\n        'below': true,\n        'beside': true,\n        'besides': true,\n        'between': true,\n        'beyond': true,\n        'bill': true,\n        'both': true,\n        'bottom': true,\n        'but': true,\n        'by': true,\n        'call': true,\n        'can': true,\n        'cannot': true,\n        'cant': true,\n        'co': true,\n        'con': true,\n        'could': true,\n        'couldnt': true,\n        'cry': true,\n        'de': true,\n        'describe': true,\n        'detail': true,\n        'do': true,\n        'does': true,\n        'done': true,\n        'down': true,\n        'due': true,\n        'during': true,\n        'each': true,\n        'eg': true,\n        'eight': true,\n        'either': true,\n        'eleven': true,\n        'else': true,\n        'elsewhere': true,\n        'empty': true,\n        'enough': true,\n        'etc': true,\n        'even': true,\n        'ever': true,\n        'every': true,\n        'everyone': true,\n        'everything': true,\n        'everywhere': true,\n        'except': true,\n        'few': true,\n        'fifteen': true,\n        'fify': true,\n        'fill': true,\n        'find': true,\n        'fire': true,\n        'first': true,\n        'five': true,\n        'for': true,\n        'former': true,\n        'formerly': true,\n        'forty': true,\n        'found': true,\n        'four': true,\n        'from': true,\n        'front': true,\n        'full': true,\n        'further': true,\n        'get': true,\n        'give': true,\n        'go': true,\n        'had': true,\n        'has': true,\n        'hasnt': true,\n        'have': true,\n        'he': true,\n        'hence': true,\n        'her': true,\n        'here': true,\n        'hereafter': true,\n        'hereby': true,\n        'herein': true,\n        'hereupon': true,\n        'hers': true,\n        'herself': true,\n        'him': true,\n        'himself': true,\n        'his': true,\n        'how': true,\n        'however': true,\n        'hundred': true,\n        'ie': true,\n        'if': true,\n        'in': true,\n        'inc': true,\n        'indeed': true,\n        'interest': true,\n        'into': true,\n        'is': true,\n        'it': true,\n        'its': true,\n        'itself': true,\n        'keep': true,\n        'last': true,\n        'latter': true,\n        'latterly': true,\n        'least': true,\n        'less': true,\n        'ltd': true,\n        'made': true,\n        'many': true,\n        'may': true,\n        'me': true,\n        'meanwhile': true,\n        'might': true,\n        'mill': true,\n        'mine': true,\n        'more': true,\n        'moreover': true,\n        'most': true,\n        'mostly': true,\n        'move': true,\n        'much': true,\n        'must': true,\n        'my': true,\n        'myself': true,\n        'name': true,\n        'namely': true,\n        'neither': true,\n        'never': true,\n        'nevertheless': true,\n        'next': true,\n        'nine': true,\n        'no': true,\n        'nobody': true,\n        'none': true,\n        'noone': true,\n        'nor': true,\n        'not': true,\n        'nothing': true,\n        'now': true,\n        'nowhere': true,\n        'of': true,\n        'off': true,\n        'often': true,\n        'on': true,\n        'once': true,\n        'one': true,\n        'only': true,\n        'onto': true,\n        'or': true,\n        'other': true,\n        'others': true,\n        'otherwise': true,\n        'our': true,\n        'ours': true,\n        'ourselves': true,\n        'out': true,\n        'over': true,\n        'own': true,\n        'part': true,\n        'per': true,\n        'perhaps': true,\n        'please': true,\n        'put': true,\n        'rather': true,\n        're': true,\n        'same': true,\n        'see': true,\n        'seem': true,\n        'seemed': true,\n        'seeming': true,\n        'seems': true,\n        'serious': true,\n        'several': true,\n        'she': true,\n        'should': true,\n        'show': true,\n        'side': true,\n        'since': true,\n        'sincere': true,\n        'six': true,\n        'sixty': true,\n        'so': true,\n        'some': true,\n        'somehow': true,\n        'someone': true,\n        'something': true,\n        'sometime': true,\n        'sometimes': true,\n        'somewhere': true,\n        'still': true,\n        'such': true,\n        'system': true,\n        'take': true,\n        'ten': true,\n        'than': true,\n        'that': true,\n        'the': true,\n        'their': true,\n        'them': true,\n        'themselves': true,\n        'then': true,\n        'thence': true,\n        'there': true,\n        'thereafter': true,\n        'thereby': true,\n        'therefore': true,\n        'therein': true,\n        'thereupon': true,\n        'these': true,\n        'they': true,\n        'thickv': true,\n        'thin': true,\n        'third': true,\n        'this': true,\n        'those': true,\n        'though': true,\n        'three': true,\n        'through': true,\n        'throughout': true,\n        'thru': true,\n        'thus': true,\n        'to': true,\n        'together': true,\n        'too': true,\n        'top': true,\n        'toward': true,\n        'towards': true,\n        'twelve': true,\n        'twenty': true,\n        'two': true,\n        'un': true,\n        'under': true,\n        'until': true,\n        'up': true,\n        'upon': true,\n        'us': true,\n        'very': true,\n        'via': true,\n        'was': true,\n        'way': true,\n        'we': true,\n        'well': true,\n        'were': true,\n        'what': true,\n        'whatever': true,\n        'when': true,\n        'whence': true,\n        'whenever': true,\n        'where': true,\n        'whereafter': true,\n        'whereas': true,\n        'whereby': true,\n        'wherein': true,\n        'whereupon': true,\n        'wherever': true,\n        'whether': true,\n        'which': true,\n        'while': true,\n        'whither': true,\n        'who': true,\n        'whoever': true,\n        'whole': true,\n        'whom': true,\n        'whose': true,\n        'why': true,\n        'will': true,\n        'with': true,\n        'within': true,\n        'without': true,\n        'would': true,\n        'yet': true,\n        'you': true,\n        'your': true,\n        'yours': true,\n        'yourself': true,\n        'yourselves': true,\n        'didnt': true,\n        'doesnt': true,\n        'dont': true,\n        'isnt': true,\n        'wasnt': true,\n        'youre': true,\n        'hes': true,\n        'ive': true,\n        'theyll': true,\n        'whos': true,\n        'wheres': true,\n        'whens': true,\n        'whys': true,\n        'hows': true,\n        'whats': true,\n        'shes': true,\n        'im': true,\n        'thats': true\n    };\n\n    var removeStopWords = function(words) {\n        var keywords = [], word;\n\n        for (var i = 0; i < words.length; i++) {\n            word = words[i];\n\n            // Only filter non-literal strings\n            if (!/^[+-]?[\"']/.test(word)) {\n                word = word.toLowerCase().replace(/[^a-zA-Z]/, '');\n                if (stopwords[word]) continue;\n            }\n\n            keywords.push(words[i]);\n        }\n\n        return keywords;\n    };\n\n    // Parse string to include -/+ prefix and preserve quoted text\n    var searchRegex = /[+-]?(?:[^\\s\"']+|\"([^\"]*)\"|'([^']*)')/g;\n\n    var parseString = function(text) {\n        var toks = text.match(searchRegex) || [];\n        if (toks.length) toks = removeStopWords(toks);\n        return toks;\n    };\n\n    var stripPrefixAndQuotes = function(text) {\n        return text.replace(/^[\\-\\+]?[\"']?/, '').replace(/[\"']?$/, '');\n    };\n\n    var ELEMENT_NODE = 1,\n        TEXT_NODE = 3,\n        ENTER_KEY = 13;\n\n    // Find text that matches `regexp` and inject span elements with the\n    // provided className. This enables wrapping text with a `highlight` class\n    // for example.\n    var innerHighlight = function(node, regexp, className) {\n        if (node.nodeType === TEXT_NODE) {\n            var pos = node.data.search(regexp);\n\n            if (pos >= 0 && node.data.length > 0) {\n                var match = node.data.match(regexp),\n                    span = document.createElement('span');\n\n                // Split the text node at the start position of the matched text.\n                var middle = node.splitText(pos);\n\n                // Split again leaving the middle text node to only contain the\n                // matched text.\n                middle.splitText(match[0].length);\n\n                // Insert the text node in the span\n                span.appendChild(middle.cloneNode(true));\n                span.className = className;\n\n                // Replace the middle text node with the span\n                middle.parentNode.replaceChild(span, middle);\n\n                // Successful creation of text node\n                return true;\n            }\n        }\n        // Recursive element nodes to find text nodes\n        else if (node.nodeType === ELEMENT_NODE && node.childNodes &&\n                   !/(script|style)/i.test(node.tagName)) {\n\n            var i = 0;\n\n            while (i < node.childNodes.length) {\n                // Successful hightlight, increment the counter to account for\n                // the newly created text node\n                if (innerHighlight(node.childNodes[i], regexp, className)) i++;\n                i++;\n            }\n        }\n    };\n\n    var highlightText = function(obj, pattern, className) {\n        if (!_.isRegExp(pattern)) {\n            pattern = new RegExp(pattern, 'ig');\n        }\n\n        obj.each(function() {\n            return innerHighlight(this, pattern, className);\n        });\n    };\n\n    var PreviewItem = Marionette.ItemView.extend({\n        tagName: 'p',\n\n        template: 'controls/text/preview-item'\n    });\n\n    var PreviewList = Marionette.CompositeView.extend({\n        template: 'controls/text/preview-list',\n\n        itemView: PreviewItem,\n\n        itemViewContainer: '.items',\n\n        onRender: function() {\n            var toks = _.map(parseString(this.options.query), function(tok) {\n                return stripPrefixAndQuotes(tok);\n            });\n\n            var children = this.$(this.itemViewContainer).children();\n            highlightText(children, toks.join('|'), 'highlight');\n        }\n    });\n\n    var PreviewCollection = Backbone.Collection.extend({\n        parse: function(resp) {\n            // Handle both variations..\n            return resp.objects || resp.values;\n        }\n    });\n\n\n    // Single text input that converts the input into a multiple-facted\n    // search. Operators are supported including:\n    //\n    // Prefixing a search term with \"+\" requires the term, while\n    // the \"-\" symbol requires the exclusion of the term.\n    //\n    // Strings can be quoted for exact matches. This is only necessary when\n    // a string has spaces or special characters.\n    var TextControl = controls.ControlLayout.extend({\n        template: 'controls/text/layout',\n\n        options: {\n            preview: false\n        },\n\n        regions: {\n            search: '[data-target=search-region]',\n            preview: '[data-target=preview-region]'\n        },\n\n        regionViews: {\n            search: search.Search,\n            preview: PreviewList\n        },\n\n        collectionEvents: {\n            request: 'showPreviewLoading',\n            error: 'showPreviewError',\n            sync: 'showPreview'\n        },\n\n        events: {\n            'keyup [data-target=search-region] input': 'triggerPreview'\n        },\n\n        constructor: function(options) {\n            options.collection = new PreviewCollection();\n            options.collection.url = function() {\n                return options.model.links.values;\n            };\n            controls.ControlLayout.prototype.constructor.call(this, options);\n        },\n\n        onRender: function() {\n            var searchView = new this.regionViews.search();\n            this.listenTo(searchView, 'search', this.change);\n            this.search.show(searchView);\n        },\n\n        triggerPreview: function(event) {\n            // Preview endpoint\n            if (!this.options.preview) return;\n\n            if (event && event.which === ENTER_KEY) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                this.showPreviewLoading();\n\n                // Reference on view and locally to compare once the response\n                // comes back to prevent late queries from rendering.\n                var data = this.get(),\n                    query = this.previewQuery = data.query;\n\n                // Create temporary context. This is needed due to the limitations of the\n                // Serrano API for getting a set of values relative to some context.\n                if (!this.context) {\n                    this.context = c.data.contexts.add({'json': data});\n                } else {\n                    this.context.set({'json': data});\n                }\n\n                var _this = this;\n\n                this.context.save()\n                    .fail(function() {\n                        _this.showPreviewError();\n                    })\n                    .done(function() {\n                        if (_this.previewQuery !== query) return;\n\n                        // Reset values using current filter as the context\n                        _this.collection.fetch({\n                            reset: true,\n                            data: {\n                                aware: 1,\n                                limit: 5,\n                                context: _this.context.id\n                            }\n                        });\n                    });\n            }\n        },\n\n        showPreviewLoading: function() {\n            this.preview.show(new base.LoadView({\n                message: 'Loading preview...'\n            }));\n        },\n\n        showPreviewError: function() {\n            this.preview.show(new base.ErrorView({\n                message: 'There was an error loading the preview.'\n            }));\n        },\n\n        showPreview: function() {\n            var previewRegion = new this.regionViews.preview({\n                query: this.previewQuery,\n                collection: this.collection\n            });\n\n            this.preview.show(previewRegion);\n        },\n\n        validate: function(attrs) {\n            if (!attrs.children && !attrs.value) {\n                return 'At least one keyword must be entered';\n            }\n        },\n\n        get: function() {\n            var query = this.search.currentView.ui.input.val();\n\n            var toks = parseString(query);\n\n            if (!toks.length) return;\n\n            var field = this.model.id;\n\n            var filter = {\n                field: field,\n                type: 'and',\n                children: []\n            };\n\n            var required = [],\n                excluded = [],\n                optional = [];\n\n            _.each(toks, function(tok) {\n                var prefix = tok.charAt(0);\n\n                if (prefix === '+') {\n                    required.push(stripPrefixAndQuotes(tok));\n                }\n                else if (prefix === '-') {\n                    excluded.push(stripPrefixAndQuotes(tok));\n                }\n                else {\n                    optional.push(stripPrefixAndQuotes(tok));\n                }\n            });\n\n            if (required.length === 1) {\n                filter.children.push({\n                    field: field,\n                    operator: 'icontains',\n                    value: required[0]\n                });\n            }\n            else if (required.length > 1) {\n                filter.children.push({\n                    field: field,\n                    type: 'and',\n                    children: _.map(required, function(value) {\n                        return {\n                            field: field,\n                            operator: 'icontains',\n                            value: value\n                        };\n                    })\n                });\n            }\n\n            if (excluded.length === 1) {\n                filter.children.push({\n                    field: field,\n                    operator: '-icontains',\n                    value: excluded[0]\n                });\n            }\n            else if (excluded.length > 1) {\n                filter.children.push({\n                    field: field,\n                    type: 'and',\n                    children: _.map(excluded, function(value) {\n                        return {\n                            field: field,\n                            operator: '-icontains',\n                            value: value\n                        };\n                    })\n                });\n            }\n\n            if (optional.length === 1) {\n                filter.children.push({\n                    field: field,\n                    operator: 'icontains',\n                    value: optional[0]\n                });\n            }\n            else if (optional.length > 1) {\n                filter.children.push({\n                    field: field,\n                    operator: 'iregex',\n                    value: '(' + optional.join('|') + ')'\n                });\n            }\n\n            // Remove single nested condition\n            if (filter.children.length === 1) {\n                filter = filter.children[0];\n            }\n\n            // The original query is preserved since reconstructing the original\n            // string from the parsed tokens above may be ambiguous. Further, the\n            // semantics of the tokenization may change resulting in a different\n            // query representation.\n            filter.query = query;\n\n            return filter;\n        },\n\n        set: function(attrs) {\n            if (this._changing) return;\n\n            if (attrs.query) {\n                this.search.currentView.ui.input.val(attrs.query);\n            }\n        }\n    });\n\n\n    return {\n        TextControl: TextControl\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls/vocab',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'marionette',\n    './base',\n    './search',\n    '../search',\n    '../values',\n    '../paginator',\n    '../../models',\n], function($, _, Backbone, Marionette, controls, searchControl, search, values,\n            paginator, models) {\n\n\n    // Collection that listens to another collection for models that match\n    // certain criteria. Models that match will be added/removed from\n    // this collection.\n    var FilteredCollection = Backbone.Collection.extend({\n        _matches: function(model) {\n            var attrs = model.attributes || model;\n            return this.matcher(attrs);\n        },\n\n        initialize: function(models, options) {\n            this.matcher = options.matcher;\n            this.values = options.collection;\n\n            this.listenTo(this.values, {\n                change: function(model, options) {\n                    if (this._matches(model)) {\n                        this.add(model, options);\n                    } else {\n                        this.remove(model, options);\n                    }\n                },\n                add: function(model, collection, options) {\n                    if (this._matches(model)) this.add(model, options);\n                },\n                remove: function(model, collection, options) {\n                    if (this._matches(model)) this.remove(model, options);\n                },\n                reset: function(models, collection, options) {\n                    var _models = null;\n                    if (!models || !models.length) {\n                        _models = [];\n                    } else {\n                        _models = _.filter(models, this._matches);\n                    }\n                    if (_models) this.reset(_models, options);\n                }\n            });\n        }\n    });\n\n\n    // Extend value model to ensure the default operator is defined\n    var BucketValue = models.Value.extend({\n        defaults: {\n            operator: 'in'\n        }\n    });\n\n\n    var BucketValues = models.Values.extend({\n        model: BucketValue\n    });\n\n\n    // Single item in a bucket\n    var BucketItem = values.ValueItem.extend({\n        template: 'controls/vocab/bucket-item',\n\n        ui: {\n            remove: '[data-target=remove]'\n        },\n\n        events: {\n            'click @ui.remove': 'removeItem'\n        },\n\n        removeItem: function() {\n            this.model.destroy();\n        }\n    });\n\n\n    // Buckets are implicitly bound to an operator via the passed collection.\n    // The bucket name must be passed as an option.\n    var Bucket = Marionette.CompositeView.extend({\n        className: 'vocab-bucket',\n\n        template: 'controls/vocab/bucket',\n\n        itemView: BucketItem,\n\n        itemViewContainer: '[data-target=items]',\n\n        options: {\n            name: 'Bucket'\n        },\n\n        ui: {\n            items: '[data-target=items]'\n        },\n\n        events: {\n            'sortreceive [data-target=items]': 'receiveItem'\n        },\n\n        collectionEvents: {\n            'add remove reset': 'renderListState'\n        },\n\n        serializeData: function() {\n            return {\n                name: this.options.name\n            };\n        },\n\n        // jQuery UI does not trigger an event on the item itself, only the\n        // lists themselves. The `ui.item` is the bucket item DOM element\n        // which can be used to find the collection item.\n        receiveItem: function(event, ui) {\n            // Find the model based on the value\n            var value = ui.item.find('[data-value]').data('value'),\n                model = this.collection.values.findWhere({value: parseInt(value, 10)});\n\n            model.set('operator', this.options.operator);\n        },\n\n        onRender: function() {\n            this.ui.items.sortable({\n                forcePlaceholderSize: true,\n                forceHelperSize: true,\n                placeholder: 'placeholder',\n                scroll: false,\n                opacity: 0.7,\n                cursor: 'move',\n                connectWith: '.vocab-bucket [data-target=items]'\n            });\n\n            this.renderListState();\n        },\n\n        renderListState: function() {\n            this.$el.toggleClass('empty', this.collection.length === 0);\n        }\n\n    });\n\n\n    // View that initializes a filtered collection and renders a bucket for each\n    // available operator.\n    var BucketList = Marionette.View.extend({\n        initialize: function() {\n            var name = this.model.get('alt_name').toLowerCase(),\n                pluralName = this.model.get('alt_plural_name').toLowerCase();\n\n            this.buckets = [{\n                name: 'At least one ' + name + ' must match',\n\n                operator: 'in',\n\n                collection: new FilteredCollection(null, {\n                    collection: this.collection,\n                    matcher: function(attrs) {\n                        return attrs.operator === 'in';\n                    }\n                })\n            }, {\n                name: 'All the ' + pluralName + ' must match',\n\n                operator: 'all',\n\n                collection: new FilteredCollection(null, {\n                    collection: this.collection,\n                    matcher: function(attrs) {\n                        return attrs.operator === 'all';\n                    }\n                })\n            }, {\n                name: 'The combination of '+ pluralName + ' cannot match',\n\n                operator: '-all',\n\n                collection: new FilteredCollection(null, {\n                    collection: this.collection,\n                    matcher: function(attrs) {\n                        return attrs.operator === '-all';\n                    }\n                })\n            }, {\n                name: 'None of the ' + pluralName + ' can match',\n\n                operator: '-in',\n\n                collection: new FilteredCollection(null, {\n                    collection: this.collection,\n                    matcher: function(attrs) {\n                        return attrs.operator === '-in';\n                    }\n                })\n            }];\n        },\n\n        render: function() {\n            for (var i = 0; i < this.buckets.length; i++) {\n                var bucket = new Bucket(this.buckets[i]);\n                bucket.render();\n                this.$el.append(bucket.el);\n            }\n            return this.el;\n        }\n    });\n\n\n    // Region displaying the current path and button for going up the stack\n    var Path = Marionette.ItemView.extend({\n        template: 'controls/vocab/path',\n\n        className: 'vocab-path'\n    });\n\n\n    // Single search result item\n    var VocabItem = Marionette.ItemView.extend({\n        className: 'value-item',\n\n        template: 'controls/vocab/item',\n\n        ui: {\n            actions: '.actions',\n            addButton: '.add-item-button',\n            removeButton: '.remove-item-button'\n        },\n\n        events: {\n            'click .add-item-button': 'addItem',\n            'click .remove-item-button': 'removeItem'\n        },\n\n        constructor: function(options) {\n            options = options || {};\n\n            if ((this.values = options.values)) {\n                this.listenTo(this.values, 'add', this.setState);\n                this.listenTo(this.values, 'remove', this.setState);\n                this.listenTo(this.values, 'reset', this.setState);\n            }\n\n            Marionette.ItemView.prototype.constructor.call(this, options);\n        },\n\n        serializeData: function() {\n            var link = this.model.get('_links').children;\n\n            return {\n                url: link ? link.href : null,\n                label: this.model.get('label')\n            };\n        },\n\n        addItem: function() {\n            // Mark as valid since it was derived from a controlled list\n            var attrs = _.extend(this.model.toJSON(), {valid: true});\n            this.values.add(attrs);\n        },\n\n        removeItem: function() {\n            this.values.remove(this.model);\n        },\n\n        setState: function() {\n            if (!!this.values.get(this.model)) {\n                this.ui.addButton.hide();\n                this.ui.removeButton.show();\n            } else {\n                this.ui.addButton.show();\n                this.ui.removeButton.hide();\n            }\n        },\n\n        onRender: function() {\n            this.setState();\n        }\n    });\n\n\n    // A single page of search results\n    var VocabPage = paginator.ListingPage.extend({\n        className: 'search-value-list',\n\n        itemView: VocabItem\n    });\n\n\n    // All search result pages, only the current page is shown, the rest are\n    // hidden.\n    var VocabPageRoll = paginator.PageRoll.extend({\n        listView: VocabPage\n    });\n\n\n    var VocabControl = controls.ControlLayout.extend({\n        className: 'vocab-control',\n\n        template: 'controls/vocab/layout',\n\n        events: {\n            'click [data-action=clear]': 'clearValues',\n            'click .browse-region a': 'triggerDescend',\n            'click .path-region button': 'triggerAscend'\n        },\n\n        options: {\n            resetPathOnSearch: false\n        },\n\n        regions: {\n            paginator: '.paginator-region',\n            search: '.search-region',\n            path: '.path-region',\n            browse: '.browse-region',\n            buckets: '.buckets-region'\n        },\n\n        regionViews: {\n            search: search.Search,\n            paginator: paginator.Paginator,\n            path: Path,\n            browse: VocabPageRoll,\n            buckets: BucketList\n        },\n\n        initialize: function() {\n            // Initialize a new collection of values that centralizes the\n            // selected values.\n            this.selectedValues = new BucketValues();\n\n            // Trigger a change event on all collection events\n            this.listenTo(this.selectedValues, 'all', this.change);\n\n            this.valuesPaginator = new searchControl.SearchPaginator(null, {\n                field: this.model\n            });\n\n            this._path = new Backbone.Collection();\n        },\n\n        triggerDescend: function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            var target = $(event.target);\n\n            // Push item onto the stack; triggers refresh downstream\n            this._path.push({\n                label: target.text(),\n                url: target.prop('href')\n            });\n        },\n\n        triggerAscend: function() {\n            event.preventDefault();\n            event.stopPropagation();\n\n            // Popitem off stack; triggers refresh downstream\n            this._path.pop();\n        },\n\n        refreshPaginator: function() {\n            var model = this._path.last();\n\n            this.path.show(new this.regionViews.path({\n                model: model\n            }));\n\n            this.valuesPaginator.currentUrl = model.get('url');\n            this.valuesPaginator.refresh();\n        },\n\n        onRender: function() {\n            // When a search occurs, the paginator is reset to use the\n            // URL with the parameters. When the search is cleared, the\n            // default URL is used (accessing the root).\n            var searchRegion = new this.regionViews.search({\n                model: this.model,\n                placeholder: 'Search ' + this.model.get('plural_name') + '...',\n            });\n\n            this.listenTo(searchRegion, 'search', this.handleSearch);\n\n            // Click events from valid path links in the browse region\n            // will cause the paginator to refresh\n            var browseRegion = new this.regionViews.browse({\n                collection: this.valuesPaginator,\n                values: this.selectedValues\n            });\n\n            var paginatorRegion = new this.regionViews.paginator({\n                className: 'paginator mini',\n                model: this.valuesPaginator\n            });\n\n            var bucketsRegion = new this.regionViews.buckets({\n                model: this.model,\n                collection: this.selectedValues\n            });\n\n            this.search.show(searchRegion);\n            this.browse.show(browseRegion);\n            this.paginator.show(paginatorRegion);\n            this.buckets.show(bucketsRegion);\n\n            this.listenTo(this._path, 'add remove', this.refreshPaginator);\n\n            // Add top-level (default) which will render\n            this._path.push({label: 'Top-level'});\n        },\n\n        handleSearch: function(query) {\n            if (this.options.resetPathOnSearch) {\n                this.valuesPaginator.currentUrl = null;\n            }\n\n            this.valuesPaginator.urlParams = query ? {query: query} : null;\n            this.valuesPaginator.refresh();\n        },\n\n        get: function() {\n            // Object of operator keys and array values\n            var operator, values = {};\n\n            // Build operator/values map\n            this.selectedValues.each(function(model) {\n                operator = model.get('operator');\n\n                // Initialize the array if this is the first value\n                // for this operator\n                if (!values[operator]) values[operator] = [];\n\n                values[operator].push(model.pick('label', 'value'));\n            });\n\n            var operators = _.keys(values);\n\n            // No values selected\n            if (!operators.length) return;\n\n            // Single operator, return single condition\n            if (operators.length === 1) {\n                return {\n                    field: this.model.id,\n                    operator: operators[0],\n                    value: values[operators[0]]\n                };\n            }\n\n            // Multiple operators, return branch of conditions\n            return {\n                type: 'and',\n                children: _.map(values, function(values, operator) {\n                    return {\n                        field: this.model.id,\n                        operator: operator,\n                        value: values\n                    };\n                }, this)\n            };\n        },\n\n        _mapSetValues: function(values, operator) {\n            return _.map(values, function(value) {\n                // Value is expected to be an object with label and value keys.\n                value = _.clone(value);\n                value.operator = operator;\n                return value;\n            });\n        },\n\n        // The expected structure is either null, a single condition or\n        // a branch of one or more conditions. Values are collected and\n        // tagged with the operator that is applied to the values.\n        set: function(attrs) {\n            if (!attrs) return;\n\n            var values = [];\n\n            if (attrs.children) {\n                // Each child is a condition with an array of values\n                _.each(attrs.children, function(child) {\n                    values = values.concat(this._mapSetValues(child.value,\n                                                              child.operator));\n                }, this);\n            } else {\n                values = this._mapSetValues(attrs.value, attrs.operator);\n            }\n\n            // Do not remove values in case they are new since the set\n            // has occurred.\n            this.selectedValues.set(values, {remove: false});\n        },\n\n        isEmpty: function(attrs) {\n            // If children are defined than more than one operator is\n            // in use which means values have been selected.\n            if (attrs.children) return false;\n            return controls.ControlLayout.prototype.isEmpty.call(this, attrs);\n        }\n    });\n\n    return {\n        VocabControl: VocabControl\n    };\n\n});\n\n","/* global define, require */\n\ndefine('cilantro/ui/controls/registry',[\n    'underscore',\n    'loglevel',\n    '../../core',\n    './date',\n    './number',\n    './search',\n    './select',\n    './infograph',\n    './null',\n    './text',\n    './vocab'\n], function(_, loglevel, c, date, number, search, select, infograph, nullSelector,\n            text, vocab) {\n\n    /*\n     * TODO: Remove old keys(see list in below comment) for the 3.0 release as\n     * removing them during current renaming process is a breaking change. These\n     * key/value pairs should be removed in the 3.0 release:\n     *\n     *      infograph: infograph.InfographControl,\n     *      number: number.NumberControl,\n     *      date: date.DateControl,\n     *      search: search.SearchControl,\n     *      singleSelectionList: select.SingleSelectionList,\n     *      multiSelectionList: select.MultiSelectionList,\n     *      nullSelector: nullSelector.NullSelector,\n     *      text: text.TextControl,\n     *      vocab: vocab.VocabControl\n     */\n    var defaultControls = {\n        infograph: infograph.InfographControl,\n        infoBars: infograph.InfographControl,\n        number: number.NumberControl,\n        numberRange: number.NumberControl,\n        date: date.DateControl,\n        dateRange: date.DateControl,\n        search: search.SearchControl,\n        valueSearch: search.SearchControl,\n        singleSelectionList: select.SingleSelectionList,\n        singleValueSelect: select.SingleSelectionList,\n        multiSelectionList: select.MultiSelectionList,\n        multiValueSelect: select.MultiSelectionList,\n        nullSelector: nullSelector.NullSelector,\n        nullValueCheckbox: nullSelector.NullSelector,\n        text: text.TextControl,\n        freeTextInput: text.TextControl,\n        vocab: vocab.VocabControl,\n        vocabSearch: vocab.VocabControl\n    };\n\n    var customControls = {};\n\n    // Controls can be registered as AMD modules which will be immediately\n    // fetched to obtain the resulting compiled control function. This is\n    // count of the number of pending AMD modules that have not been fetched.\n    var pendingRemotes = 0;\n\n    // Loads the remote control and adds it to the custom cache.\n    var loadRemote = function(id, module) {\n        pendingRemotes++;\n\n        require([\n            module\n        ], function(func) {\n            customControls[id] = func;\n            pendingRemotes--;\n        }, function(err) {\n            loglevel.debug(err);\n            pendingRemotes--;\n        });\n    };\n\n    // Handles the case when the registered function is *not* a function.\n    var _set = function(id, func) {\n        switch (typeof func) {\n            case 'function':\n                customControls[id] = func;\n                break;\n            case 'string':\n                loadRemote(id, func);\n                break;\n            default:\n                throw new Error('control must be a function or AMD module');\n        }\n    };\n\n    return {\n        // Get the control function by id. Checks the custom cache and falls back\n        // to the built-in cache.\n        get: function(id) {\n            return customControls[id] || defaultControls[id];\n        },\n\n        // Sets a control in cache.\n        set: function(id, func) {\n            if (typeof id === 'object') {\n                _.each(id, function(func, key) {\n                    _set(key, func);\n                });\n            }\n            else {\n                _set(id, func);\n            }\n        },\n\n        // Returns a boolean denoting if all AMD-based controls have been loaded.\n        ready: function() {\n            return pendingRemotes === 0;\n        },\n\n        clear: function() {\n            customControls = {};\n        }\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/controls',[\n    'underscore',\n    './controls/base',\n    './controls/range',\n    './controls/date',\n    './controls/number',\n    './controls/search',\n    './controls/infograph',\n    './controls/registry',\n    './controls/null',\n    './controls/text',\n    './controls/vocab'\n], function(_) {\n\n    // Modules to be mixed-in with exports\n    var mods = Array.prototype.slice.call(arguments, 1);\n\n    // Merge the mods into an empty object that will be exported\n    return _.extend.apply(_, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/dom',[],function() {\n\n    // Inserts a element as a child of parent at a particular index.\n    // This handles indexes that are out or bounds.\n    // The primary use case for this is when child elements are being\n    // inserted non-sequentially, but need to ordered in the DOM.\n    var insertAt = function(parent, index, element) {\n        var children = parent.children(),\n            lastIndex = children.size();\n\n        if (index < 0) {\n            index = Math.max(0, lastIndex + 1 + index);\n        }\n\n        parent.append(element);\n\n        if (index < lastIndex) {\n            children.eq(index).before(children.last());\n        }\n\n        return parent;\n    };\n\n    return {\n        insertAt: insertAt\n    };\n\n});\n\n","/* =========================================================\n * bootstrap-datepicker.js\n * http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n\n/* global define */\n\ndefine('plugins/bootstrap-datepicker',[\n    'jquery'\n], function($) {\n\n\t// Picker object\n\n\tvar Datepicker = function(element, options){\n\t\tthis.element = $(element);\n\t\tthis.format = DPGlobal.parseFormat(options.format||this.element.data('date-format')||'mm/dd/yyyy');\n\t\tthis.picker = $(DPGlobal.template)\n\t\t\t\t\t\t\t.appendTo('body')\n\t\t\t\t\t\t\t.on({\n\t\t\t\t\t\t\t\tclick: $.proxy(this.click, this)//,\n\t\t\t\t\t\t\t\t//mousedown: $.proxy(this.mousedown, this)\n\t\t\t\t\t\t\t});\n\t\tthis.isInput = this.element.is('input');\n\t\tthis.component = this.element.is('.date') ? this.element.find('.add-on') : false;\n\n\t\tif (this.isInput) {\n\t\t\tthis.element.on({\n\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t//blur: $.proxy(this.hide, this),\n\t\t\t\tkeyup: $.proxy(this.update, this)\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.component){\n\t\t\t\tthis.component.on('click', $.proxy(this.show, this));\n\t\t\t} else {\n\t\t\t\tthis.element.on('click', $.proxy(this.show, this));\n\t\t\t}\n\t\t}\n\n\t\tthis.minViewMode = options.minViewMode||this.element.data('date-minviewmode')||0;\n\t\tif (typeof this.minViewMode === 'string') {\n\t\t\tswitch (this.minViewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.minViewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.minViewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.minViewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.viewMode = options.viewMode||this.element.data('date-viewmode')||0;\n\t\tif (typeof this.viewMode === 'string') {\n\t\t\tswitch (this.viewMode) {\n\t\t\t\tcase 'months':\n\t\t\t\t\tthis.viewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'years':\n\t\t\t\t\tthis.viewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.viewMode = 0;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.startViewMode = this.viewMode;\n\t\tthis.weekStart = options.weekStart||this.element.data('date-weekstart')||0;\n\t\tthis.weekEnd = this.weekStart === 0 ? 6 : this.weekStart - 1;\n\t\tthis.onRender = options.onRender;\n\t\tthis.fillDow();\n\t\tthis.fillMonths();\n\t\tthis.update();\n\t\tthis.showMode();\n\t};\n\n\tDatepicker.prototype = {\n\t\tconstructor: Datepicker,\n\n\t\tshow: function(e) {\n\t\t\tthis.picker.show();\n\t\t\tthis.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n\t\t\tthis.place();\n\t\t\t$(window).on('resize', $.proxy(this.place, this));\n\t\t\tif (e ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tif (!this.isInput) {\n\t\t\t}\n\t\t\tvar that = this;\n\t\t\t$(document).on('mousedown', function(ev){\n\t\t\t\tif ($(ev.target).closest('.datepicker').length == 0) {\n\t\t\t\t\tthat.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'show',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\n\t\thide: function(){\n\t\t\tthis.picker.hide();\n\t\t\t$(window).off('resize', this.place);\n\t\t\tthis.viewMode = this.startViewMode;\n\t\t\tthis.showMode();\n\t\t\tif (!this.isInput) {\n\t\t\t\t$(document).off('mousedown', this.hide);\n\t\t\t}\n\t\t\t//this.set();\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'hide',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\n\t\tset: function() {\n\t\t\tvar formated = DPGlobal.formatDate(this.date, this.format);\n\t\t\tif (!this.isInput) {\n\t\t\t\tif (this.component){\n\t\t\t\t\tthis.element.find('input').prop('value', formated);\n\t\t\t\t}\n\t\t\t\tthis.element.data('date', formated);\n\t\t\t} else {\n\t\t\t\tthis.element.prop('value', formated);\n\t\t\t}\n\t\t},\n\n\t\tsetValue: function(newDate) {\n\t\t\tif (typeof newDate === 'string') {\n\t\t\t\tthis.date = DPGlobal.parseDate(newDate, this.format);\n\t\t\t} else {\n\t\t\t\tthis.date = new Date(newDate);\n\t\t\t}\n\t\t\tthis.set();\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\n\t\tplace: function(){\n\t\t\tvar offset = this.component ? this.component.offset() : this.element.offset();\n\t\t\tthis.picker.css({\n\t\t\t\ttop: offset.top + this.height,\n\t\t\t\tleft: offset.left\n\t\t\t});\n\t\t},\n\n\t\tupdate: function(newDate){\n\t\t\tthis.date = DPGlobal.parseDate(\n\t\t\t\ttypeof newDate === 'string' ? newDate : (this.isInput ? this.element.prop('value') : this.element.data('date')),\n\t\t\t\tthis.format\n\t\t\t);\n\t\t\tthis.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0);\n\t\t\tthis.fill();\n\t\t},\n\n\t\tfillDow: function(){\n\t\t\tvar dowCnt = this.weekStart;\n\t\t\tvar html = '<tr>';\n\t\t\twhile (dowCnt < this.weekStart + 7) {\n\t\t\t\thtml += '<th class=\"dow\">'+DPGlobal.dates.daysMin[(dowCnt++)%7]+'</th>';\n\t\t\t}\n\t\t\thtml += '</tr>';\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\n\t\t},\n\n\t\tfillMonths: function(){\n\t\t\tvar html = '';\n\t\t\tvar i = 0\n\t\t\twhile (i < 12) {\n\t\t\t\thtml += '<span class=\"month\">'+DPGlobal.dates.monthsShort[i++]+'</span>';\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-months td').append(html);\n\t\t},\n\n\t\tfill: function() {\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getFullYear(),\n\t\t\t\tmonth = d.getMonth(),\n\t\t\t\tcurrentDate = this.date.valueOf();\n\t\t\tthis.picker.find('.datepicker-days th:eq(1)')\n\t\t\t\t\t\t.text(DPGlobal.dates.months[month]+' '+year);\n\t\t\tvar prevMonth = new Date(year, month-1, 28,0,0,0,0),\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getFullYear(), prevMonth.getMonth());\n\t\t\tprevMonth.setDate(day);\n\t\t\tprevMonth.setDate(day - (prevMonth.getDay() - this.weekStart + 7)%7);\n\t\t\tvar nextMonth = new Date(prevMonth);\n\t\t\tnextMonth.setDate(nextMonth.getDate() + 42);\n\t\t\tnextMonth = nextMonth.valueOf();\n\t\t\tvar html = [];\n\t\t\tvar clsName,\n\t\t\t\tprevY,\n\t\t\t\tprevM;\n\t\t\twhile(prevMonth.valueOf() < nextMonth) {\n\t\t\t\tif (prevMonth.getDay() === this.weekStart) {\n\t\t\t\t\thtml.push('<tr>');\n\t\t\t\t}\n\t\t\t\tclsName = this.onRender(prevMonth);\n\t\t\t\tprevY = prevMonth.getFullYear();\n\t\t\t\tprevM = prevMonth.getMonth();\n\t\t\t\tif ((prevM < month &&  prevY === year) ||  prevY < year) {\n\t\t\t\t\tclsName += ' old';\n\t\t\t\t} else if ((prevM > month && prevY === year) || prevY > year) {\n\t\t\t\t\tclsName += ' new';\n\t\t\t\t}\n\t\t\t\tif (prevMonth.valueOf() === currentDate) {\n\t\t\t\t\tclsName += ' active';\n\t\t\t\t}\n\t\t\t\thtml.push('<td class=\"day '+clsName+'\">'+prevMonth.getDate() + '</td>');\n\t\t\t\tif (prevMonth.getDay() === this.weekEnd) {\n\t\t\t\t\thtml.push('</tr>');\n\t\t\t\t}\n\t\t\t\tprevMonth.setDate(prevMonth.getDate()+1);\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\t\t\tvar currentYear = this.date.getFullYear();\n\n\t\t\tvar months = this.picker.find('.datepicker-months')\n\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t.text(year)\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.find('span').removeClass('active');\n\t\t\tif (currentYear === year) {\n\t\t\t\tmonths.eq(this.date.getMonth()).addClass('active');\n\t\t\t}\n\n\t\t\thtml = '';\n\t\t\tyear = parseInt(year/10, 10) * 10;\n\t\t\tvar yearCont = this.picker.find('.datepicker-years')\n\t\t\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t\t\t.text(year + '-' + (year + 9))\n\t\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t\t.find('td');\n\t\t\tyear -= 1;\n\t\t\tfor (var i = -1; i < 11; i++) {\n\t\t\t\thtml += '<span class=\"year'+(i === -1 || i === 10 ? ' old' : '')+(currentYear === year ? ' active' : '')+'\">'+year+'</span>';\n\t\t\t\tyear += 1;\n\t\t\t}\n\t\t\tyearCont.html(html);\n\t\t},\n\n\t\tclick: function(e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.target).closest('span, td, th');\n\t\t\tif (target.length === 1) {\n\t\t\t\tswitch(target[0].nodeName.toLowerCase()) {\n\t\t\t\t\tcase 'th':\n\t\t\t\t\t\tswitch(target[0].className) {\n\t\t\t\t\t\t\tcase 'switch':\n\t\t\t\t\t\t\t\tthis.showMode(1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'prev':\n\t\t\t\t\t\t\tcase 'next':\n\t\t\t\t\t\t\t\tthis.viewDate['set'+DPGlobal.modes[this.viewMode].navFnc].call(\n\t\t\t\t\t\t\t\t\tthis.viewDate,\n\t\t\t\t\t\t\t\t\tthis.viewDate['get'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate) +\n\t\t\t\t\t\t\t\t\tDPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'span':\n\t\t\t\t\t\tif (target.is('.month')) {\n\t\t\t\t\t\t\tvar month = target.parent().find('span').index(target);\n\t\t\t\t\t\t\tthis.viewDate.setMonth(month);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar year = parseInt(target.text(), 10)||0;\n\t\t\t\t\t\t\tthis.viewDate.setFullYear(year);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.viewMode !== 0) {\n\t\t\t\t\t\t\tthis.date = new Date(this.viewDate);\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'td':\n\t\t\t\t\t\tif (target.is('.day') && !target.is('.disabled')){\n\t\t\t\t\t\t\tvar day = parseInt(target.text(), 10)||1;\n\t\t\t\t\t\t\tvar month = this.viewDate.getMonth();\n\t\t\t\t\t\t\tif (target.is('.old')) {\n\t\t\t\t\t\t\t\tmonth -= 1;\n\t\t\t\t\t\t\t} else if (target.is('.new')) {\n\t\t\t\t\t\t\t\tmonth += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar year = this.viewDate.getFullYear();\n\t\t\t\t\t\t\tthis.date = new Date(year, month, day,0,0,0,0);\n\t\t\t\t\t\t\tthis.viewDate = new Date(year, month, Math.min(28, day),0,0,0,0);\n\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\tthis.set();\n\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\t\t\t\tdate: this.date,\n\t\t\t\t\t\t\t\tviewMode: DPGlobal.modes[this.viewMode].clsName\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tmousedown: function(e){\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t},\n\n\t\tshowMode: function(dir) {\n\t\t\tif (dir) {\n\t\t\t\tthis.viewMode = Math.max(this.minViewMode, Math.min(2, this.viewMode + dir));\n\t\t\t}\n\t\t\tthis.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\t\t}\n\t};\n\n\t$.fn.datepicker = function ( option, val ) {\n\t\treturn this.each(function () {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('datepicker'),\n\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tif (!data) {\n\t\t\t\t$this.data('datepicker', (data = new Datepicker(this, $.extend({}, $.fn.datepicker.defaults,options))));\n\t\t\t}\n\t\t\tif (typeof option === 'string') data[option](val);\n\t\t});\n\t};\n\n\t$.fn.datepicker.defaults = {\n\t\tonRender: function(date) {\n\t\t\treturn '';\n\t\t}\n\t};\n\t$.fn.datepicker.Constructor = Datepicker;\n\n\tvar DPGlobal = {\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tclsName: 'days',\n\t\t\t\tnavFnc: 'Month',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'months',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'years',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 10\n\t\t}],\n\t\tdates:{\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\t\t},\n\t\tisLeapYear: function (year) {\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\n\t\t},\n\t\tgetDaysInMonth: function (year, month) {\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n\t\t},\n\t\tparseFormat: function(format){\n\t\t\tvar separator = format.match(/[.\\/\\-\\s].*?/),\n\t\t\t\tparts = format.split(/\\W+/);\n\t\t\tif (!separator || !parts || parts.length === 0){\n\t\t\t\tthrow new Error(\"Invalid date format.\");\n\t\t\t}\n\t\t\treturn {separator: separator, parts: parts};\n\t\t},\n\t\tparseDate: function(date, format) {\n\t\t\tvar parts = date.split(format.separator),\n\t\t\t\tdate = new Date(),\n\t\t\t\tval;\n\t\t\tdate.setHours(0);\n\t\t\tdate.setMinutes(0);\n\t\t\tdate.setSeconds(0);\n\t\t\tdate.setMilliseconds(0);\n\t\t\tif (parts.length === format.parts.length) {\n\t\t\t\tvar year = date.getFullYear(), day = date.getDate(), month = date.getMonth();\n\t\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\t\tval = parseInt(parts[i], 10)||1;\n\t\t\t\t\tswitch(format.parts[i]) {\n\t\t\t\t\t\tcase 'dd':\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tday = val;\n\t\t\t\t\t\t\tdate.setDate(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mm':\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tmonth = val - 1;\n\t\t\t\t\t\t\tdate.setMonth(val - 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yy':\n\t\t\t\t\t\t\tyear = 2000 + val;\n\t\t\t\t\t\t\tdate.setFullYear(2000 + val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'yyyy':\n\t\t\t\t\t\t\tyear = val;\n\t\t\t\t\t\t\tdate.setFullYear(val);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdate = new Date(year, month, day, 0 ,0 ,0);\n\t\t\t}\n\t\t\treturn date;\n\t\t},\n\t\tformatDate: function(date, format){\n\t\t\tvar val = {\n\t\t\t\td: date.getDate(),\n\t\t\t\tm: date.getMonth() + 1,\n\t\t\t\tyy: date.getFullYear().toString().substring(2),\n\t\t\t\tyyyy: date.getFullYear()\n\t\t\t};\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\n\t\t\tvar date = [];\n\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\tdate.push(val[format.parts[i]]);\n\t\t\t}\n\t\t\treturn date.join(format.separator);\n\t\t},\n\t\theadTemplate: '<thead>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th class=\"prev\">&lsaquo;</th>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"switch\"></th>'+\n\t\t\t\t\t\t\t\t'<th class=\"next\">&rsaquo;</th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</thead>',\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>'\n\t};\n\tDPGlobal.template = '<div class=\"datepicker dropdown-menu\">'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\n\t\t\t\t\t\t\t\t'<table class=\" table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>';\n\n});\n\n","/*! jQuery UI - v1.10.3 - 2013-10-10\n* http://jqueryui.com\n* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.sortable.js\n* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */\n\ndefine('plugins/jquery-ui',['jquery'], function(jQuery) {\n(function( $, undefined ) {\n\nvar uuid = 0,\n\truniqueId = /^ui-id-\\d+$/;\n\n// $.ui might exist from components with no dependencies, e.g., $.ui.position\n$.ui = $.ui || {};\n\n$.extend( $.ui, {\n\tversion: \"1.10.3\",\n\n\tkeyCode: {\n\t\tBACKSPACE: 8,\n\t\tCOMMA: 188,\n\t\tDELETE: 46,\n\t\tDOWN: 40,\n\t\tEND: 35,\n\t\tENTER: 13,\n\t\tESCAPE: 27,\n\t\tHOME: 36,\n\t\tLEFT: 37,\n\t\tNUMPAD_ADD: 107,\n\t\tNUMPAD_DECIMAL: 110,\n\t\tNUMPAD_DIVIDE: 111,\n\t\tNUMPAD_ENTER: 108,\n\t\tNUMPAD_MULTIPLY: 106,\n\t\tNUMPAD_SUBTRACT: 109,\n\t\tPAGE_DOWN: 34,\n\t\tPAGE_UP: 33,\n\t\tPERIOD: 190,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tTAB: 9,\n\t\tUP: 38\n\t}\n});\n\n// plugins\n$.fn.extend({\n\tfocus: (function( orig ) {\n\t\treturn function( delay, fn ) {\n\t\t\treturn typeof delay === \"number\" ?\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tvar elem = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$( elem ).focus();\n\t\t\t\t\t\tif ( fn ) {\n\t\t\t\t\t\t\tfn.call( elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay );\n\t\t\t\t}) :\n\t\t\t\torig.apply( this, arguments );\n\t\t};\n\t})( $.fn.focus ),\n\n\tscrollParent: function() {\n\t\tvar scrollParent;\n\t\tif (($.ui.ie && (/(static|relative)/).test(this.css(\"position\"))) || (/absolute/).test(this.css(\"position\"))) {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(relative|absolute|fixed)/).test($.css(this,\"position\")) && (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n\t\t\t}).eq(0);\n\t\t} else {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n\t\t\t}).eq(0);\n\t\t}\n\n\t\treturn (/fixed/).test(this.css(\"position\")) || !scrollParent.length ? $(document) : scrollParent;\n\t},\n\n\tzIndex: function( zIndex ) {\n\t\tif ( zIndex !== undefined ) {\n\t\t\treturn this.css( \"zIndex\", zIndex );\n\t\t}\n\n\t\tif ( this.length ) {\n\t\t\tvar elem = $( this[ 0 ] ), position, value;\n\t\t\twhile ( elem.length && elem[ 0 ] !== document ) {\n\t\t\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t\t// This makes behavior of this function consistent across browsers\n\t\t\t\t// WebKit always returns auto if the element is positioned\n\t\t\t\tposition = elem.css( \"position\" );\n\t\t\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\t\t\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t\t\t// other browsers return a string\n\t\t\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telem = elem.parent();\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t},\n\n\tuniqueId: function() {\n\t\treturn this.each(function() {\n\t\t\tif ( !this.id ) {\n\t\t\t\tthis.id = \"ui-id-\" + (++uuid);\n\t\t\t}\n\t\t});\n\t},\n\n\tremoveUniqueId: function() {\n\t\treturn this.each(function() {\n\t\t\tif ( runiqueId.test( this.id ) ) {\n\t\t\t\t$( this ).removeAttr( \"id\" );\n\t\t\t}\n\t\t});\n\t}\n});\n\n// selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n\tvar map, mapName, img,\n\t\tnodeName = element.nodeName.toLowerCase();\n\tif ( \"area\" === nodeName ) {\n\t\tmap = element.parentNode;\n\t\tmapName = map.name;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap=#\" + mapName + \"]\" )[0];\n\t\treturn !!img && visible( img );\n\t}\n\treturn ( /input|select|textarea|button|object/.test( nodeName ) ?\n\t\t!element.disabled :\n\t\t\"a\" === nodeName ?\n\t\t\telement.href || isTabIndexNotNaN :\n\t\t\tisTabIndexNotNaN) &&\n\t\t// the element and all of its ancestors must be visible\n\t\tvisible( element );\n}\n\nfunction visible( element ) {\n\treturn $.expr.filters.visible( element ) &&\n\t\t!$( element ).parents().addBack().filter(function() {\n\t\t\treturn $.css( this, \"visibility\" ) === \"hidden\";\n\t\t}).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo(function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t}) :\n\t\t// support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t},\n\n\tfocusable: function( element ) {\n\t\treturn focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n\t},\n\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\tisTabIndexNaN = isNaN( tabIndex );\n\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n\t}\n});\n\n// support: jQuery <1.8\nif ( !$( \"<a>\" ).outerWidth( 1 ).jquery ) {\n\t$.each( [ \"Width\", \"Height\" ], function( i, name ) {\n\t\tvar side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n\t\t\ttype = name.toLowerCase(),\n\t\t\torig = {\n\t\t\t\tinnerWidth: $.fn.innerWidth,\n\t\t\t\tinnerHeight: $.fn.innerHeight,\n\t\t\t\touterWidth: $.fn.outerWidth,\n\t\t\t\touterHeight: $.fn.outerHeight\n\t\t\t};\n\n\t\tfunction reduce( elem, size, border, margin ) {\n\t\t\t$.each( side, function() {\n\t\t\t\tsize -= parseFloat( $.css( elem, \"padding\" + this ) ) || 0;\n\t\t\t\tif ( border ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"border\" + this + \"Width\" ) ) || 0;\n\t\t\t\t}\n\t\t\t\tif ( margin ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"margin\" + this ) ) || 0;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn size;\n\t\t}\n\n\t\t$.fn[ \"inner\" + name ] = function( size ) {\n\t\t\tif ( size === undefined ) {\n\t\t\t\treturn orig[ \"inner\" + name ].call( this );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this ).css( type, reduce( this, size ) + \"px\" );\n\t\t\t});\n\t\t};\n\n\t\t$.fn[ \"outer\" + name] = function( size, margin ) {\n\t\t\tif ( typeof size !== \"number\" ) {\n\t\t\t\treturn orig[ \"outer\" + name ].call( this, size );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n\t\t\t});\n\t\t};\n\t});\n}\n\n// support: jQuery <1.8\nif ( !$.fn.addBack ) {\n\t$.fn.addBack = function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t};\n}\n\n// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)\nif ( $( \"<a>\" ).data( \"a-b\", \"a\" ).removeData( \"a-b\" ).data( \"a-b\" ) ) {\n\t$.fn.removeData = (function( removeData ) {\n\t\treturn function( key ) {\n\t\t\tif ( arguments.length ) {\n\t\t\t\treturn removeData.call( this, $.camelCase( key ) );\n\t\t\t} else {\n\t\t\t\treturn removeData.call( this );\n\t\t\t}\n\t\t};\n\t})( $.fn.removeData );\n}\n\n\n\n\n\n// deprecated\n$.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n\n$.support.selectstart = \"onselectstart\" in document.createElement( \"div\" );\n$.fn.extend({\n\tdisableSelection: function() {\n\t\treturn this.bind( ( $.support.selectstart ? \"selectstart\" : \"mousedown\" ) +\n\t\t\t\".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t},\n\n\tenableSelection: function() {\n\t\treturn this.unbind( \".ui-disableSelection\" );\n\t}\n});\n\n$.extend( $.ui, {\n\t// $.ui.plugin is deprecated. Use $.widget() extensions instead.\n\tplugin: {\n\t\tadd: function( module, option, set ) {\n\t\t\tvar i,\n\t\t\t\tproto = $.ui[ module ].prototype;\n\t\t\tfor ( i in set ) {\n\t\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t\t}\n\t\t},\n\t\tcall: function( instance, name, args ) {\n\t\t\tvar i,\n\t\t\t\tset = instance.plugins[ name ];\n\t\t\tif ( !set || !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// only used by resizable\n\thasScroll: function( el, a ) {\n\n\t\t//If overflow is hidden, the element might have extra content, but the user wants to hide it\n\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\n\t\t\thas = false;\n\n\t\tif ( el[ scroll ] > 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// TODO: determine which cases actually cause this to happen\n\t\t// if the element doesn't have the scroll set, see if it's possible to\n\t\t// set the scroll\n\t\tel[ scroll ] = 1;\n\t\thas = ( el[ scroll ] > 0 );\n\t\tel[ scroll ] = 0;\n\t\treturn has;\n\t}\n});\n\n})( jQuery );\n(function( $, undefined ) {\n\nvar uuid = 0,\n\tslice = Array.prototype.slice,\n\t_cleanData = $.cleanData;\n$.cleanData = function( elems ) {\n\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\ttry {\n\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t// http://bugs.jquery.com/ticket/8235\n\t\t} catch( e ) {}\n\t}\n\t_cleanData( elems );\n};\n\n$.widget = function( name, base, prototype ) {\n\tvar fullName, existingConstructor, constructor, basePrototype,\n\t\t// proxiedPrototype allows the provided prototype to remain unmodified\n\t\t// so that it can be used as a mixin for multiple widgets (#8876)\n\t\tproxiedPrototype = {},\n\t\tnamespace = name.split( \".\" )[ 0 ];\n\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\t// extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\t\t// copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\t\t// track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t});\n\n\tbasePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = (function() {\n\t\t\tvar _super = function() {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t\t},\n\t\t\t\t_superApply = function( args ) {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super,\n\t\t\t\t\t__superApply = this._superApply,\n\t\t\t\t\treturnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t})();\n\t});\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? basePrototype.widgetEventPrefix : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t});\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n\t\t});\n\t\t// remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n};\n\n$.widget.extend = function( target ) {\n\tvar input = slice.call( arguments, 1 ),\n\t\tinputIndex = 0,\n\t\tinputLength = input.length,\n\t\tkey,\n\t\tvalue;\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.widget.extend.apply( null, [ options ].concat(args) ) :\n\t\t\toptions;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar methodValue,\n\t\t\t\t\tinstance = $.data( this, fullName );\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n\t\t\t\t}\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\toptions: {\n\t\tdisabled: false,\n\n\t\t// callbacks\n\t\tcreate: null\n\t},\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = uuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.document = $( element.style ?\n\t\t\t\t// element within the document\n\t\t\t\telement.ownerDocument :\n\t\t\t\t// element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n\t\t}\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: $.noop,\n\t_getCreateEventData: $.noop,\n\t_create: $.noop,\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tthis._destroy();\n\t\t// we can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t// 1.9 BC for #7810\n\t\t\t// TODO remove dual storage\n\t\t\t.removeData( this.widgetName )\n\t\t\t.removeData( this.widgetFullName )\n\t\t\t// support: jquery <1.6.3\n\t\t\t// http://bugs.jquery.com/ticket/9413\n\t\t\t.removeData( $.camelCase( this.widgetFullName ) );\n\t\tthis.widget()\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetFullName + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\n\t\t// clean up events and states\n\t\tthis.bindings.unbind( this.eventNamespace );\n\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t},\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key,\n\t\t\tparts,\n\t\t\tcurOption,\n\t\t\ti;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\t\t\t// handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t.toggleClass( this.widgetFullName + \"-disabled ui-state-disabled\", !!value )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOption( \"disabled\", false );\n\t},\n\tdisable: function() {\n\t\treturn this._setOption( \"disabled\", true );\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement,\n\t\t\tinstance = this;\n\n\t\t// no suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// no element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\t// accept selectors, DOM elements\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\t\t\t\t// allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^(\\w+)\\s*(.*)$/ ),\n\t\t\t\teventName = match[1] + instance.eventNamespace,\n\t\t\t\tselector = match[2];\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.delegate( selector, eventName, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.bind( eventName, handlerProxy );\n\t\t\t}\n\t\t});\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) + this.eventNamespace;\n\t\telement.unbind( eventName ).undelegate( eventName );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-hover\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\t\tvar hasOptions,\n\t\t\teffectName = !options ?\n\t\t\t\tmethod :\n\t\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\t\tdefaultEffect :\n\t\t\t\t\toptions.effect || defaultEffect;\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue(function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t});\n\t\t}\n\t};\n});\n\n})( jQuery );\n(function( $, undefined ) {\n\nvar mouseHandled = false;\n$( document ).mouseup( function() {\n\tmouseHandled = false;\n});\n\n$.widget(\"ui.mouse\", {\n\tversion: \"1.10.3\",\n\toptions: {\n\t\tcancel: \"input,textarea,button,select,option\",\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar that = this;\n\n\t\tthis.element\n\t\t\t.bind(\"mousedown.\"+this.widgetName, function(event) {\n\t\t\t\treturn that._mouseDown(event);\n\t\t\t})\n\t\t\t.bind(\"click.\"+this.widgetName, function(event) {\n\t\t\t\tif (true === $.data(event.target, that.widgetName + \".preventClickEvent\")) {\n\t\t\t\t\t$.removeData(event.target, that.widgetName + \".preventClickEvent\");\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.unbind(\".\"+this.widgetName);\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\t$(document)\n\t\t\t\t.unbind(\"mousemove.\"+this.widgetName, this._mouseMoveDelegate)\n\t\t\t\t.unbind(\"mouseup.\"+this.widgetName, this._mouseUpDelegate);\n\t\t}\n\t},\n\n\t_mouseDown: function(event) {\n\t\t// don't let more than one widget handle mouseStart\n\t\tif( mouseHandled ) { return; }\n\n\t\t// we may have missed mouseup (out of window)\n\t\t(this._mouseStarted && this._mouseUp(event));\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar that = this,\n\t\t\tbtnIsLeft = (event.which === 1),\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = (typeof this.options.cancel === \"string\" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);\n\t\tif (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif (!this.mouseDelayMet) {\n\t\t\tthis._mouseDelayTimer = setTimeout(function() {\n\t\t\t\tthat.mouseDelayMet = true;\n\t\t\t}, this.options.delay);\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted = (this._mouseStart(event) !== false);\n\t\t\tif (!this._mouseStarted) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif (true === $.data(event.target, this.widgetName + \".preventClickEvent\")) {\n\t\t\t$.removeData(event.target, this.widgetName + \".preventClickEvent\");\n\t\t}\n\n\t\t// these delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function(event) {\n\t\t\treturn that._mouseMove(event);\n\t\t};\n\t\tthis._mouseUpDelegate = function(event) {\n\t\t\treturn that._mouseUp(event);\n\t\t};\n\t\t$(document)\n\t\t\t.bind(\"mousemove.\"+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.bind(\"mouseup.\"+this.widgetName, this._mouseUpDelegate);\n\n\t\tevent.preventDefault();\n\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function(event) {\n\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\tif ($.ui.ie && ( !document.documentMode || document.documentMode < 9 ) && !event.button) {\n\t\t\treturn this._mouseUp(event);\n\t\t}\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseDrag(event);\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t(this._mouseStart(this._mouseDownEvent, event) !== false);\n\t\t\t(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function(event) {\n\t\t$(document)\n\t\t\t.unbind(\"mousemove.\"+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.unbind(\"mouseup.\"+this.widgetName, this._mouseUpDelegate);\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif (event.target === this._mouseDownEvent.target) {\n\t\t\t\t$.data(event.target, this.widgetName + \".preventClickEvent\", true);\n\t\t\t}\n\n\t\t\tthis._mouseStop(event);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseDistanceMet: function(event) {\n\t\treturn (Math.max(\n\t\t\t\tMath.abs(this._mouseDownEvent.pageX - event.pageX),\n\t\t\t\tMath.abs(this._mouseDownEvent.pageY - event.pageY)\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function(/* event */) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function(/* event */) {},\n\t_mouseDrag: function(/* event */) {},\n\t_mouseStop: function(/* event */) {},\n\t_mouseCapture: function(/* event */) { return true; }\n});\n\n})(jQuery);\n(function( $, undefined ) {\n\n/*jshint loopfunc: true */\n\nfunction isOverAxis( x, reference, size ) {\n\treturn ( x > reference ) && ( x < ( reference + size ) );\n}\n\nfunction isFloating(item) {\n\treturn (/left|right/).test(item.css(\"float\")) || (/inline|table-cell/).test(item.css(\"display\"));\n}\n\n$.widget(\"ui.sortable\", $.ui.mouse, {\n\tversion: \"1.10.3\",\n\twidgetEventPrefix: \"sort\",\n\tready: false,\n\toptions: {\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectWith: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tdropOnEmpty: true,\n\t\tforcePlaceholderSize: false,\n\t\tforceHelperSize: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\titems: \"> *\",\n\t\topacity: false,\n\t\tplaceholder: false,\n\t\trevert: false,\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\t\tzIndex: 1000,\n\n\t\t// callbacks\n\t\tactivate: null,\n\t\tbeforeStop: null,\n\t\tchange: null,\n\t\tdeactivate: null,\n\t\tout: null,\n\t\tover: null,\n\t\treceive: null,\n\t\tremove: null,\n\t\tsort: null,\n\t\tstart: null,\n\t\tstop: null,\n\t\tupdate: null\n\t},\n\t_create: function() {\n\n\t\tvar o = this.options;\n\t\tthis.containerCache = {};\n\t\tthis.element.addClass(\"ui-sortable\");\n\n\t\t//Get the items\n\t\tthis.refresh();\n\n\t\t//Let's determine if the items are being displayed horizontally\n\t\tthis.floating = this.items.length ? o.axis === \"x\" || isFloating(this.items[0].item) : false;\n\n\t\t//Let's determine the parent's offset\n\t\tthis.offset = this.element.offset();\n\n\t\t//Initialize mouse events for interaction\n\t\tthis._mouseInit();\n\n\t\t//We're ready to go\n\t\tthis.ready = true;\n\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.removeClass(\"ui-sortable ui-sortable-disabled\");\n\t\tthis._mouseDestroy();\n\n\t\tfor ( var i = this.items.length - 1; i >= 0; i-- ) {\n\t\t\tthis.items[i].item.removeData(this.widgetName + \"-item\");\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function(key, value){\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.options[ key ] = value;\n\n\t\t\tthis.widget().toggleClass( \"ui-sortable-disabled\", !!value );\n\t\t} else {\n\t\t\t// Don't call widget base _setOption for disable as it adds ui-state-disabled class\n\t\t\t$.Widget.prototype._setOption.apply(this, arguments);\n\t\t}\n\t},\n\n\t_mouseCapture: function(event, overrideHandle) {\n\t\tvar currentItem = null,\n\t\t\tvalidHandle = false,\n\t\t\tthat = this;\n\n\t\tif (this.reverting) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(this.options.disabled || this.options.type === \"static\") {\n\t\t\treturn false;\n\t\t}\n\n\t\t//We have to refresh the items data once first\n\t\tthis._refreshItems(event);\n\n\t\t//Find out if the clicked node (or one of its parents) is a actual item in this.items\n\t\t$(event.target).parents().each(function() {\n\t\t\tif($.data(this, that.widgetName + \"-item\") === that) {\n\t\t\t\tcurrentItem = $(this);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif($.data(event.target, that.widgetName + \"-item\") === that) {\n\t\t\tcurrentItem = $(event.target);\n\t\t}\n\n\t\tif(!currentItem) {\n\t\t\treturn false;\n\t\t}\n\t\tif(this.options.handle && !overrideHandle) {\n\t\t\t$(this.options.handle, currentItem).find(\"*\").addBack().each(function() {\n\t\t\t\tif(this === event.target) {\n\t\t\t\t\tvalidHandle = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(!validHandle) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.currentItem = currentItem;\n\t\tthis._removeCurrentsFromItems();\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function(event, overrideHandle, noActivation) {\n\n\t\tvar i, body,\n\t\t\to = this.options;\n\n\t\tthis.currentContainer = this;\n\n\t\t//We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture\n\t\tthis.refreshPositions();\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper(event);\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Get the next scrolling parent\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.currentItem.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend(this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper\n\t\t});\n\n\t\t// Only after we got the offset, we can change the helper's position to absolute\n\t\t// TODO: Still need to figure out a way to make relative sorting possible\n\t\tthis.helper.css(\"position\", \"absolute\");\n\t\tthis.cssPosition = this.helper.css(\"position\");\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this._generatePosition(event);\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));\n\n\t\t//Cache the former DOM position\n\t\tthis.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] };\n\n\t\t//If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way\n\t\tif(this.helper[0] !== this.currentItem[0]) {\n\t\t\tthis.currentItem.hide();\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthis._createPlaceholder();\n\n\t\t//Set a containment if given in the options\n\t\tif(o.containment) {\n\t\t\tthis._setContainment();\n\t\t}\n\n\t\tif( o.cursor && o.cursor !== \"auto\" ) { // cursor option\n\t\t\tbody = this.document.find( \"body\" );\n\n\t\t\t// support: IE\n\t\t\tthis.storedCursor = body.css( \"cursor\" );\n\t\t\tbody.css( \"cursor\", o.cursor );\n\n\t\t\tthis.storedStylesheet = $( \"<style>*{ cursor: \"+o.cursor+\" !important; }</style>\" ).appendTo( body );\n\t\t}\n\n\t\tif(o.opacity) { // opacity option\n\t\t\tif (this.helper.css(\"opacity\")) {\n\t\t\t\tthis._storedOpacity = this.helper.css(\"opacity\");\n\t\t\t}\n\t\t\tthis.helper.css(\"opacity\", o.opacity);\n\t\t}\n\n\t\tif(o.zIndex) { // zIndex option\n\t\t\tif (this.helper.css(\"zIndex\")) {\n\t\t\t\tthis._storedZIndex = this.helper.css(\"zIndex\");\n\t\t\t}\n\t\t\tthis.helper.css(\"zIndex\", o.zIndex);\n\t\t}\n\n\t\t//Prepare scrolling\n\t\tif(this.scrollParent[0] !== document && this.scrollParent[0].tagName !== \"HTML\") {\n\t\t\tthis.overflowOffset = this.scrollParent.offset();\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger(\"start\", event, this._uiHash());\n\n\t\t//Recache the helper size\n\t\tif(!this._preserveHelperProportions) {\n\t\t\tthis._cacheHelperProportions();\n\t\t}\n\n\n\t\t//Post \"activate\" events to possible containers\n\t\tif( !noActivation ) {\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\n\t\t\t\tthis.containers[ i ]._trigger( \"activate\", event, this._uiHash( this ) );\n\t\t\t}\n\t\t}\n\n\t\t//Prepare possible droppables\n\t\tif($.ui.ddmanager) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\tif ($.ui.ddmanager && !o.dropBehaviour) {\n\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\t\t}\n\n\t\tthis.dragging = true;\n\n\t\tthis.helper.addClass(\"ui-sortable-helper\");\n\t\tthis._mouseDrag(event); //Execute the drag once - this causes the helper not to be visible before getting its correct position\n\t\treturn true;\n\n\t},\n\n\t_mouseDrag: function(event) {\n\t\tvar i, item, itemElement, intersection,\n\t\t\to = this.options,\n\t\t\tscrolled = false;\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition(event);\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\tif (!this.lastPositionAbs) {\n\t\t\tthis.lastPositionAbs = this.positionAbs;\n\t\t}\n\n\t\t//Do scrolling\n\t\tif(this.options.scroll) {\n\t\t\tif(this.scrollParent[0] !== document && this.scrollParent[0].tagName !== \"HTML\") {\n\n\t\t\t\tif((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;\n\t\t\t\t} else if(event.pageY - this.overflowOffset.top < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t\tif((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if(event.pageX - this.overflowOffset.left < o.scrollSensitivity) {\n\t\t\t\t\tthis.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif(event.pageY - $(document).scrollTop() < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n\t\t\t\t} else if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n\t\t\t\t}\n\n\t\t\t\tif(event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n\t\t\t\t} else if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {\n\t\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\t\t\t}\n\t\t}\n\n\t\t//Regenerate the absolute position used for position checks\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\t//Set the helper position\n\t\tif(!this.options.axis || this.options.axis !== \"y\") {\n\t\t\tthis.helper[0].style.left = this.position.left+\"px\";\n\t\t}\n\t\tif(!this.options.axis || this.options.axis !== \"x\") {\n\t\t\tthis.helper[0].style.top = this.position.top+\"px\";\n\t\t}\n\n\t\t//Rearrange\n\t\tfor (i = this.items.length - 1; i >= 0; i--) {\n\n\t\t\t//Cache variables and intersection, continue if no intersection\n\t\t\titem = this.items[i];\n\t\t\titemElement = item.item[0];\n\t\t\tintersection = this._intersectsWithPointer(item);\n\t\t\tif (!intersection) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Only put the placeholder inside the current Container, skip all\n\t\t\t// items form other containers. This works because when moving\n\t\t\t// an item from one container to another the\n\t\t\t// currentContainer is switched before the placeholder is moved.\n\t\t\t//\n\t\t\t// Without this moving items in \"sub-sortables\" can cause the placeholder to jitter\n\t\t\t// beetween the outer and inner container.\n\t\t\tif (item.instance !== this.currentContainer) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// cannot intersect with itself\n\t\t\t// no useless actions that have been done before\n\t\t\t// no action if the item moved is the parent of the item checked\n\t\t\tif (itemElement !== this.currentItem[0] &&\n\t\t\t\tthis.placeholder[intersection === 1 ? \"next\" : \"prev\"]()[0] !== itemElement &&\n\t\t\t\t!$.contains(this.placeholder[0], itemElement) &&\n\t\t\t\t(this.options.type === \"semi-dynamic\" ? !$.contains(this.element[0], itemElement) : true)\n\t\t\t) {\n\n\t\t\t\tthis.direction = intersection === 1 ? \"down\" : \"up\";\n\n\t\t\t\tif (this.options.tolerance === \"pointer\" || this._intersectsWithSides(item)) {\n\t\t\t\t\tthis._rearrange(event, item);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthis._trigger(\"change\", event, this._uiHash());\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//Post events to containers\n\t\tthis._contactContainers(event);\n\n\t\t//Interconnect with droppables\n\t\tif($.ui.ddmanager) {\n\t\t\t$.ui.ddmanager.drag(this, event);\n\t\t}\n\n\t\t//Call callbacks\n\t\tthis._trigger(\"sort\", event, this._uiHash());\n\n\t\tthis.lastPositionAbs = this.positionAbs;\n\t\treturn false;\n\n\t},\n\n\t_mouseStop: function(event, noPropagation) {\n\n\t\tif(!event) {\n\t\t\treturn;\n\t\t}\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tif ($.ui.ddmanager && !this.options.dropBehaviour) {\n\t\t\t$.ui.ddmanager.drop(this, event);\n\t\t}\n\n\t\tif(this.options.revert) {\n\t\t\tvar that = this,\n\t\t\t\tcur = this.placeholder.offset(),\n\t\t\t\taxis = this.options.axis,\n\t\t\t\tanimation = {};\n\n\t\t\tif ( !axis || axis === \"x\" ) {\n\t\t\t\tanimation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft);\n\t\t\t}\n\t\t\tif ( !axis || axis === \"y\" ) {\n\t\t\t\tanimation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop);\n\t\t\t}\n\t\t\tthis.reverting = true;\n\t\t\t$(this.helper).animate( animation, parseInt(this.options.revert, 10) || 500, function() {\n\t\t\t\tthat._clear(event);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._clear(event, noPropagation);\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tcancel: function() {\n\n\t\tif(this.dragging) {\n\n\t\t\tthis._mouseUp({ target: null });\n\n\t\t\tif(this.options.helper === \"original\") {\n\t\t\t\tthis.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\");\n\t\t\t} else {\n\t\t\t\tthis.currentItem.show();\n\t\t\t}\n\n\t\t\t//Post deactivating events to containers\n\t\t\tfor (var i = this.containers.length - 1; i >= 0; i--){\n\t\t\t\tthis.containers[i]._trigger(\"deactivate\", null, this._uiHash(this));\n\t\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\t\tthis.containers[i]._trigger(\"out\", null, this._uiHash(this));\n\t\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif (this.placeholder) {\n\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!\n\t\t\tif(this.placeholder[0].parentNode) {\n\t\t\t\tthis.placeholder[0].parentNode.removeChild(this.placeholder[0]);\n\t\t\t}\n\t\t\tif(this.options.helper !== \"original\" && this.helper && this.helper[0].parentNode) {\n\t\t\t\tthis.helper.remove();\n\t\t\t}\n\n\t\t\t$.extend(this, {\n\t\t\t\thelper: null,\n\t\t\t\tdragging: false,\n\t\t\t\treverting: false,\n\t\t\t\t_noFinalSort: null\n\t\t\t});\n\n\t\t\tif(this.domPosition.prev) {\n\t\t\t\t$(this.domPosition.prev).after(this.currentItem);\n\t\t\t} else {\n\t\t\t\t$(this.domPosition.parent).prepend(this.currentItem);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tserialize: function(o) {\n\n\t\tvar items = this._getItemsAsjQuery(o && o.connected),\n\t\t\tstr = [];\n\t\to = o || {};\n\n\t\t$(items).each(function() {\n\t\t\tvar res = ($(o.item || this).attr(o.attribute || \"id\") || \"\").match(o.expression || (/(.+)[\\-=_](.+)/));\n\t\t\tif (res) {\n\t\t\t\tstr.push((o.key || res[1]+\"[]\")+\"=\"+(o.key && o.expression ? res[1] : res[2]));\n\t\t\t}\n\t\t});\n\n\t\tif(!str.length && o.key) {\n\t\t\tstr.push(o.key + \"=\");\n\t\t}\n\n\t\treturn str.join(\"&\");\n\n\t},\n\n\ttoArray: function(o) {\n\n\t\tvar items = this._getItemsAsjQuery(o && o.connected),\n\t\t\tret = [];\n\n\t\to = o || {};\n\n\t\titems.each(function() { ret.push($(o.item || this).attr(o.attribute || \"id\") || \"\"); });\n\t\treturn ret;\n\n\t},\n\n\t/* Be careful with the following core functions */\n\t_intersectsWith: function(item) {\n\n\t\tvar x1 = this.positionAbs.left,\n\t\t\tx2 = x1 + this.helperProportions.width,\n\t\t\ty1 = this.positionAbs.top,\n\t\t\ty2 = y1 + this.helperProportions.height,\n\t\t\tl = item.left,\n\t\t\tr = l + item.width,\n\t\t\tt = item.top,\n\t\t\tb = t + item.height,\n\t\t\tdyClick = this.offset.click.top,\n\t\t\tdxClick = this.offset.click.left,\n\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) || ( ( y1 + dyClick ) > t && ( y1 + dyClick ) < b ),\n\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) || ( ( x1 + dxClick ) > l && ( x1 + dxClick ) < r ),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\n\n\t\tif ( this.options.tolerance === \"pointer\" ||\n\t\t\tthis.options.forcePointerForContainers ||\n\t\t\t(this.options.tolerance !== \"pointer\" && this.helperProportions[this.floating ? \"width\" : \"height\"] > item[this.floating ? \"width\" : \"height\"])\n\t\t) {\n\t\t\treturn isOverElement;\n\t\t} else {\n\n\t\t\treturn (l < x1 + (this.helperProportions.width / 2) && // Right Half\n\t\t\t\tx2 - (this.helperProportions.width / 2) < r && // Left Half\n\t\t\t\tt < y1 + (this.helperProportions.height / 2) && // Bottom Half\n\t\t\t\ty2 - (this.helperProportions.height / 2) < b ); // Top Half\n\n\t\t}\n\t},\n\n\t_intersectsWithPointer: function(item) {\n\n\t\tvar isOverElementHeight = (this.options.axis === \"x\") || isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),\n\t\t\tisOverElementWidth = (this.options.axis === \"y\") || isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth,\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif (!isOverElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.floating ?\n\t\t\t( ((horizontalDirection && horizontalDirection === \"right\") || verticalDirection === \"down\") ? 2 : 1 )\n\t\t\t: ( verticalDirection && (verticalDirection === \"down\" ? 2 : 1) );\n\n\t},\n\n\t_intersectsWithSides: function(item) {\n\n\t\tvar isOverBottomHalf = isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),\n\t\t\tisOverRightHalf = isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif (this.floating && horizontalDirection) {\n\t\t\treturn ((horizontalDirection === \"right\" && isOverRightHalf) || (horizontalDirection === \"left\" && !isOverRightHalf));\n\t\t} else {\n\t\t\treturn verticalDirection && ((verticalDirection === \"down\" && isOverBottomHalf) || (verticalDirection === \"up\" && !isOverBottomHalf));\n\t\t}\n\n\t},\n\n\t_getDragVerticalDirection: function() {\n\t\tvar delta = this.positionAbs.top - this.lastPositionAbs.top;\n\t\treturn delta !== 0 && (delta > 0 ? \"down\" : \"up\");\n\t},\n\n\t_getDragHorizontalDirection: function() {\n\t\tvar delta = this.positionAbs.left - this.lastPositionAbs.left;\n\t\treturn delta !== 0 && (delta > 0 ? \"right\" : \"left\");\n\t},\n\n\trefresh: function(event) {\n\t\tthis._refreshItems(event);\n\t\tthis.refreshPositions();\n\t\treturn this;\n\t},\n\n\t_connectWith: function() {\n\t\tvar options = this.options;\n\t\treturn options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;\n\t},\n\n\t_getItemsAsjQuery: function(connected) {\n\n\t\tvar i, j, cur, inst,\n\t\t\titems = [],\n\t\t\tqueries = [],\n\t\t\tconnectWith = this._connectWith();\n\n\t\tif(connectWith && connected) {\n\t\t\tfor (i = connectWith.length - 1; i >= 0; i--){\n\t\t\t\tcur = $(connectWith[i]);\n\t\t\t\tfor ( j = cur.length - 1; j >= 0; j--){\n\t\t\t\t\tinst = $.data(cur[j], this.widgetFullName);\n\t\t\t\t\tif(inst && inst !== this && !inst.options.disabled) {\n\t\t\t\t\t\tqueries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"), inst]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tqueries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"), this]);\n\n\t\tfor (i = queries.length - 1; i >= 0; i--){\n\t\t\tqueries[i][0].each(function() {\n\t\t\t\titems.push(this);\n\t\t\t});\n\t\t}\n\n\t\treturn $(items);\n\n\t},\n\n\t_removeCurrentsFromItems: function() {\n\n\t\tvar list = this.currentItem.find(\":data(\" + this.widgetName + \"-item)\");\n\n\t\tthis.items = $.grep(this.items, function (item) {\n\t\t\tfor (var j=0; j < list.length; j++) {\n\t\t\t\tif(list[j] === item.item[0]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t},\n\n\t_refreshItems: function(event) {\n\n\t\tthis.items = [];\n\t\tthis.containers = [this];\n\n\t\tvar i, j, cur, inst, targetData, _queries, item, queriesLength,\n\t\t\titems = this.items,\n\t\t\tqueries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]],\n\t\t\tconnectWith = this._connectWith();\n\n\t\tif(connectWith && this.ready) { //Shouldn't be run the first time through due to massive slow-down\n\t\t\tfor (i = connectWith.length - 1; i >= 0; i--){\n\t\t\t\tcur = $(connectWith[i]);\n\t\t\t\tfor (j = cur.length - 1; j >= 0; j--){\n\t\t\t\t\tinst = $.data(cur[j], this.widgetFullName);\n\t\t\t\t\tif(inst && inst !== this && !inst.options.disabled) {\n\t\t\t\t\t\tqueries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);\n\t\t\t\t\t\tthis.containers.push(inst);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (i = queries.length - 1; i >= 0; i--) {\n\t\t\ttargetData = queries[i][1];\n\t\t\t_queries = queries[i][0];\n\n\t\t\tfor (j=0, queriesLength = _queries.length; j < queriesLength; j++) {\n\t\t\t\titem = $(_queries[j]);\n\n\t\t\t\titem.data(this.widgetName + \"-item\", targetData); // Data for target checking (mouse manager)\n\n\t\t\t\titems.push({\n\t\t\t\t\titem: item,\n\t\t\t\t\tinstance: targetData,\n\t\t\t\t\twidth: 0, height: 0,\n\t\t\t\t\tleft: 0, top: 0\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t},\n\n\trefreshPositions: function(fast) {\n\n\t\t//This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change\n\t\tif(this.offsetParent && this.helper) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\tvar i, item, t, p;\n\n\t\tfor (i = this.items.length - 1; i >= 0; i--){\n\t\t\titem = this.items[i];\n\n\t\t\t//We ignore calculating positions of all connected containers when we're not over them\n\t\t\tif(item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tt = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;\n\n\t\t\tif (!fast) {\n\t\t\t\titem.width = t.outerWidth();\n\t\t\t\titem.height = t.outerHeight();\n\t\t\t}\n\n\t\t\tp = t.offset();\n\t\t\titem.left = p.left;\n\t\t\titem.top = p.top;\n\t\t}\n\n\t\tif(this.options.custom && this.options.custom.refreshContainers) {\n\t\t\tthis.options.custom.refreshContainers.call(this);\n\t\t} else {\n\t\t\tfor (i = this.containers.length - 1; i >= 0; i--){\n\t\t\t\tp = this.containers[i].element.offset();\n\t\t\t\tthis.containers[i].containerCache.left = p.left;\n\t\t\t\tthis.containers[i].containerCache.top = p.top;\n\t\t\t\tthis.containers[i].containerCache.width\t= this.containers[i].element.outerWidth();\n\t\t\t\tthis.containers[i].containerCache.height = this.containers[i].element.outerHeight();\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_createPlaceholder: function(that) {\n\t\tthat = that || this;\n\t\tvar className,\n\t\t\to = that.options;\n\n\t\tif(!o.placeholder || o.placeholder.constructor === String) {\n\t\t\tclassName = o.placeholder;\n\t\t\to.placeholder = {\n\t\t\t\telement: function() {\n\n\t\t\t\t\tvar nodeName = that.currentItem[0].nodeName.toLowerCase(),\n\t\t\t\t\t\telement = $( \"<\" + nodeName + \">\", that.document[0] )\n\t\t\t\t\t\t\t.addClass(className || that.currentItem[0].className+\" ui-sortable-placeholder\")\n\t\t\t\t\t\t\t.removeClass(\"ui-sortable-helper\");\n\n\t\t\t\t\tif ( nodeName === \"tr\" ) {\n\t\t\t\t\t\tthat.currentItem.children().each(function() {\n\t\t\t\t\t\t\t$( \"<td>&#160;</td>\", that.document[0] )\n\t\t\t\t\t\t\t\t.attr( \"colspan\", $( this ).attr( \"colspan\" ) || 1 )\n\t\t\t\t\t\t\t\t.appendTo( element );\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ( nodeName === \"img\" ) {\n\t\t\t\t\t\telement.attr( \"src\", that.currentItem.attr( \"src\" ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !className ) {\n\t\t\t\t\t\telement.css( \"visibility\", \"hidden\" );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn element;\n\t\t\t\t},\n\t\t\t\tupdate: function(container, p) {\n\n\t\t\t\t\t// 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that\n\t\t\t\t\t// 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified\n\t\t\t\t\tif(className && !o.forcePlaceholderSize) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item\n\t\t\t\t\tif(!p.height()) { p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css(\"paddingTop\")||0, 10) - parseInt(that.currentItem.css(\"paddingBottom\")||0, 10)); }\n\t\t\t\t\tif(!p.width()) { p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css(\"paddingLeft\")||0, 10) - parseInt(that.currentItem.css(\"paddingRight\")||0, 10)); }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthat.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));\n\n\t\t//Append it after the actual current item\n\t\tthat.currentItem.after(that.placeholder);\n\n\t\t//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\n\t\to.placeholder.update(that, that.placeholder);\n\n\t},\n\n\t_contactContainers: function(event) {\n\t\tvar i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, base, cur, nearBottom, floating,\n\t\t\tinnermostContainer = null,\n\t\t\tinnermostIndex = null;\n\n\t\t// get innermost container that intersects with item\n\t\tfor (i = this.containers.length - 1; i >= 0; i--) {\n\n\t\t\t// never consider a container that's located within the item itself\n\t\t\tif($.contains(this.currentItem[0], this.containers[i].element[0])) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(this._intersectsWith(this.containers[i].containerCache)) {\n\n\t\t\t\t// if we've already found a container and it's more \"inner\" than this, then continue\n\t\t\t\tif(innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tinnermostContainer = this.containers[i];\n\t\t\t\tinnermostIndex = i;\n\n\t\t\t} else {\n\t\t\t\t// container doesn't intersect. trigger \"out\" event if necessary\n\t\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\t\tthis.containers[i]._trigger(\"out\", event, this._uiHash(this));\n\t\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\t// if no intersecting containers found, return\n\t\tif(!innermostContainer) {\n\t\t\treturn;\n\t\t}\n\n\t\t// move the item into the container if it's not there already\n\t\tif(this.containers.length === 1) {\n\t\t\tif (!this.containers[innermostIndex].containerCache.over) {\n\t\t\t\tthis.containers[innermostIndex]._trigger(\"over\", event, this._uiHash(this));\n\t\t\t\tthis.containers[innermostIndex].containerCache.over = 1;\n\t\t\t}\n\t\t} else {\n\n\t\t\t//When entering a new container, we will find the item with the least distance and append our item near it\n\t\t\tdist = 10000;\n\t\t\titemWithLeastDistance = null;\n\t\t\tfloating = innermostContainer.floating || isFloating(this.currentItem);\n\t\t\tposProperty = floating ? \"left\" : \"top\";\n\t\t\tsizeProperty = floating ? \"width\" : \"height\";\n\t\t\tbase = this.positionAbs[posProperty] + this.offset.click[posProperty];\n\t\t\tfor (j = this.items.length - 1; j >= 0; j--) {\n\t\t\t\tif(!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(this.items[j].item[0] === this.currentItem[0]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (floating && !isOverAxis(this.positionAbs.top + this.offset.click.top, this.items[j].top, this.items[j].height)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcur = this.items[j].item.offset()[posProperty];\n\t\t\t\tnearBottom = false;\n\t\t\t\tif(Math.abs(cur - base) > Math.abs(cur + this.items[j][sizeProperty] - base)){\n\t\t\t\t\tnearBottom = true;\n\t\t\t\t\tcur += this.items[j][sizeProperty];\n\t\t\t\t}\n\n\t\t\t\tif(Math.abs(cur - base) < dist) {\n\t\t\t\t\tdist = Math.abs(cur - base); itemWithLeastDistance = this.items[j];\n\t\t\t\t\tthis.direction = nearBottom ? \"up\": \"down\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//Check if dropOnEmpty is enabled\n\t\t\tif(!itemWithLeastDistance && !this.options.dropOnEmpty) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(this.currentContainer === this.containers[innermostIndex]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);\n\t\t\tthis._trigger(\"change\", event, this._uiHash());\n\t\t\tthis.containers[innermostIndex]._trigger(\"change\", event, this._uiHash(this));\n\t\t\tthis.currentContainer = this.containers[innermostIndex];\n\n\t\t\t//Update the placeholder\n\t\t\tthis.options.placeholder.update(this.currentContainer, this.placeholder);\n\n\t\t\tthis.containers[innermostIndex]._trigger(\"over\", event, this._uiHash(this));\n\t\t\tthis.containers[innermostIndex].containerCache.over = 1;\n\t\t}\n\n\n\t},\n\n\t_createHelper: function(event) {\n\n\t\tvar o = this.options,\n\t\t\thelper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === \"clone\" ? this.currentItem.clone() : this.currentItem);\n\n\t\t//Add the helper to the DOM if that didn't happen already\n\t\tif(!helper.parents(\"body\").length) {\n\t\t\t$(o.appendTo !== \"parent\" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);\n\t\t}\n\n\t\tif(helper[0] === this.currentItem[0]) {\n\t\t\tthis._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css(\"position\"), top: this.currentItem.css(\"top\"), left: this.currentItem.css(\"left\") };\n\t\t}\n\n\t\tif(!helper[0].style.width || o.forceHelperSize) {\n\t\t\thelper.width(this.currentItem.width());\n\t\t}\n\t\tif(!helper[0].style.height || o.forceHelperSize) {\n\t\t\thelper.height(this.currentItem.height());\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function(obj) {\n\t\tif (typeof obj === \"string\") {\n\t\t\tobj = obj.split(\" \");\n\t\t}\n\t\tif ($.isArray(obj)) {\n\t\t\tobj = {left: +obj[0], top: +obj[1] || 0};\n\t\t}\n\t\tif (\"left\" in obj) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif (\"right\" in obj) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif (\"top\" in obj) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif (\"bottom\" in obj) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\n\t\t//Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that\n\t\t//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag\n\t\tif(this.cssPosition === \"absolute\" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\t// This needs to be actually done for all browsers, since pageX/pageY includes this information\n\t\t// with an ugly IE fix\n\t\tif( this.offsetParent[0] === document.body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === \"html\" && $.ui.ie)) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"),10) || 0),\n\t\t\tleft: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"),10) || 0)\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif(this.cssPosition === \"relative\") {\n\t\t\tvar p = this.currentItem.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - (parseInt(this.helper.css(\"top\"),10) || 0) + this.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - (parseInt(this.helper.css(\"left\"),10) || 0) + this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: (parseInt(this.currentItem.css(\"marginLeft\"),10) || 0),\n\t\t\ttop: (parseInt(this.currentItem.css(\"marginTop\"),10) || 0)\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar ce, co, over,\n\t\t\to = this.options;\n\t\tif(o.containment === \"parent\") {\n\t\t\to.containment = this.helper[0].parentNode;\n\t\t}\n\t\tif(o.containment === \"document\" || o.containment === \"window\") {\n\t\t\tthis.containment = [\n\t\t\t\t0 - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t0 - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$(o.containment === \"document\" ? document : window).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t($(o.containment === \"document\" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t\tif(!(/^(document|window|parent)$/).test(o.containment)) {\n\t\t\tce = $(o.containment)[0];\n\t\t\tco = $(o.containment).offset();\n\t\t\tover = ($(ce).css(\"overflow\") !== \"hidden\");\n\n\t\t\tthis.containment = [\n\t\t\t\tco.left + (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingLeft\"),10) || 0) - this.margins.left,\n\t\t\t\tco.top + (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingTop\"),10) || 0) - this.margins.top,\n\t\t\t\tco.left+(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingRight\"),10) || 0) - this.helperProportions.width - this.margins.left,\n\t\t\t\tco.top+(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingBottom\"),10) || 0) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function(d, pos) {\n\n\t\tif(!pos) {\n\t\t\tpos = this.position;\n\t\t}\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscroll = this.cssPosition === \"absolute\" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,\n\t\t\tscrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpos.top\t+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.relative.top * mod +\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.top * mod -\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpos.left +\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.relative.left * mod +\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.left * mod\t-\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function(event) {\n\n\t\tvar top, left,\n\t\t\to = this.options,\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY,\n\t\t\tscroll = this.cssPosition === \"absolute\" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\t// This is another very weird special case that only happens for relative elements:\n\t\t// 1. If the css position is relative\n\t\t// 2. and the scroll parent is the document or similar to the offset parent\n\t\t// we have to refresh the relative offset during the scroll so there are no jumps\n\t\tif(this.cssPosition === \"relative\" && !(this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0])) {\n\t\t\tthis.offset.relative = this._getRelativeOffset();\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\tif(this.originalPosition) { //If we are not dragging yet, we won't check for options\n\n\t\t\tif(this.containment) {\n\t\t\t\tif(event.pageX - this.offset.click.left < this.containment[0]) {\n\t\t\t\t\tpageX = this.containment[0] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif(event.pageY - this.offset.click.top < this.containment[1]) {\n\t\t\t\t\tpageY = this.containment[1] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif(event.pageX - this.offset.click.left > this.containment[2]) {\n\t\t\t\t\tpageX = this.containment[2] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif(event.pageY - this.offset.click.top > this.containment[3]) {\n\t\t\t\t\tpageY = this.containment[3] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(o.grid) {\n\t\t\t\ttop = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];\n\t\t\t\tpageY = this.containment ? ( (top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;\n\n\t\t\t\tleft = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];\n\t\t\t\tpageX = this.containment ? ( (left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpageY -\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.click.top -\t\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.relative.top\t-\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.top +\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpageX -\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\tthis.offset.click.left -\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.relative.left\t-\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.parent.left +\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t( ( this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_rearrange: function(event, i, a, hardRefresh) {\n\n\t\ta ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === \"down\" ? i.item[0] : i.item[0].nextSibling));\n\n\t\t//Various things done here to improve the performance:\n\t\t// 1. we create a setTimeout, that calls refreshPositions\n\t\t// 2. on the instance, we have a counter variable, that get's higher after every append\n\t\t// 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same\n\t\t// 4. this lets only the last addition to the timeout stack through\n\t\tthis.counter = this.counter ? ++this.counter : 1;\n\t\tvar counter = this.counter;\n\n\t\tthis._delay(function() {\n\t\t\tif(counter === this.counter) {\n\t\t\t\tthis.refreshPositions(!hardRefresh); //Precompute after each DOM insertion, NOT on mousemove\n\t\t\t}\n\t\t});\n\n\t},\n\n\t_clear: function(event, noPropagation) {\n\n\t\tthis.reverting = false;\n\t\t// We delay all events that have to be triggered to after the point where the placeholder has been removed and\n\t\t// everything else normalized again\n\t\tvar i,\n\t\t\tdelayedTriggers = [];\n\n\t\t// We first have to update the dom position of the actual currentItem\n\t\t// Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)\n\t\tif(!this._noFinalSort && this.currentItem.parent().length) {\n\t\t\tthis.placeholder.before(this.currentItem);\n\t\t}\n\t\tthis._noFinalSort = null;\n\n\t\tif(this.helper[0] === this.currentItem[0]) {\n\t\t\tfor(i in this._storedCSS) {\n\t\t\t\tif(this._storedCSS[i] === \"auto\" || this._storedCSS[i] === \"static\") {\n\t\t\t\t\tthis._storedCSS[i] = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\");\n\t\t} else {\n\t\t\tthis.currentItem.show();\n\t\t}\n\n\t\tif(this.fromOutside && !noPropagation) {\n\t\t\tdelayedTriggers.push(function(event) { this._trigger(\"receive\", event, this._uiHash(this.fromOutside)); });\n\t\t}\n\t\tif((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(\".ui-sortable-helper\")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {\n\t\t\tdelayedTriggers.push(function(event) { this._trigger(\"update\", event, this._uiHash()); }); //Trigger update callback if the DOM position has changed\n\t\t}\n\n\t\t// Check if the items Container has Changed and trigger appropriate\n\t\t// events.\n\t\tif (this !== this.currentContainer) {\n\t\t\tif(!noPropagation) {\n\t\t\t\tdelayedTriggers.push(function(event) { this._trigger(\"remove\", event, this._uiHash()); });\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"receive\", event, this._uiHash(this)); };  }).call(this, this.currentContainer));\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"update\", event, this._uiHash(this));  }; }).call(this, this.currentContainer));\n\t\t\t}\n\t\t}\n\n\n\t\t//Post events to containers\n\t\tfor (i = this.containers.length - 1; i >= 0; i--){\n\t\t\tif(!noPropagation) {\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"deactivate\", event, this._uiHash(this)); };  }).call(this, this.containers[i]));\n\t\t\t}\n\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"out\", event, this._uiHash(this)); };  }).call(this, this.containers[i]));\n\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t}\n\t\t}\n\n\t\t//Do what was originally in plugins\n\t\tif ( this.storedCursor ) {\n\t\t\tthis.document.find( \"body\" ).css( \"cursor\", this.storedCursor );\n\t\t\tthis.storedStylesheet.remove();\n\t\t}\n\t\tif(this._storedOpacity) {\n\t\t\tthis.helper.css(\"opacity\", this._storedOpacity);\n\t\t}\n\t\tif(this._storedZIndex) {\n\t\t\tthis.helper.css(\"zIndex\", this._storedZIndex === \"auto\" ? \"\" : this._storedZIndex);\n\t\t}\n\n\t\tthis.dragging = false;\n\t\tif(this.cancelHelperRemoval) {\n\t\t\tif(!noPropagation) {\n\t\t\t\tthis._trigger(\"beforeStop\", event, this._uiHash());\n\t\t\t\tfor (i=0; i < delayedTriggers.length; i++) {\n\t\t\t\t\tdelayedTriggers[i].call(this, event);\n\t\t\t\t} //Trigger all delayed events\n\t\t\t\tthis._trigger(\"stop\", event, this._uiHash());\n\t\t\t}\n\n\t\t\tthis.fromOutside = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tif(!noPropagation) {\n\t\t\tthis._trigger(\"beforeStop\", event, this._uiHash());\n\t\t}\n\n\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!\n\t\tthis.placeholder[0].parentNode.removeChild(this.placeholder[0]);\n\n\t\tif(this.helper[0] !== this.currentItem[0]) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\n\t\tif(!noPropagation) {\n\t\t\tfor (i=0; i < delayedTriggers.length; i++) {\n\t\t\t\tdelayedTriggers[i].call(this, event);\n\t\t\t} //Trigger all delayed events\n\t\t\tthis._trigger(\"stop\", event, this._uiHash());\n\t\t}\n\n\t\tthis.fromOutside = false;\n\t\treturn true;\n\n\t},\n\n\t_trigger: function() {\n\t\tif ($.Widget.prototype._trigger.apply(this, arguments) === false) {\n\t\t\tthis.cancel();\n\t\t}\n\t},\n\n\t_uiHash: function(_inst) {\n\t\tvar inst = _inst || this;\n\t\treturn {\n\t\t\thelper: inst.helper,\n\t\t\tplaceholder: inst.placeholder || $([]),\n\t\t\tposition: inst.position,\n\t\t\toriginalPosition: inst.originalPosition,\n\t\t\toffset: inst.positionAbs,\n\t\t\titem: inst.currentItem,\n\t\t\tsender: _inst ? _inst.element : null\n\t\t};\n\t}\n\n});\n\n})(jQuery);\n});\n\n","/*\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\n *\n * Uses the built in easing capabilities added In jQuery 1.1\n * to offer multiple easing options\n *\n * TERMS OF USE - jQuery Easing\n *\n * Open source under the BSD License.\n *\n * Copyright © 2008 George McGinley Smith\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n*/\n\n/*\n *\n * TERMS OF USE - EASING EQUATIONS\n *\n * Open source under the BSD License.\n *\n * Copyright © 2001 Robert Penner\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\ndefine('plugins/jquery-easing',['jquery'], function(jQuery) {\n    // t: current time, b: begInnIng value, c: change In value, d: duration\n    jQuery.easing['jswing'] = jQuery.easing['swing'];\n\n    jQuery.extend( jQuery.easing,\n    {\n        def: 'easeOutQuad',\n        swing: function (x, t, b, c, d) {\n            //alert(jQuery.easing.default);\n            return jQuery.easing[jQuery.easing.def](x, t, b, c, d);\n        },\n        easeInQuad: function (x, t, b, c, d) {\n            return c*(t/=d)*t + b;\n        },\n        easeOutQuad: function (x, t, b, c, d) {\n            return -c *(t/=d)*(t-2) + b;\n        },\n        easeInOutQuad: function (x, t, b, c, d) {\n            if ((t/=d/2) < 1) return c/2*t*t + b;\n            return -c/2 * ((--t)*(t-2) - 1) + b;\n        },\n        easeInCubic: function (x, t, b, c, d) {\n            return c*(t/=d)*t*t + b;\n        },\n        easeOutCubic: function (x, t, b, c, d) {\n            return c*((t=t/d-1)*t*t + 1) + b;\n        },\n        easeInOutCubic: function (x, t, b, c, d) {\n            if ((t/=d/2) < 1) return c/2*t*t*t + b;\n            return c/2*((t-=2)*t*t + 2) + b;\n        },\n        easeInQuart: function (x, t, b, c, d) {\n            return c*(t/=d)*t*t*t + b;\n        },\n        easeOutQuart: function (x, t, b, c, d) {\n            return -c * ((t=t/d-1)*t*t*t - 1) + b;\n        },\n        easeInOutQuart: function (x, t, b, c, d) {\n            if ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n            return -c/2 * ((t-=2)*t*t*t - 2) + b;\n        },\n        easeInQuint: function (x, t, b, c, d) {\n            return c*(t/=d)*t*t*t*t + b;\n        },\n        easeOutQuint: function (x, t, b, c, d) {\n            return c*((t=t/d-1)*t*t*t*t + 1) + b;\n        },\n        easeInOutQuint: function (x, t, b, c, d) {\n            if ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\n            return c/2*((t-=2)*t*t*t*t + 2) + b;\n        },\n        easeInSine: function (x, t, b, c, d) {\n            return -c * Math.cos(t/d * (Math.PI/2)) + c + b;\n        },\n        easeOutSine: function (x, t, b, c, d) {\n            return c * Math.sin(t/d * (Math.PI/2)) + b;\n        },\n        easeInOutSine: function (x, t, b, c, d) {\n            return -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\n        },\n        easeInExpo: function (x, t, b, c, d) {\n            return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n        },\n        easeOutExpo: function (x, t, b, c, d) {\n            return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n        },\n        easeInOutExpo: function (x, t, b, c, d) {\n            if (t==0) return b;\n            if (t==d) return b+c;\n            if ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\n            return c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\n        },\n        easeInCirc: function (x, t, b, c, d) {\n            return -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\n        },\n        easeOutCirc: function (x, t, b, c, d) {\n            return c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n        },\n        easeInOutCirc: function (x, t, b, c, d) {\n            if ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\n            return c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\n        },\n        easeInElastic: function (x, t, b, c, d) {\n            var s=1.70158;var p=0;var a=c;\n            if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n            if (a < Math.abs(c)) { a=c; var s=p/4; }\n            else var s = p/(2*Math.PI) * Math.asin (c/a);\n            return -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n        },\n        easeOutElastic: function (x, t, b, c, d) {\n            var s=1.70158;var p=0;var a=c;\n            if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n            if (a < Math.abs(c)) { a=c; var s=p/4; }\n            else var s = p/(2*Math.PI) * Math.asin (c/a);\n            return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n        },\n        easeInOutElastic: function (x, t, b, c, d) {\n            var s=1.70158;var p=0;var a=c;\n            if (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\n            if (a < Math.abs(c)) { a=c; var s=p/4; }\n            else var s = p/(2*Math.PI) * Math.asin (c/a);\n            if (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n            return a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\n        },\n        easeInBack: function (x, t, b, c, d, s) {\n            if (s == undefined) s = 1.70158;\n            return c*(t/=d)*t*((s+1)*t - s) + b;\n        },\n        easeOutBack: function (x, t, b, c, d, s) {\n            if (s == undefined) s = 1.70158;\n            return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n        },\n        easeInOutBack: function (x, t, b, c, d, s) {\n            if (s == undefined) s = 1.70158;\n            if ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n            return c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n        },\n        easeInBounce: function (x, t, b, c, d) {\n            return c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;\n        },\n        easeOutBounce: function (x, t, b, c, d) {\n            if ((t/=d) < (1/2.75)) {\n                return c*(7.5625*t*t) + b;\n            } else if (t < (2/2.75)) {\n                return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n            } else if (t < (2.5/2.75)) {\n                return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n            } else {\n                return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n            }\n        },\n        easeInOutBounce: function (x, t, b, c, d) {\n            if (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\n            return jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\n        }\n    });\n});\n\n","/* global define */\n\n/*\njQuery plugin for an side-panel which can open and close on the\nleft or right edge of the document.\n\nMethods are invoked by passing the method name as a string in the\nconstructor method, e.g. `$(...).panel('open')`.\n\nMethods:\n  `open` - Opens the panel\n  `close` - Closes the panel\n  `toggle` - Toggles the panel open/close opened\n  'isOpen' - Returns true if the panel is open\n  'isClosed' - Returns true if the panel is closed\n\nCSS classes:\n  `.panel` - base class for panel container\n  `.panel-toggle` - edge toggle on the panel itself which is kept\n      exposed while in a closed opened\n  `.panel-right` - positions the panel on the right edge of the document\n  `.panel-left` - positions the panel on the left edge of the document\n  `.closed` - start the panel in a closed opened\n\nHTML markup:\n  <div class=\"panel panel-left closed\">\n      <div class=\"panel-toggle\"></div>\n      <div class=\"panel-content\">\n          ...\n      </div>\n  </div>\n*/\n\ndefine('plugins/jquery-panels',['jquery'], function($) {\n\n    var getSlideWidth = function(element, options) {\n        options = options || {};\n\n        // Total width of panel\n        var slideWidth = element.outerWidth(),\n            toggle = element.children('.panel-toggle');\n\n        // If a .panel-toggle exists within the panel, substract the width\n        // to it is still visible for use\n        if (options.full !== false && toggle[0]) {\n            return slideWidth - toggle.outerWidth();\n        }\n\n        return slideWidth;\n    };\n\n\n    var Panel = function(element, options) {\n        this.element = $(element);\n\n        this.options = $.extend({\n            side: 'left',\n            closed: false\n        }, options);\n\n        this.opened = true;\n\n        if (this.options.side === 'right' || this.element.hasClass('panel-right')) {\n            this.side = 'right';\n        } else {\n            this.side = 'left';\n        }\n\n        this.element.addClass('panel-' + this.side);\n\n        // Hide without animation\n        if (this.options.closed === true || this.element.hasClass('closed')) {\n            this.opened = false;\n            this.element.addClass('closed').hide();\n        }\n\n        var _this = this;\n\n        this.element.on('click', '.panel-toggle', function() {\n            _this.toggle();\n        });\n\n        return this;\n    };\n\n\n    Panel.prototype = {\n        constructor: Panel,\n\n        open: function(options) {\n            if (this.opened) return;\n\n            options = options || {};\n\n            this.opened = true;\n\n            var css = {},\n                attrs = {};\n\n            // Ensure the position is off screen to start. This\n            // is to handle the case when the element was hidden\n            css[this.side] = -getSlideWidth(this.element, options);\n            attrs[this.side] = 0;\n\n            this.element.css(css).show().stop();\n\n            if (options.animate !== false) {\n                this.element.animate(attrs, 300);\n            } else {\n                this.element.css(attrs);\n            }\n\n            this.element.removeClass('closed');\n        },\n\n        close: function(options) {\n            if (!this.opened) return;\n\n            options = options || {};\n\n            this.opened = false;\n\n            var attrs = {},\n                slideWidth = getSlideWidth(this.element, options);\n\n            attrs[this.side] = -slideWidth;\n\n            this.element.stop();\n\n            if (options.animate !== false) {\n                this.element.animate(attrs, 300);\n            } else {\n                this.element.css(attrs);\n            }\n\n            this.element.addClass('closed');\n        },\n\n        toggle: function() {\n            if (this.opened) {\n                this.close();\n            } else {\n                this.open();\n            }\n        },\n\n        isOpen: function() {\n            return this.opened;\n        },\n\n        isClosed: function() {\n            return !this.opened;\n        }\n    };\n\n\n    $.fn.panel = function(option, options) {\n        if (typeof option === 'object') options = option;\n\n        this.each(function() {\n            var element = $(this),\n                data = element.data('panel');\n\n            // Initialize data\n            if (!data) {\n                data = new Panel(this, options);\n                element.data('panel', data);\n            }\n\n            // Method call\n            if (typeof option === 'string') {\n                data[option](options);\n            }\n        });\n    };\n\n\n    $.fn.panel.Constructor = Panel;\n\n\n    $(function() {\n        // Bootstrap pre-rendered DOM elements\n        $('.panel').panel();\n\n        $('[data-toggle*=panel]').each(function() {\n            var toggle = $(this);\n\n            toggle.on('click', function() {\n                var panel;\n\n                // If this data-toggle specifies a target, use that, otherwise assume\n                // it is a .panel-toggle within the panel itself.\n                if (toggle.data('target')) {\n                    panel = $(toggle.data('target'));\n                } else {\n                    panel = toggle.parent();\n                }\n\n                panel.panel('toggle');\n            });\n        });\n    });\n\n});\n\n","/* global define */\n\n/*\njQuery plugin for triggering a scroll event once a certain threshold is\nreached. A use case of this is the \"infinite\" scrolling element in which\ndata is being populated in the element on-demand.\n\nOptions:\n  `container` - The container element that this element is scrolling\n  relative to. Default is window\n\n  `threshold` - Percent scrolled from the top of the element which triggers\n    the event. Once this thresholder has been reached the `reset` method\n    must be called to reset this state.\n\n  `autofill` - For cases where each trigger event appends to this element\n  (e.g. infinite scroll), this option will trigger the `scroller` event\n  until this element's is greater than the container height.\n\n  `resize` - Adds an event handler to trigger a reset when the window is\n  resized.\n\n  `trigger` - A single handler to fire when the `scroller` event fires.\n  This can be bound directly to the element as a normal, but having it\n  as an option keeps the code tidier.\n\nMethods are invoked by passing the method name as a string in the\nconstructor method, e.g. `$(...).scroller('reset')`.\n\nMethods:\n  `reset` - Resets the pre-calculated aboslute dimensions and thresholds.\n    Use this when the element size changes.\n*/\n\ndefine('plugins/jquery-scroller',['jquery', 'underscore'], function($, _) {\n\n    var defaultOptions = {\n        container: window,\n        threshold: 0.75,\n        autofill: false,\n        resize: true,\n        trigger: null\n    };\n\n\n    var Scroller = function(element, options) {\n        this.element = $(element);\n        this.options = $.extend({}, defaultOptions, options);\n        this.container = $(options.container);\n\n        var _this = this;\n\n        // Reset the dimensions on a window resize\n        if (this.options.resize) {\n            $(window).on('resize', _.debounce(function() {\n                _this.reset();\n            }, 100));\n        }\n\n        this.container.on('scroll', _.debounce(function() {\n            var scrollTop = _this.container.scrollTop();\n\n            var threshold = (this.element.height() - this.container.height()) *\n                             this.options.threshold;\n\n            if (!this.reached && scrollTop >= threshold) {\n                this.reached = true;\n                this.element.trigger('scroller');\n            }\n        }, 100));\n\n        // Add trigger handler\n        if (this.options.trigger) {\n            this.element.on('scroller', this.options.trigger);\n        }\n\n        return this;\n    };\n\n\n    Scroller.prototype = {\n        constructor: Scroller,\n\n        reset: function() {\n            // Reset the flag which denotes when the threshold has been reached\n            this.reached = false;\n\n            // If autofill is enabled and the element is too *short* trigger the event\n            var remaining = this.element.height() - this.container.height();\n\n            if (this.options.autofill && remaining < 0) {\n                this.element.trigger('scroller');\n            }\n\n            return this;\n        }\n    };\n\n\n    $.fn.scroller = function(option, options) {\n        if (typeof option === 'object') {\n            options = option;\n        }\n\n        this.each(function() {\n            var element = $(this),\n                data = element.data('scroller');\n\n            // Initialize data\n            if (!data) {\n                data = new Scroller(this, options);\n                element.data('scroller', data);\n            }\n\n            // Method call\n            if (typeof option === 'string') {\n                data[option](options);\n            }\n        });\n    };\n\n\n    $.fn.scroller.Constructor = Scroller;\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/core',[\n    '../core',\n    './templates',\n    './controls',\n    './dom',\n\n    // Load mutating plugins\n    'bootstrap',\n    'plugins/bootstrap-datepicker',\n    'plugins/jquery-ui',\n    'plugins/jquery-easing',\n    'plugins/jquery-panels',\n    'plugins/jquery-scroller'\n], function(c, templates, controls, dom) {\n\n    // Attach public APIs\n    c.templates = templates;\n    c.controls = controls;\n    c.dom = dom;\n\n    // Return the cilantro object so ui/* modules can load this directly\n    return c;\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/accordion',[\n    'underscore',\n    'marionette',\n    './base'\n], function(_, Marionette, base) {\n\n    var Item = Marionette.ItemView.extend({\n        tagName: 'li',\n\n        template: 'accordion/item'\n    });\n\n\n    var Section = Marionette.CompositeView.extend({\n        className: 'section',\n\n        itemView: Item,\n\n        template: 'accordion/section',\n\n        itemViewContainer: '.items',\n\n        ui: {\n            heading: '.heading'\n        },\n\n        // Returns true if this group is *empty*\n        isEmpty: function() {\n            return this.collection.length === 0;\n        },\n\n        // Hide section if collection is empty. In practice if the\n        // groups and sections are derived from the items, this should\n        // never occur.\n        onCompositeCollectionRendered: function() {\n            this.$el.toggle(!this.isEmpty());\n        }\n    });\n\n\n    var Group = Marionette.CompositeView.extend({\n        className: 'group',\n\n        template: 'accordion/group',\n\n        itemView: Section,\n\n        itemViewContainer: '.sections',\n\n        itemSectionItems: 'items',\n\n        options: {\n            collapsable: true,\n            // Denotes the initial state of the group\n            collapsed: true\n        },\n\n        ui: {\n            heading: '.heading',\n            icon: '.heading [data-toggle]',\n            inner: '.inner'\n        },\n\n        events: {\n            'click > .heading': 'toggleCollapse'\n        },\n\n        itemViewOptions: function(model, index) {\n            return {\n                model: model,\n                index: index,\n                collection: model[this.itemSectionItems]\n            };\n        },\n\n        initialize: function() {\n            this.collapsed = this.options.collapsed;\n        },\n\n        onRender: function() {\n            // Remove the icon that denotes the group is collapsable\n            if (!this.options.collapsable) {\n                this.renderExpanded();\n                // Ensure the group is expanded if it cannot be toggled\n                this.ui.icon.hide();\n            }\n            // Expand the collapsed group\n            else if (this.collapsed) {\n                this.renderCollapsed();\n            }\n        },\n\n        // Returns true if this group is *empty* which includes having no\n        // sections or having sections without any items.\n        isEmpty: function() {\n            if (this.collection.length > 0) return false;\n\n            for (var i = 0; i < this.collection.length; i++) {\n                if (this.collection.models[i].items.length > 0) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        onCompositeCollectionRendered: function() {\n            this.$el.toggle(!this.isEmpty());\n\n            // Hide the first heading\n            if (this.collection.length > 0) {\n                // Get the first model and view for toggle conditions\n                var model = this.collection.at(0),\n                    view = this.children.findByModel(model);\n\n                // If only a single child is present, hide the heading unless it\n                // is using an explicit heading\n                view.ui.heading.toggle(this.collection.length > 1 || model.id > -1);\n            }\n        },\n\n        collapse: function(options) {\n            if (this.options.collapsable) {\n                this.collapsed = true;\n                this.renderCollapsed(options);\n            }\n        },\n\n        expand: function(options) {\n            if (this.options.collapsable) {\n                this.collapsed = false;\n                this.renderExpanded(options);\n            }\n        },\n\n        toggleCollapse: function(event) {\n            event.preventDefault();\n\n            if (this.options.collapsable) {\n                if (this.collapsed) {\n                    this.expand({animate: true});\n                } else {\n                    this.collapse({animate: true});\n                }\n            }\n        },\n\n        // Renders the current state based on the collapsed flag\n        renderState: function(options) {\n            if (this.collapsed && this.options.collapsable) {\n                this.renderCollapsed(options);\n            } else {\n                this.renderExpanded(options);\n            }\n        },\n\n        renderExpanded: function(options) {\n            options = options || {};\n\n            this.$el.removeClass('collapsed');\n\n            if (options.animate) {\n                this.ui.inner.collapse('show');\n            } else {\n                this.ui.inner.addClass('in');\n            }\n        },\n\n        renderCollapsed: function(options) {\n            options = options || {};\n\n            this.$el.addClass('collapsed');\n\n            if (options.animate) {\n                this.ui.inner.collapse('hide');\n            } else {\n                this.ui.inner.removeClass('in');\n            }\n        }\n    });\n\n\n    var Accordion = Marionette.CollectionView.extend({\n        className: 'accordion',\n\n        itemView: Group,\n\n        emptyView: base.EmptyView,\n\n        itemGroupSections: 'sections',\n\n        options: {\n            // Denotes whether this group can be collapsed/expanded\n            collapsable: true\n        },\n\n        itemViewOptions: function(model, index) {\n            return {\n                model: model,\n                index: index,\n                collection: model[this.itemGroupSections],\n                collapsable: this.options.collapsable\n            };\n        }\n    });\n\n\n    return {\n        Accordion: Accordion,\n        AccordionGroup: Group,\n        AccordionSection: Section,\n        AccordionItem: Item\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/charts/options',[], function() {\n    var defaults = {\n        chart: {\n            style: {\n                fontFamily: '\"Helvetica Neue\", Helvetica, Arial, sans-serif'\n            }\n        },\n\n        title: {\n            text: '',\n            align: 'right'\n        },\n\n        subtitle: {\n            align: 'right'\n        },\n\n        exporting: {\n            enabled: false\n        },\n\n        credits: {\n            enabled: false\n        },\n\n        tooltip: {\n            formatter: function () {\n                if (this.point.values) {\n                    var html = [];\n                    html.push('<strong>' + this.series.xAxis.axisTitle.text +\n                              '</strong>:');\n                    html.push(this.point.values[0] + '<br>');\n                    html.push('<strong>' + this.series.yAxis.axisTitle.text +\n                              '</strong>:');\n                    html.push(this.y);\n                    return html.join('');\n                }\n\n                return this.key;\n            },\n\n            snap: 1,\n\n            useHTML: true,\n\n            borderWidth: 1,\n\n            borderRadius: 3\n        },\n\n        plotOptions: {\n            series: {\n                cursor: 'pointer',\n\n                shadow: false,\n\n                borderWidth: 0,\n\n                borderColor: '#4b8cf7',\n\n                turboThreshold: 0,\n\n                animation: {\n                    duration: 400\n                },\n\n                color: '#777',\n\n                states: {\n                    select: {\n                        color: '#0088cc'\n                    },\n\n                    hover: {\n                        enabled: false\n                    }\n                }\n            },\n\n            area: {\n                lineWidth: 1,\n\n                shadow: false,\n\n                stacking: 'normal',\n\n                states: {\n                    hover: {\n                        lineWidth: 1\n                    }\n                },\n\n                marker: {\n                    enabled: false,\n\n                    states: {\n                        hover: {\n                            enabled: true,\n\n                            radius: 5\n                        }\n                    }\n                },\n\n                fillOpacity: 0.1\n            },\n\n            areaspline: {\n                lineWidth: 1,\n\n                shadow: false,\n\n                states: {\n                    hover: {\n                        lineWidth: 1\n                    }\n                },\n\n                marker: {\n                    enabled: false,\n\n                    states: {\n                        hover: {\n                            enabled: true\n                        }\n                    }\n                },\n\n                fillOpacity: 0.1\n            },\n            bar: {\n                borderWidth: 0,\n\n                minPointLength: 2\n            },\n\n            column: {\n                borderWidth: 0,\n\n                minPointLength: 2\n            },\n\n            pie: {\n                allowPointSelect: true,\n\n                cursor: 'pointer',\n\n                showInLegend: true\n            },\n\n            scatter: {\n                marker: {\n                    radius: 5,\n\n                    states: {\n                        hover: {\n                            enabled: false\n                        }\n                    }\n                },\n\n                states: {\n                    hover: {\n                        marker: {\n                            enabled: false\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    var sparkline = {\n        chart: {\n            defaultSeriesType: 'areaspline',\n\n            margin: [0, 0, 0, 0],\n\n            height: 40\n        },\n\n        title: {\n            text: '',\n\n            align: 'left',\n\n            y: 0,\n\n            x: 0,\n\n            style: {\n                fontSize: '8px',\n\n                color: '#333333'\n            },\n        },\n\n        credits: {\n            enabled: false\n        },\n\n        legend: {\n            enabled: false\n        },\n\n        tooltip: {\n            enabled: false\n        },\n\n        xAxis: {\n            startOnTick: true,\n\n            labels: {\n                enabled: false\n            }\n        },\n\n        yAxis: {\n            endOnTick: true,\n\n            labels: {\n                enabled: false\n            }\n        },\n\n        plotOptions: {\n            series: {\n                lineWidth: 1,\n\n                shadow: false,\n\n                states: {\n                    hover: {\n                        enabled: false\n                    }\n                },\n\n                marker: {\n                    enabled: false\n                }\n            },\n\n            areaspline: {\n                fillOpacity: 0.1\n            },\n\n            area: {\n                fillOpacity: 0.1\n            }\n        }\n    };\n\n    return {\n        defaults: defaults,\n        sparkline: sparkline\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/charts/core',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'highcharts',\n    '../base',\n    '../controls',\n    './options'\n], function($, _, Backbone, Highcharts, base, controls, chartOptions) {\n\n    // Highcharts options are very nested.. this makes the common ones more\n    // accessible. Use the 'setOption' method to parse the options.\n    var OPTIONS_MAP = {\n        el: 'chart.renderTo',\n        type: 'chart.type',\n        height: 'chart.height',\n        width: 'chart.width',\n        labelFormatter: 'plotOptions.series.dataLabels.formatter',\n        tooltipFormatter: 'tooltip.formatter',\n        animate: 'plotOptions.series.animation',\n        categories: 'xAxis.categories',\n        title: 'title.text',\n        subtitle: 'subtitle.text',\n        xAxis: 'xAxis.title.text',\n        yAxis: 'yAxis.title.text',\n        stacking: 'plotOptions.series.stacking',\n        legend: 'legend.enabled',\n        suffix: 'tooltip.valueSuffix',\n        prefix: 'tooltip.valuePrefix',\n        series: 'series'\n    };\n\n    var Chart = controls.Control.extend({\n        template: function() {},\n\n        emptyView: base.EmptyView,\n\n        loadView: base.LoadView,\n\n        chartOptions: chartOptions.defaults,\n\n        constructor: function(options) {\n            _.bindAll(this, 'onChartLoaded');\n\n            var chartOptions = _.extend({}, options.chart);\n            if (chartOptions !== null) {\n                var value;\n\n                // Map convenience options to the real ones.\n                for (var key in chartOptions) {\n                    value = chartOptions[key];\n\n                    if (OPTIONS_MAP[key]) {\n                        this.setOption(OPTIONS_MAP[key], value);\n                        delete chartOptions[key];\n                    }\n                }\n\n                this.chartOptions = $.extend(true, {}, this.chartOptions, chartOptions);\n            }\n\n            if (typeof this.chartOptions.el === 'undefined' ||\n                    typeof this.chartOptions.el === null) {\n                this.chartOptions.el = this.el;\n            }\n\n            controls.Control.prototype.constructor.call(this, options);\n        },\n\n        // Convenience method for setting an option since the option hierarchy\n        // is so large. The 'key' may use the dot-notion for accessing nested\n        // structures.\n        setOption: function(key, value) {\n            var options = this.chartOptions,\n                toks = key.split('.'),\n                last = toks.pop();\n\n            var tok;\n            for (var i = 0; i < toks.length; i++) {\n                tok = toks[i];\n\n                if (options[tok] === null) {\n                    options[tok] = {};\n                }\n\n                options = options[tok];\n            }\n\n            options[last] = value;\n        },\n\n        getChartOptions: function() {\n            return this.chartOptions;\n        },\n\n        showEmptyView: function() {\n            var view = new this.emptyView({\n                message: 'No data is available for charting'\n            });\n\n            this.$el.html(view.render().el);\n        },\n\n        onChartLoaded: function() {\n            this.$el.find('.load-view').remove();\n        },\n\n        renderChart: function(options) {\n            this.initialize();\n\n            var view = new this.loadView({\n                message: 'Loading chart'\n            });\n\n            this.$el.append(view.render().el);\n\n            options.chart.events = {\n                load: this.onChartLoaded\n            };\n\n            if (this.chart) {\n                if (typeof this.chart.destroy === 'function') {\n                    this.chart.destroy();\n                }\n            }\n\n            this.chart = new Highcharts.Chart(options);\n        }\n\n    });\n\n    // Set a default option for the class.\n    Chart.setDefaultOption = function(key, value) {\n        var last, options, prev, prevTok, tok, toks;\n\n        options = this.prototype.chartOptions = _.clone(this.prototype.chartOptions);\n\n        toks = key.split('.');\n        last = toks.pop();\n        prev = null;\n        prevTok = null;\n\n        for (var i = 0; i < toks.length; i++) {\n            tok = toks[i];\n            prev = options;\n\n            if (prev[tok] !== null && typeof prev[tok] !== 'undefined') {\n                options = _.clone(prev[tok]);\n            }\n            else {\n                options = {};\n            }\n\n            prev[tok] = options;\n        }\n\n        options[last] = value;\n    };\n\n\n    var AreaChart = Chart.extend({});\n    AreaChart.setDefaultOption('chart.type', 'area');\n\n    var AreaSplineChart = Chart.extend({});\n    AreaSplineChart.setDefaultOption('chart.type', 'areaspline');\n\n    var BarChart = Chart.extend({});\n    BarChart.setDefaultOption('chart.type', 'bar');\n\n    var ColumnChart = Chart.extend({});\n    ColumnChart.setDefaultOption('chart.type', 'column');\n\n    var LineChart = Chart.extend({});\n    LineChart.setDefaultOption('chart.type', 'line');\n\n    var PieChart = Chart.extend({});\n    PieChart.setDefaultOption('chart.type', 'pie');\n    PieChart.setDefaultOption('legend.enabled', true);\n\n    var ScatterChart = Chart.extend({});\n    ScatterChart.setDefaultOption('chart.type', 'scatter');\n\n    var SplineChart = Chart.extend({});\n    SplineChart.setDefaultOption('chart.type', 'spline');\n\n    var Sparkline = Chart.extend({\n        chartOptions: chartOptions.sparkline\n    });\n\n    var charts = {\n        Chart: Chart,\n        AreaChart: AreaChart,\n        AreaSplineChart: AreaSplineChart,\n        BarChart: BarChart,\n        ColumnChart: ColumnChart,\n        LineChart: LineChart,\n        PieChart: PieChart,\n        ScatterChart: ScatterChart,\n        SplineChart: SplineChart,\n        Sparkline: Sparkline\n    };\n\n    _.extend(Backbone, charts);\n\n    return charts;\n});\n\n","/* global define */\n\ndefine('cilantro/ui/charts/utils',[\n    'underscore',\n    'highcharts'\n], function(_, Highcharts) {\n\n    var getColor = function(idx) {\n        var colors = Highcharts.getOptions().colors;\n        return colors[idx % colors.length];\n    };\n\n    var parseDate = function(str) {\n        var year = parseInt(str.substr(0, 4));\n        var month = parseInt(str.substr(5, 2)) -1;\n        var day = parseInt(str.substr(8, 2));\n\n        return Date.UTC(year, month, day);\n    };\n\n    var processResponse = function(resp, fields, seriesIdx) {\n        if (fields.length > 2) {\n            throw new Error('3-dimensional charts are not supported.' +\n                            'Specify which field the series applies to.');\n        }\n        else if (!fields) {\n            throw new Error('The field instances must be supplied');\n        }\n\n        var xLabels = [],\n            yLabels = [];\n\n        // Check whether the y-axis consists of enumerable data, otherwise\n        // fallback to true for standard counts.\n        var xField = fields[0],\n            yField = fields[1];\n\n        var xName, xEnum, xType, yName, yEnum, yType, chartType;\n\n        xName = xField.get('name');\n        xEnum = xField.get('enumerable') ||\n            xField.get('simple_type') === 'boolean';\n\n        if (xField.get('simple_type') === 'date' ||\n                xField.get('simple_type') === 'datetime') {\n            xType = 'datetime';\n        }\n        else {\n            xType = 'linear';\n        }\n\n        if (yField) {\n            yName = yField.get('name');\n            yEnum = yField.get('enumerable') ||\n                yField.get('simple_type') === 'boolean';\n\n\n            if (yField.get('simple_type') === 'date' ||\n                    yField.get('simple_type') === 'datetime') {\n                yType = 'datetime';\n            }\n            else {\n                yType = 'linear';\n            }\n        }\n        else {\n            yName = 'Frequency';\n            yEnum = false;\n            yType = 'linear';\n        }\n\n        if (xEnum && yEnum) {\n            chartType = 'scatter';\n            xLabels.push(' ');\n            yLabels.push(' ');\n        }\n        else if (yField && !xEnum && !yEnum) {\n            chartType = 'scatter';\n        }\n        else if (yEnum) {\n            chartType = 'scatter';\n        }\n        else {\n            chartType = 'column';\n        }\n\n        var seriesData = {},\n            clustered = resp.clustered,\n            respData = resp.data,\n            point,\n            svalue,\n            series;\n\n        // Perform the group by first prior to building each series.\n        for (var i = 0; i < respData.length; i++) {\n            point = respData[i];\n\n            if (seriesIdx) {\n                svalue = point.values.slice(seriesIdx, seriesIdx + 1)[0];\n            }\n            else {\n                svalue = '';\n            }\n\n            if (!(series = seriesData[svalue])) {\n                series = seriesData[svalue] = {\n                    name: svalue,\n                    stats: {\n                        min: point.count,\n                        max: point.count,\n                        sum: point.count\n                    }\n                };\n\n                if (xEnum && yEnum) {\n                    series.data = [{x: 0, y: 0, radius: 0, sentinel: true}, point];\n                }\n                else {\n                    series.data = [point];\n                }\n            }\n            else {\n                // Add it to the corresponding seriesData.\n                series.data.push(point);\n                series.stats.min = Math.min(series.stats.min, point.count);\n                series.stats.max = Math.max(series.stats.max, point.count);\n                series.stats.sum += point.count;\n            }\n\n            var x = point.values[0];\n            if (x === null) {\n                x = '(no data)';\n            }\n\n            if (xEnum) {\n                if (xLabels.indexOf(x.toString()) === -1) {\n                    x = xLabels.push(x.toString()) - 1;\n                }\n            }\n            else if (xType === 'datetime'){\n                x = parseDate(x);\n            }\n\n            var y;\n            if (yField) {\n                y = point.values[1];\n\n                if (y === null) {\n                    y = '(no data)';\n                }\n\n                if (yEnum) {\n                    if (yLabels.indexOf(y.toString()) === -1) { // jshint ignore:line\n                        y = yLabels.push(y.toString()) - 1;\n                    }\n                }\n                else if (yType === 'datetime') {\n                        y = parseDate(y);\n                }\n            }\n            else {\n                y = point.count;\n            }\n\n            point.x = x;\n            point.y = y;\n        }\n\n        var seriesList = [];\n\n        var xlen, ylen;\n\n        if (xEnum && yEnum) {\n            xlen = xLabels.push(' ') - 1;\n            ylen = yLabels.push(' ') - 1;\n        }\n\n        var seriesNo = 0;\n        for (var name in seriesData) {\n            series = seriesData[name];\n\n            if (xEnum && yEnum) {\n                series.data.push({\n                    x: 0,\n                    y: ylen,\n                    radius: 0,\n                    sentinel: true\n                });\n\n                series.data.push({\n                    x: xlen,\n                    y: ylen,\n                    radius: 0,\n                    sentinel: true\n                });\n\n                series.data.push({\n                    x: xlen,\n                    y: ylen,\n                    radius: 0,\n                    sentinel: true\n                });\n            }\n\n            seriesList.push(series);\n\n            var avg = series.stats.avg = series.stats.sum /\n                parseFloat(series.data.length, 10);\n\n            if (chartType === 'scatter') {\n                for (var i = 0; i < series.data.length; i++) { // jshint ignore:line\n                    var p = series.data[i];\n\n                    if (p.sentinel) { // jshint ignore:line\n                        continue;\n                    }\n\n                    var norm = Math.min(Math.max(parseInt(\n                                    parseFloat(p.count, 10) / avg * 5) / 10, 0.05), 1);\n                    var color = Highcharts.Color(getColor(seriesNo)).setOpacity(norm);\n\n                    p.marker = {\n                        fillColor: color.get()\n                    };\n\n                    if (xEnum) { // jshint ignore:line\n                        p.marker.radius = 7;\n                    }\n                }\n            }\n\n            seriesNo++;\n        }\n\n        // TODO: This is really ugly, clean up the code that creates and\n        // returns the formatter.\n        var formatterFunc;\n        if (chartType === 'scatter' && xEnum) {\n            // Multiple series\n            if (seriesList[1]) {\n                formatterFunc = function () {\n                    return '<h5>' + this.series.name + '</h5><br /><b>' + xName +\n                           ':</b>' + this.series.xAxis.categories[this.point.x] +\n                           '<br /><b>' + yName + ':</b>' +\n                           this.series.yAxis.categories[this.point.y];\n                };\n            }\n            else {\n                formatterFunc = function() {\n                    return '<b>' + xName + ':</b>' +\n                           this.series.xAxis.categories[this.point.x] + '<br /><b>' +\n                           yName + ':</b>' + this.series.yAxis.categories[this.point.y];\n                };\n            }\n        }\n        else if (chartType === 'column' && xEnum) {\n            // Multiple series\n            if (seriesList[1]) {\n               formatterFunc = function() {\n                    return '<h5>' + this.series.name + '</h5><br /><b>' + xName +\n                           ':</b>' + this.series.xAxis.categories[this.point.x] +\n                           '<br /><b>' + yName + ':</b>' +\n                           Highcharts.numberFormat(parseFloat(this.y));\n                };\n            }\n            else {\n                formatterFunc = function() {\n                    return '<b>' + xName + ':</b>' +\n                           this.series.xAxis.categories[this.point.x] + '<br /><b>' +\n                           yName + ':</b>' + Highcharts.numberFormat(parseFloat(this.y));\n                };\n            }\n        }\n        else {\n            // Multiple series\n            if (seriesList[1]) {\n                formatterFunc = function() {\n                    return '<h5>' + this.series.name + '</h5><br /><b>' + xName +\n                           ':</b>' + Highcharts.numberFormat(parseFloat(this.x)) +\n                           '<br /><b>' + yName + ':</b>' +\n                           Highcharts.numberFormat(parseFloat(this.y));\n                };\n            }\n            else {\n                formatterFunc = function() {\n                    return '<b>' + xName + ':</b>' +\n                           Highcharts.numberFormat(parseFloat(this.x)) + '<br /><b>' +\n                           yName + ':</b>' + Highcharts.numberFormat(parseFloat(this.y));\n                };\n            }\n        }\n\n        var options = {\n            clustered: clustered,\n            chart: {\n                type: chartType\n            },\n            title: {\n                text: yField ? '' + xName + ' vs. ' + yName : '' + xName + ' ' + yName\n            },\n            series: seriesList,\n            xAxis: {\n                title: {\n                  text: xName\n                },\n                type: xType\n            },\n            yAxis: {\n                title: {\n                  text: yName\n                },\n                type: yType\n            },\n            tooltip: {\n                formatter: formatterFunc\n            }\n        };\n\n        if (xLabels.length) {\n            options.xAxis.categories = xLabels;\n        }\n\n        if (yLabels.length) {\n            options.yAxis.categories = yLabels;\n        }\n\n        if (!seriesList[1]) {\n            options.legend = {enabled: false};\n        }\n\n        if (chartType === 'scatter') {\n            options.yAxis.gridLineWidth = 0;\n\n            if (!xEnum) {\n                options.chart.zoomType = 'xy';\n            }\n        }\n\n        return options;\n    };\n\n    // Simple parser to format data for use by Highcharts.\n    var getSeries = function(data) {\n        var points = [],\n            point,\n            datum;\n\n        for (var i = 0; i < data.length; i++) {\n            datum = data[i];\n\n            point = _.clone(datum);\n            point.x = datum.values[0];\n\n            if (datum.values[1] !== null) {\n                point.y = datum.values[1];\n            }\n            else {\n                point.y = datum.count;\n            }\n\n            points.push(point);\n        }\n\n        return {data: _.sortBy(points, 'x')};\n    };\n\n\n    return {\n        processResponse: processResponse,\n        getSeries: getSeries\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/charts/dist',[\n    'jquery',\n    'underscore',\n    '../base',\n    './core',\n    './utils'\n], function($, _, base, charts, utils) {\n\n    var ChartLoading = base.LoadView.extend({\n        message: 'Chart loading...'\n    });\n\n    var FieldChart = charts.Chart.extend({\n        template: 'charts/chart',\n\n        loadView: ChartLoading,\n\n        ui: {\n            chart: '.chart',\n            heading: '.heading',\n            status: '.heading .status'\n        },\n\n        initialize: function() {\n            _.bindAll(this, 'chartClick', 'setValue');\n        },\n\n        showLoadView: function () {\n            var view = new this.loadView();\n            view.render();\n            this.ui.chart.html(view.el);\n        },\n\n        chartClick: function(event) {\n            event.point.select(!event.point.selected, true);\n            this.change();\n        },\n\n        interactive: function(options) {\n            var type;\n\n            if (options.chart) {\n                type = options.chart.type;\n            }\n\n            if (type === 'pie' || (type === 'column' && options.xAxis.categories)) {\n                return true;\n            }\n\n            return false;\n        },\n\n        getChartOptions: function(resp) {\n            var options = utils.processResponse(resp, [this.model]);\n\n            if (options.clustered) {\n                this.ui.status.text('Clustered').show();\n            }\n            else {\n                this.ui.status.hide();\n            }\n\n            if (this.interactive(options)) {\n                this.setOptions('plotOptions.series.events.click', this.chartClick);\n            }\n\n            $.extend(true, options, this.chartOptions);\n            options.chart.renderTo = this.ui.chart[0];\n\n            return options;\n        },\n\n        getField: function() {\n            return this.model.id;\n        },\n\n        getValue: function() {\n            return _.pluck(this.chart.getSelectedPoints(), 'category');\n        },\n\n        getOperator: function() {\n            return 'in';\n        },\n\n        removeChart: function() {\n            charts.Chart.prototype.removeChart.apply(this, arguments);\n\n            if (this.node) {\n                this.node.destroy();\n            }\n        },\n\n        onRender: function() {\n            // Explicitly set the width of the chart so Highcharts knows\n            // how to fill out the space. Otherwise if this element is\n            // not in the DOM by the time the distribution request is finished,\n            // the chart will default to an arbitary size.\n            if (this.options.parentView) {\n                this.ui.chart.width(this.options.parentView.$el.width());\n            }\n\n            this.showLoadView();\n\n            var _this = this;\n            this.model.distribution(\n                function(resp) {\n                    if (_this.isClosed) return;\n\n                    resp.data = _.sortBy(resp.data, function(element) {\n                        return element.values[0];\n                    });\n\n                    var options = _this.getChartOptions(resp);\n\n                    if (resp.size) {\n                        _this.renderChart(options);\n                    }\n                    else {\n                        _this.showEmptyView(options);\n                    }\n              });\n        },\n\n        setValue: function(value) {\n            if (!_.isArray(value)) value = [];\n\n            if (this.chart !== null) {\n                var points = this.chart.series[0].points,\n                    point,\n                    select;\n\n                for (var i = 0; i < points.length; i++) {\n                    point = points[i];\n                    select = false;\n\n                    if (point.name !== null || value.indexOf(point.category) !== -1) {\n                        select = true;\n                    }\n\n                    point.select(select, true);\n                }\n            }\n        }\n    });\n\n\n    return {\n        FieldChart: FieldChart\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/charts/axis',[\n    'underscore',\n    'marionette'\n], function(_, Marionette) {\n\n    // Represents a list of possible fields for use with a distrubution chart.\n    var FieldAxis = Marionette.ItemView.extend({\n        tagName: 'select',\n\n        options: {\n            enumerableOnly: false\n        },\n\n        initialize: function() {\n            _.bindAll(this, 'render');\n\n            this.collection.when(this.render);\n        },\n\n        render: function() {\n            this.$el.append('<option value=>---</option>');\n\n            var model;\n            for (var i = 0; i < this.collection.models.length; i++) {\n                model = this.collection.models[i];\n\n                // No good way to represent large string-based data yet.\n                if (model.get('searchable')) continue;\n\n                if (this.options.enumerableOnly && !model.get('enumerable')) continue;\n\n                this.$el.append('<option value=\"' + model.id + '\">' +\n                                model.get('name') + '</option>');\n            }\n\n            return this.$el;\n        },\n\n        getSelected: function() {\n            return this.collection.get(parseInt(this.$el.val()));\n        }\n    });\n\n    return {\n        FieldAxis: FieldAxis\n    };\n});\n\n","/* global define */\n\ndefine('cilantro/ui/charts/editable',[\n    'jquery',\n    'underscore',\n    './dist',\n    './axis'\n], function($, _, dist, axis) {\n\n    var EditableFieldChart = dist.FieldChart.extend({\n        template: 'charts/editable-chart',\n\n        toolbarAnimationTime: 200,\n\n        formAnimationTime: 300,\n\n        events: _.extend({\n            'click .fullsize': 'toggleExpanded'\n        }, dist.FieldChart.prototype.events),\n\n        ui: _.extend({\n            toolbar: '.btn-toolbar',\n            fullsizeToggle: '.fullsize',\n            form: '.editable',\n            xAxis: '[name=x-Axis]',\n            yAxis: '[name=y-Axis]',\n            series: '[name=series]'\n        }, dist.FieldChart.prototype.ui),\n\n        onRender: function() {\n            if (this.options.editable === false) {\n                this.ui.form.detach();\n                this.ui.toolbar.detach();\n            }\n            else {\n                this.xAxis = new axis.FieldAxis({\n                    el: this.ui.xAxis,\n                    collection: this.collection\n                });\n\n                this.yAxis = new axis.FieldAxis({\n                    el: this.ui.yAxis,\n                    collection: this.collection\n                });\n\n                this.series = new axis.FieldAxis({\n                    el: this.ui.series,\n                    enumerableOnly: true,\n                    collection: this.collection\n                });\n\n                if (this.model) {\n                    if (this.model.get('xAxis')) {\n                        this.ui.form.hide();\n                    }\n\n                    if (this.model.get('expanded')) {\n                        this.expand();\n                    }\n                    else {\n                        this.contract();\n                    }\n                }\n            }\n        },\n\n        customizeOptions: function(options) {\n            this.ui.status.detach();\n\n            this.ui.heading.text(options.title.text);\n            options.title.text = '';\n\n            // Check if any data is present.\n            if (!options.series[0]) {\n                this.ui.chart.html('<p class=no-data>Unfortunately, there is no ' +\n                                   'data to graph here.</p>');\n                return;\n            }\n\n            this.ui.form.hide();\n\n            var statusText = [];\n            if (options.clustered) {\n                statusText.push('Clustered');\n            }\n\n            if (statusText[0]) {\n                this.ui.status.text(statusText.join(', ')).show();\n                this.ui.heading.append(this.$status);\n            }\n\n            if (this.interactive(options)) {\n                this.enableChartEvents();\n            }\n\n            $.extend(true, options, this.chartOptions);\n            options.chart.renderTo = this.ui.chart[0];\n\n            return options;\n        },\n\n        // Ensure rapid successions of this method do not occur.\n        changeChart: function(event) {\n            if (event) {\n                event.preventDefault();\n            }\n\n            var _this = this;\n            this.collection.when(function() {\n                var xAxis, yAxis, series, seriesIdx;\n\n                // TODO fix this nonsense\n                if (event === null || typeof event === 'undefined') {\n                    xAxis = _this.model.get('xAxis');\n                    if (xAxis) {\n                        _this.xAxis.$el.val(xAxis.toString());\n                    }\n\n                    yAxis = _this.model.get('yAxis');\n                    if (yAxis) {\n                        _this.yAxis.$el.val(yAxis.toString());\n                    }\n\n                    series = _this.model.get('series');\n                    if (series) {\n                        this.series.$el.val(series.toString());\n                    }\n                }\n\n                xAxis = _this.xAxis.getSelected();\n                yAxis = _this.yAxis.getSelected();\n                series = _this.series.getSelected();\n\n                if (!xAxis) return;\n\n                var url = _this.model.get('_links').distribution.href;\n\n                var fields = [xAxis];\n                var data = 'dimension=' + xAxis.id;\n\n                if (yAxis) {\n                    fields.push(yAxis);\n                    data = data + '&dimension=' + yAxis.id;\n                }\n\n                if (series) {\n                    if (yAxis) {\n                        seriesIdx = 2;\n                    }\n                    else {\n                        seriesIdx = 1;\n                    }\n\n                    data = data + '&dimension=' + series.id;\n                }\n\n                if (event && _this.model) {\n                    _this.model.set({\n                        xAxis: xAxis.id,\n                        yAxis: (yAxis) ? yAxis.id : null,\n                        series: (series) ? series.id : null\n                    });\n                }\n\n                _this.update(url, data, fields, seriesIdx);\n            });\n        },\n\n        // Disable selected fields since using the same field for multiple\n        // axes doesn't make sense.\n        disableSelected: function(event) {\n            var $target = $(event.target);\n\n            // Changed to an empty value, unhide other dropdowns.\n            if (this.xAxis.el === event.target) {\n                this.yAxis.$('option').prop('disabled', false);\n                this.series.$('option').prop('disabled', false);\n            }\n            else if (this.yAxis.el === event.target) {\n                this.xAxis.$('option').prop('disabled', false);\n                this.series.$('option').prop('disabled', false);\n            }\n            else {\n                this.xAxis.$('option').prop('disabled', false);\n                this.yAxis.$('option').prop('disabled', false);\n            }\n\n            var value = $target.val();\n\n            if (value !== '') {\n                if (this.xAxis.el === event.target) {\n                    this.yAxis.$('option[value=' + value + ']')\n                        .prop('disabled', true).val('');\n                    this.series.$('option[value=' + value + ']')\n                        .prop('disabled', true).val('');\n                }\n                else if (this.yAxis.el === event.target) {\n                    this.xAxis.$('option[value=' + value + ']')\n                        .prop('disable', true).val('');\n                    this.series.$('option[value=' + value + ']')\n                        .prop('disable', true).val('');\n                }\n                else {\n                    this.xAxis.$('option[value=' + value + ']')\n                        .prop('disable', true).val('');\n                    this.yAxis.$('option[value=' + value + ']')\n                        .prop('disable', true).val('');\n                }\n            }\n        },\n\n        toggleExpanded: function() {\n            var expanded = this.model.get('expanded');\n\n            if (expanded) {\n                this.contract();\n            }\n            else {\n                this.expand();\n            }\n\n            this.model.save({\n                expanded: !expanded\n            });\n        },\n\n        resize: function() {\n            var chartWidth = this.ui.chart.width();\n\n            if (this.chart) {\n                this.chart.setSize(chartWidth, null, false);\n            }\n        },\n\n        expand: function() {\n            this.$fullsizeToggle.children('i')\n                .removeClass('icon-resize-small')\n                .addClass('icon-resize-full');\n            this.$el.addClass('expanded');\n            this.resize();\n        },\n\n        contract: function() {\n            this.$fullsizeToggle.children('i')\n                .removeClass('icon-resize-full')\n                .addClass('icon-resize-small');\n            this.$el.removeClass('expanded');\n            this.resize();\n        },\n\n        hideToolbar: function() {\n            this.ui.toolbar.fadeOut(this.toolbarAnimationTime);\n        },\n\n        showToolbar: function() {\n            this.ui.toolbar.fadeIn(this.toolbarAnimationTime);\n        },\n\n        toggleEdit: function() {\n            if (this.ui.form.is(':visible')) {\n                this.ui.form.fadeOut(this.formAnimationTime);\n            }\n            else {\n                this.ui.form.fadeIn(this.formAnimationTime);\n            }\n        }\n    });\n\n    return {\n        EditableFieldChart: EditableFieldChart\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/charts',[\n    'underscore',\n    './charts/dist',\n    './charts/axis',\n    './charts/editable'\n], function(_) {\n\n    // Modules to be mixed-in with exports.\n    var mods = Array.prototype.slice.call(arguments, 1);\n\n    // Merge the mods into an empty object that will be exported.\n    return _.extend.apply(_, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/info',[\n    'jquery',\n    'underscore',\n    'marionette',\n    '../core'\n], function($, _, Marionette, c) {\n\n    var ConceptInfo = Marionette.ItemView.extend({\n        className: 'concept-info',\n\n        template: 'concept/info',\n\n        ui: {\n            name: '.name',\n            category: '.category',\n            description: '.description',\n            descriptionText: '.description .text',\n            descriptionToggle: '.description .toggle'\n        },\n\n        events: {\n            'click .category-link': 'onCategoryLinkClick',\n            'click @ui.descriptionToggle': 'toggleDescription'\n        },\n\n        initialize: function() {\n            // For window event handler\n            _.bindAll(this, 'renderDescriptionToggle');\n\n            // Assume fields have not been loaded yet. Re-render after fields\n            // have been loaded.\n            if (this.model.fields.length === 0) {\n                this.listenToOnce(this.model.fields, 'reset', function() {\n                    this.render();\n                });\n            }\n        },\n\n        onCategoryLinkClick: function(event) {\n            var target = $(event.target);\n            c.panels.concept.triggerSearch(target.text());\n        },\n\n        // If the concept does not have it's own description and contains only\n        // one field, use the field's description.\n        serializeData: function() {\n            var data = this.model.toJSON();\n\n            if (this.model.fields.length === 1) {\n                var field = this.model.fields.at(0);\n                if (!data.description) data.description = field.get('description');\n                if (!data.unit) data.unit = field.get('unit');\n            }\n\n            return data;\n        },\n\n        onRender: function() {\n            // Initial render\n            _.defer(this.renderDescriptionToggle);\n\n            // Hide toggle on resize\n            $(window).on('resize', this.renderDescriptionToggle);\n        },\n\n        onClose: function() {\n            $(window).off('resize', this.renderDescriptionToggle);\n        },\n\n        descriptionOverflows: function() {\n            var scrollWidth = this.ui.descriptionText.prop('scrollWidth'),\n                offsetWidth = this.ui.descriptionText.prop('offsetWidth');\n\n            // Contents exceeds a \"single line\"\n            return scrollWidth > offsetWidth;\n        },\n\n        renderDescriptionToggle: function() {\n            // Restore state of class after test\n            var hasClass = this.ui.description.hasClass('ellipsis');\n\n            // Temporarily add class for calculation\n            this.ui.description.addClass('ellipsis');\n\n            if (this.descriptionOverflows()) {\n                this.ui.descriptionToggle.show();\n                this.ui.description.toggleClass('ellipsis', hasClass);\n            }\n            else {\n                this.ui.descriptionToggle.hide();\n                // Add it for the next resize\n                this.ui.description.addClass('ellipsis');\n            }\n        },\n\n        toggleDescription: function() {\n            // Overflow hidden is enforced, toggle normally\n            if (this.ui.description.hasClass('ellipsis')) {\n                if (!this.descriptionOverflows()) return;\n                this.ui.descriptionToggle.text('read less');\n                this.ui.description.removeClass('ellipsis');\n            }\n            else {\n                this.ui.descriptionToggle.text('read more');\n                this.ui.description.addClass('ellipsis');\n            }\n        }\n    });\n\n    return {\n        ConceptInfo: ConceptInfo\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/search',[\n    'underscore',\n    '../search'\n], function(_, search) {\n\n\n    var ConceptSearch = search.Search.extend({\n        className: 'concept-search search',\n\n        options: function() {\n            return _.extend({}, search.Search.prototype.options, {\n                placeholder: 'Search by name, description, or data...'\n            });\n        },\n\n        initialize: function() {\n            // Track last request so the handler only gets the latest\n            this._request = null;\n\n            if (!this.options.handler) {\n                throw new Error('no search handler defined');\n            }\n        },\n\n        search: function(query) {\n            // Abort the last request\n            if (this._request) this._request.abort();\n\n            var handler = this.options.handler;\n\n            if (query) {\n                this._request = this.collection.search(query, function(resp) {\n                    handler(query, resp);\n                });\n            } else {\n                handler(null, []);\n            }\n        }\n    });\n\n\n    return {\n        ConceptSearch: ConceptSearch\n    };\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/index',[\n    'backbone',\n    '../core',\n    '../base',\n    '../accordion'\n], function(Backbone, c, base, accordion) {\n\n\n    var ConceptItem  = accordion.AccordionItem.extend({\n        events: {\n            'click a': 'click'\n        },\n\n        initialize: function() {\n            this.listenTo(c, c.CONCEPT_FOCUS, this.toggleFocus);\n        },\n\n        click: function(event) {\n            event.preventDefault();\n\n            c.trigger(c.CONCEPT_FOCUS, this.model.id);\n        },\n\n        toggleFocus: function(id) {\n            this.$el.toggleClass('active', id === this.model.id);\n        }\n    });\n\n\n    var ConceptSection = accordion.AccordionSection.extend({\n        itemView: ConceptItem,\n\n        filter: function(query, models) {\n            // If any children are visible, show this section, otherwise hide it\n            var show = false;\n\n            this.children.each(function(view) {\n                if (!query || models[view.model.id]) {\n                    view.$el.show();\n                    show = true;\n                }\n                else {\n                    view.$el.hide();\n                }\n            });\n\n            this.$el.toggle(show);\n\n            return show;\n        }\n    });\n\n\n    var ConceptGroup = accordion.AccordionGroup.extend({\n        itemView: ConceptSection,\n\n        filter: function(query, models) {\n            // If any sections are visible, show this group, otherwise hide it\n            var show = false;\n\n            this.children.each(function(view) {\n                if (view.filter(query, models)) show = true;\n            });\n\n            if (!query) {\n                this.$el.show();\n                this.renderState();\n            } else if (show) {\n                this.$el.show();\n                this.expand();\n            } else {\n                this.$el.hide();\n            }\n\n            return show;\n        },\n\n        find: function(model) {\n            var cid, view, child;\n\n            for (cid in this.children._views) {\n                view = this.children._views[cid];\n\n                if (view.children && (child = view.children.findByModel(model))) {\n                    return child;\n                }\n            }\n        }\n    });\n\n\n    var ConceptIndex = accordion.Accordion.extend({\n        className: 'concept-index accordion',\n\n        itemView: ConceptGroup,\n\n        emptySearchView: base.EmptySearchView,\n\n        // Override to create the parsed collection and render it\n        showCollection: function() {\n            this.resetGroups();\n\n            var _this = this;\n\n            this.groups.each(function(item, index) {\n                _this.addItemView(item, _this.getItemView(item), index);\n            });\n        },\n\n        getGroup: function(attrs) {\n            if (attrs.category) {\n                var group = attrs.category;\n\n                // Roll up parents to top-level group\n                while (group.parent) group = group.parent;\n\n                return group;\n            }\n\n            // Return the default group 'Other'\n            return {\n                id: -1,\n                name: 'Other'\n            };\n        },\n\n        getSection: function(attrs) {\n            if (attrs.category && attrs.category.parent) {\n                return attrs.category;\n            }\n\n            // Return the default section 'Other'\n            return {\n                id: -1,\n                name: 'Other'\n            };\n        },\n\n        resetGroups: function() {\n            if (!this.groups) {\n                this.groups = new Backbone.Collection(null, {\n                    comparator: 'order'\n                });\n            }\n            else {\n                this.groups.reset();\n            }\n\n            var _this = this;\n\n            this.collection.each(function(model) {\n                _this.groupModel(model);\n            });\n        },\n\n        // Group by category and sub-category\n        groupModel: function(model) {\n            var groupAttrs = this.getGroup(model.attributes),\n                sectionAttrs = this.getSection(model.attributes);\n\n            // Get the top-level group for the model\n            var group = this.groups.get(groupAttrs.id);\n\n            if (!group) {\n                group = new Backbone.Model(groupAttrs);\n\n                group.sections = new Backbone.Collection(null, {\n                    comparator: 'order'\n                });\n\n                this.groups.add(group);\n            }\n\n            // Get the section (sub-group) for the model\n            var section = group.sections.get(sectionAttrs.id);\n\n            if (!section) {\n                section = new Backbone.Model(sectionAttrs);\n\n                section.items = new Backbone.Collection(null, {\n                    comparator: 'order'\n                });\n\n                group.sections.add(section);\n            }\n\n            section.items.add(model);\n        },\n\n        filter: function(query, resp) {\n            var models = {};\n\n            if (query) {\n                var i, attrs, model;\n\n                for (i = 0; i < resp.length; i++) {\n                    attrs = resp[i];\n\n                    if ((model = this.collection.get(attrs.id))) {\n                        models[model.id] = model;\n                    }\n                }\n            }\n\n            var show = false;\n\n            this.children.each(function(view) {\n                if (view.filter(query, models)) show = true;\n            });\n\n            if (show) {\n                this.closeEmptySearchView();\n            } else {\n                this.showEmptySearchView(query);\n            }\n\n            return show;\n        },\n\n        find: function(model) {\n            var cid, view, child;\n\n            for (cid in this.children._views) {\n                view = this.children._views[cid];\n\n                if ((child = view.find(model))) {\n                    return child;\n                }\n            }\n        },\n\n        // Override show/close empty view to append and remove rather\n        // than adding it to the internal children collection.\n        showEmptySearchView: function(query) {\n            this.closeEmptySearchView();\n\n            this._emptyView = new this.emptySearchView({\n                message: '<p>We could not find anything related to \"' +\n                         query + '\"</p>'\n            });\n\n            this.$el.append(this._emptyView.render().el);\n        },\n\n        closeEmptySearchView: function() {\n            if (this._emptyView) {\n                this._emptyView.remove();\n                delete this._emptyView;\n            }\n        }\n    });\n\n\n    return {\n        ConceptIndex: ConceptIndex,\n        ConceptGroup: ConceptGroup,\n        ConceptSection: ConceptSection,\n        ConceptItem: ConceptItem\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/panel',[\n    'underscore',\n    'marionette',\n    './index',\n    './search'\n], function(_, Marionette, index, search) {\n\n    var ConceptPanel = Marionette.Layout.extend({\n        id: 'concept-panel',\n\n        className: 'panel panel-left closed',\n\n        template: 'concept/panel',\n\n        // Two primary regions for the concept panel including the search\n        // and the index (listing) of concepts\n        regions: {\n            search: '.search-region',\n            index: '.index-region'\n        },\n\n        regionViews: {\n            search: search.ConceptSearch,\n            index: index.ConceptIndex\n        },\n\n        onRender: function() {\n            // Initialize panel plugin to set default state\n            this.$el.panel();\n\n            // Pass the collection of concepts to be rendered in the index\n            var indexRegion = new this.regionViews.index({\n                collection: this.collection\n            });\n\n            // Pass the collection concepts to be searched and a handler\n            // that updates the index based on the matched results.\n            var searchRegion = new this.regionViews.search({\n                collection: this.collection,\n                handler: function(query, resp) {\n                    indexRegion.filter(query, resp);\n                }\n            });\n\n            this.search.show(searchRegion);\n            this.index.show(indexRegion);\n        },\n\n        // Enables triggering a search directly\n        triggerSearch: function(query) {\n            this.search.currentView.trigger('search', query);\n        },\n\n        openPanel: function(options) {\n            this.$el.panel('open', options);\n        },\n\n        closePanel: function(options) {\n            this.$el.panel('close', options);\n        },\n\n        isPanelOpen: function(options) {\n            return this.$el.data('panel').isOpen(options);\n        },\n\n        isPanelClosed: function(options) {\n            this.$el.data('panel').isClosed(options);\n        }\n\n    });\n\n\n    return {\n        ConceptPanel: ConceptPanel\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/field/info',[\n    'underscore',\n    'marionette'\n], function(_, Marionette) {\n\n    var FieldInfo = Marionette.ItemView.extend({\n        className: 'field-info',\n\n        template: 'field/info'\n    });\n\n\n    return {\n        FieldInfo: FieldInfo\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/config',[\n    'underscore',\n    './core'\n], function(_, c) {\n\n    var resolveFormOptions = function(model, namespace) {\n        var viewClass, viewClassModule, viewOptions = [{}];\n\n        // Instance options\n        var instanceOptions = c.config.get(namespace + '.instances.' +\n                                           model.id + '.form');\n\n        // Constructor\n        if (_.isFunction(instanceOptions)) {\n            viewClass = instanceOptions;\n        }\n        // Module name for async fetching\n        else if (_.isString(instanceOptions)) {\n            viewClassModule = instanceOptions;\n        }\n        // Options for default view class\n        else if (_.isObject(instanceOptions)) {\n            viewOptions.push(instanceOptions);\n        }\n\n        // Type options\n        var typeOptions = c.config.get(namespace + '.types.' +\n                                       model.get('type') + '.form');\n\n        // Constructor\n        if (!viewClass && _.isFunction(typeOptions)) {\n            viewClass = typeOptions;\n        }\n        // Module name for async fetching\n        else if (!viewClassModule && _.isString(typeOptions)) {\n            viewClassModule = typeOptions;\n        }\n        else {\n            viewOptions.push(typeOptions);\n        }\n\n        // Default options\n        var defaultOptions = c.config.get(namespace + '.defaults.form');\n\n        // Constructor\n        if (!viewClass && _.isFunction(defaultOptions)) {\n            viewClass = defaultOptions;\n        }\n        // Module name for async fetching\n        else if (!viewClassModule && _.isString(defaultOptions)) {\n            viewClassModule = defaultOptions;\n        }\n        else {\n            viewOptions.push(defaultOptions);\n        }\n\n        // Compose options in order of precedence\n        viewOptions = _.defaults.apply(null, viewOptions);\n\n        return {\n            view: viewClass,\n            module: viewClassModule,\n            options: viewOptions\n        };\n    };\n\n    return {\n        resolveFormOptions: resolveFormOptions\n    };\n\n});\n\n","/* global define */\n\ndefine ('cilantro/ui/field/stats',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'marionette',\n    '../core',\n    '../base',\n    '../charts',\n    '../charts/utils'\n], function($, _, Backbone, Marionette, c, base, charts, utils) {\n\n    // Prettifies a value for display\n    var prettyValue = function (value) {\n        if (_.isNumber(value)) {\n            return c.utils.prettyNumber(value);\n        }\n\n        return value;\n    };\n\n    var FieldStatValue = Marionette.ItemView.extend({\n        tagName: 'li',\n\n        template: function (data) {\n            /*\n             * This is a map of data labels to display labels. For example, when\n             * displaying data with a label of 'Distinct count', it will be rendered\n             * as 'Unique values' when this field stat value is displayed in the page.\n             * If a data label is not in this map, then the data label itself will\n             * be used.\n             */\n            var statslabel = {\n                min: 'Min',\n                max: 'Max',\n                avg: 'Average',\n                count: 'Count',\n                distinct_count: 'Unique values' // jshint ignore:line\n            };\n            return '<span class=stat-label>' + (statslabel[data.key] || data.key) +\n                   '</span> <span class=stat-value title=\"' + data.value + '\">' +\n                   (prettyValue(data.value)) + '</span>';\n        }\n    });\n\n    var FieldStatsValues = Marionette.CollectionView.extend({\n        tagName: 'ul',\n\n        itemView: FieldStatValue\n    });\n\n    var FieldStatsChart = charts.FieldChart.extend({ // jshint ignore:line\n        className: 'sparkline',\n\n        chartOptions: Backbone.Sparkline.prototype.chartOptions,\n\n        getChartOptions: function (resp) {\n            var options = {\n                series: [utils.getSeries(resp.data)]\n            };\n            $.extend(true, options, this.chartOptions);\n            options.chart.renderTo = this.ui.chart[0];\n            return options;\n        }\n    });\n\n    var FieldStats = Marionette.Layout.extend({\n        className: 'field-stats',\n\n        template: 'field/stats',\n\n        regions: {\n            values: '.stats-values',\n            chart: '.stats-chart'\n        },\n\n        onRender: function() {\n            if (this.model.stats) {\n                this.values.show(new FieldStatsValues({\n                    collection: this.model.stats\n                }));\n\n                if (!this.model.stats.length) {\n                    this.model.stats.fetch({\n                        reset: true\n                    });\n                }\n            }\n        }\n    });\n\n    return {\n        FieldStats: FieldStats\n    };\n\n});\n\n","/* global define, require */\n\ndefine('cilantro/ui/field/controls',[\n    'underscore',\n    'marionette',\n    'loglevel',\n    '../../core',\n    '../base',\n    '../controls'\n], function(_, Marionette, loglevel, c, base, controls) {\n\n    // Sets up a two-way binding between the view and filter and\n    // unbinds a previously bound filter\n    var bindFilter = function(view, filter) {\n        if (!filter) return;\n\n        filter.listenTo(view, 'change', function(view, attrs) {\n            filter.clear();\n            filter.set(attrs);\n        });\n\n        view.listenTo(filter, 'change', function(filter) {\n            view.set(filter.toJSON());\n        });\n    };\n\n    var unbindFilter = function(view, filter) {\n        filter.stopListening(view);\n        view.stopListening(filter);\n    };\n\n\n    var FieldControlError = base.ErrorView.extend({\n        message: 'Error rendering field control'\n    });\n\n\n    var LoadingFieldControls = base.LoadView.extend({\n        message: 'Loading and rendering field controls...'\n    });\n\n\n    // Placeholder view that *eventually* renders the actual control since\n    // the target control may need to load asynchronously.\n    var FieldControl = Marionette.ItemView.extend({\n\n        errorView: FieldControlError,\n\n        template: function() {},\n\n        // Get the class if it is registered, otherwise assume it is a module\n        // name to be loaded. If loaded asynchronously, the view will be\n        // rendered once loaded.\n        initialize: function() {\n            var viewClass = this.model.get('control');\n\n            viewClass = controls.get(viewClass) || viewClass;\n\n            if (_.isFunction(viewClass)) {\n                this.viewClass = viewClass;\n            }\n            else {\n                var _this = this;\n\n                require([\n                    viewClass\n                ], function(viewClass) {\n                    _this.viewClass = viewClass;\n                    _this.render();\n                }, function(err) {\n                    _this.showErrorView();\n                    loglevel.debug(err);\n                });\n            }\n        },\n\n        onRender: function() {\n            if (!this.viewClass) return;\n\n            this.view = new this.viewClass(this.model.toJSON());\n            this.view.render();\n            this.$el.html(this.view.el);\n\n            // Before the control is declared ready, set the initial state of\n            // the control and bind the filter for future changes.\n            this.listenTo(this.view, {\n                beforeready: this.onControlBeforeReady,\n                error: this.onControlError\n            });\n\n            // Declare this view to be *conditionally* ready. Read more\n            // in `cilantro/ui/controls/base`.\n            this.view.ready(true);\n        },\n\n        // Clean up and unattach events on control\n        onBeforeClose: function() {\n            if (this.view) {\n                var filter = this.model.get('filter');\n                unbindFilter(this.view, filter);\n                this.view.close();\n            }\n        },\n\n        onControlBeforeReady: function() {\n            var filter = this.model.get('filter');\n            this.view.set(filter.toJSON());\n            bindFilter(this.view, filter);\n        },\n\n        onControlError: function() {\n            this.showErrorView();\n        },\n\n        showErrorView: function() {\n            this.view = new this.errorView(this.model.toJSON());\n            this.view.render();\n            this.$el.html(this.view.el);\n        }\n    });\n\n\n    // View of a collection of field controls\n    var FieldControls = Marionette.CollectionView.extend({\n        itemView: FieldControl,\n\n        emptyView: LoadingFieldControls\n    });\n\n\n    return {\n        FieldControls: FieldControls\n    };\n\n});\n\n","/* global define, require */\n\ndefine('cilantro/ui/field/form',[\n    'underscore',\n    'backbone',\n    'marionette',\n    'loglevel',\n    '../../core',\n    '../base',\n    '../charts',\n    '../config',\n    './info',\n    './stats',\n    './controls'\n], function(_, Backbone, Marionette, loglevel, c, base, charts,\n            config, info, stats, controls) {\n\n\n    var LoadingFields = base.LoadView.extend({\n        message: 'Loading fields...'\n    });\n\n\n    // Contained within the ConceptForm containing views for a single FieldModel\n    var FieldForm = Marionette.Layout.extend({\n        className: 'field-form',\n\n        getTemplate: function() {\n            if (this.options.condensed) {\n                return 'field/form-condensed';\n            }\n\n            return 'field/form';\n        },\n\n        options: {\n            info: true,\n            chart: false,\n            stats: true,\n            controls: true,\n            condensed: false\n        },\n\n        ui: {\n            apply: '[data-action=apply]',\n            update: '[data-action=update]',\n            state: '[data-target=state]'\n        },\n\n        events: {\n            'click @ui.apply': 'applyFilter',\n            'click @ui.update': 'applyFilter'\n        },\n\n        filterEvents: {\n            'applied': 'validateFilter',\n            'unapplied': 'validateFilter',\n            'change': 'validateFilter'\n        },\n\n        regions: {\n            info: '.info-region',\n            stats: '.stats-region',\n            chart: '.chart-region',\n            controls: '.controls-region'\n        },\n\n        regionViews: {\n            info: info.FieldInfo,\n            stats: stats.FieldStats,\n            chart: charts.FieldChart,\n            controls: controls.FieldControls\n        },\n\n        initialize: function(options) {\n            this.data = {};\n\n            if (!(this.data.concept = options.concept)) {\n                throw new Error('concept required');\n            }\n\n            if (!(this.data.context = options.context)) {\n                throw new Error('context required');\n            }\n\n            if (!options.filter) {\n                options.filter = this.data.context.define({\n                    concept: this.data.concept.id,\n                    field: this.model.id\n                });\n            }\n\n            this.data.filter = options.filter;\n        },\n\n        onRender: function() {\n            // Set id for anchoring\n            this.$el.attr('id', this.data.filter.id);\n            if (this.options.condensed) this.$el.addClass('condensed');\n\n            if (this.options.info) this.renderInfo();\n            if (this.options.stats && this.model.stats) this.renderStats();\n            if (this.options.controls) this.renderControls();\n            if (this.options.chart && this.model.links.distribution) this.renderChart();\n\n            this.validateFilter();\n\n            Marionette.bindEntityEvents(this, this.data.filter,\n                Marionette.getOption(this, 'filterEvents'));\n        },\n\n        renderInfo: function() {\n            var options = {model: this.model};\n\n            if (_.isObject(this.options.info)) {\n                _.extend(options, this.options.info);\n            }\n\n            this.info.show(new this.regionViews.info(options));\n        },\n\n        renderStats: function() {\n            var options = {\n                model: this.model,\n                collection: this.model.stats\n            };\n\n            if (_.isObject(this.options.stats)) {\n                _.extend(options, this.options.stats);\n            }\n\n            this.stats.show(new this.regionViews.stats(options));\n        },\n\n        renderControls: function() {\n            var controls = [];\n\n            _.each(this.options.controls, function(options) {\n                var attrs = {\n                    model: this.model,\n                    filter: this.data.filter\n                };\n\n                if (_.isObject(options)) {\n                    _.extend(attrs, options);\n                } else {\n                    attrs.control = options;\n                }\n\n                controls.push(attrs);\n            }, this);\n\n            if (controls.length > 0) {\n                var region = new this.regionViews.controls({\n                    collection: new Backbone.Collection(controls)\n                });\n\n                this.controls.show(region);\n            }\n        },\n\n        renderChart: function() {\n            var options;\n\n            // Append a chart if the field supports a distribution\n            if (this.options.condensed) {\n                options = {\n                    chart: {\n                        height: 100\n                    }\n                };\n            } else {\n                options = {\n                    chart: {\n                        height: 200\n                    }\n                };\n            }\n\n            options.context = this.context;\n            options.model = this.model;\n\n            if (_.isObject(this.options.chart)) {\n                _.extend(options, this.options.chart);\n            }\n\n            this.chart.show(new this.regionViews.chart(options));\n        },\n\n        renderFilter: function() {\n            this.ui.state.hide();\n            this.ui.apply.prop('disabled', true);\n            this.ui.update.prop('disabled', true);\n\n            var isApplied = this.data.context.isFilterApplied(this.data.filter),\n                isValid = !this.isEmpty && !this.validationErrors;\n\n            // Swap buttons\n            if (isApplied) {\n                this.ui.apply.hide();\n                this.ui.update.show();\n\n                // Collect the relevant keys across controls that need to be compared\n                // between the current and applied filter. This ensures server\n                // annotations and other attributes not represented in UI are not\n                // influencing the state.\n                var keys = [];\n\n                this.controls.currentView.children.each(function(proxy) {\n                    if (!proxy.view) return;\n                    keys = keys.concat(_.keys(proxy.view.get()));\n                });\n\n                if (this.data.context.hasFilterChanged(this.data.filter, keys)) {\n                    if (isValid) {\n                        this.ui.update.prop('disabled', false);\n                    }\n                    else if (this.validationErrors) {\n                        this.ui.state.html(this.validationErrors.join('<br>')).show();\n                    }\n                }\n            }\n            else {\n                this.ui.apply.show();\n                this.ui.update.hide();\n\n                if (isValid) {\n                    this.ui.apply.prop('disabled', false);\n                }\n                else if (!this.isEmpty && this.validationErrors) {\n                    this.ui.state.html(this.validationErrors.join('<br>')).show();\n                }\n            }\n        },\n\n        validateFilter: function() {\n            var empty,\n                message,\n                messages = [],\n                attrs = this.data.filter.toJSON();\n\n            // Children are proxies to the control..\n            this.controls.currentView.children.each(function(proxy) {\n                if (!proxy.view) return;\n                message = proxy.view.validate(attrs);\n                if (message) messages.push(message);\n                // It is assume controls are not returning a conflicting result.\n                empty = proxy.view.isEmpty(attrs);\n            });\n\n            this.isEmpty = empty;\n            this.validationErrors = messages.length ? messages : null;\n\n            this.renderFilter();\n\n            return !this.validationErrors && !this.isEmpty;\n        },\n\n        applyFilter: function(event) {\n            event.preventDefault();\n            if (this.validateFilter()) {\n                this.data.filter.apply();\n            }\n        }\n    });\n\n\n    var FieldError = base.ErrorView.extend({});\n\n\n    var FieldFormCollection = Marionette.View.extend({\n        itemView: FieldForm,\n\n        emptyView: LoadingFields,\n\n        errorView: FieldError,\n\n        collectionEvents: {\n            'reset': 'render'\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.concept = this.options.concept)) {\n                throw new Error('concept required');\n            }\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context required');\n            }\n\n            this._children = [];\n        },\n\n        render: function() {\n            if (this.collection.length) {\n                var _this = this;\n\n                this.collection.each(function(model, index) {\n                    _this.renderItem(model, index);\n                });\n            }\n\n            return this;\n        },\n\n        close: function() {\n            if (this.isClosed) return;\n\n            var view;\n\n            while ((view = this._children.pop())) {\n                view.close();\n            }\n\n            Marionette.View.prototype.close.call(this);\n        },\n\n        // Renders an item.\n        renderItem: function(model, index) {\n            var options = _.extend({}, this.options, {\n                model: model,\n                context: this.data.context,\n                concept: this.data.concept,\n                index: index\n            });\n\n            // This collection is used by a concept, therefore if only one\n            // field is present, the concept name and description take\n            // precedence\n            if (this.collection.length < 2) {\n                options.info = false;\n            }\n\n            // The condense option causes all fields after the first to render\n            // in a condensed view by default.\n            else if (index > 0 && this.options.condense) {\n                options.condensed = true;\n            }\n\n            var result = config.resolveFormOptions(model, 'fields');\n\n            _.extend(options, result.options);\n\n            if (result.module) {\n                var _this = this;\n\n                require([\n                    result.module\n                ], function(viewClass) {\n                    _this.createView(viewClass, options);\n                }, function(err) {\n                    _this.showErrorView(model);\n                    loglevel.debug(err);\n                });\n            }\n            else {\n                this.createView(result.view || this.itemView, options);\n            }\n        },\n\n        createView: function(viewClass, options) {\n            try {\n                var view = new viewClass(options);\n                view.render();\n                this._children.push(view);\n                c.dom.insertAt(this.$el, options.index, view.el);\n            }\n            catch (err) {\n                this.showErrorView(options.model);\n                if (c.config.get('debug')) throw err;\n            }\n        },\n\n        showErrorView: function(model) {\n            var view = new this.errorView({model: model});\n            view.render();\n            this._children.push(view);\n            this.$el.html(view.el);\n        }\n    });\n\n\n    var FieldLink = Marionette.ItemView.extend({\n        tagName: 'li',\n\n        template: 'field/link',\n\n        ui: {\n            anchor: 'a'\n        },\n\n        serializeData: function() {\n            return {\n                name: this.model.get('alt_name') || this.model.get('name')\n            };\n        }\n    });\n\n\n    var FieldLinkCollection = Marionette.CompositeView.extend({\n        template: 'field/links',\n\n        itemView: FieldLink,\n\n        itemViewContainer: '[data-target=links]',\n\n        onAfterItemAdded: function(view) {\n            // Add anchor href to link to anchor\n            var concept = this.options.concept;\n            var id = 'c' + concept.id + 'f' + view.model.id;\n            view.ui.anchor.attr('href', '#' + id);\n        }\n    });\n\n\n    return {\n        FieldForm: FieldForm,\n        FieldFormCollection: FieldFormCollection,\n        FieldLinkCollection: FieldLinkCollection\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/field',[\n    'underscore',\n    './field/info',\n    './field/form',\n    './field/stats',\n    './field/controls'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(null, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/form',[\n    'jquery',\n    'underscore',\n    'marionette',\n    '../../core',\n    '../field',\n    '../charts',\n    './info'\n], function($, _, Marionette, c, field, charts, info) {\n\n    var ConceptForm = Marionette.Layout.extend({\n        className: 'concept-form',\n\n        template: 'concept/form',\n\n        options: {\n            condense: false,\n            // Minimum number of concept fields to show the \"jump-to\" links\n            linksMinFields: 2\n        },\n\n        events: {\n            'click [data-target=links] a': 'jumpToField'\n        },\n\n        regions: {\n            info: '.info-region',\n            links: '.links-region',\n            fields: '.fields-region'\n        },\n\n        regionViews: {\n            info: info.ConceptInfo,\n            links: field.FieldLinkCollection,\n            fields: field.FieldFormCollection\n        },\n\n        constructor: function(options) {\n            options = options || {};\n\n            if (!options.model) {\n                throw new Error('concept model required');\n            }\n\n            Marionette.Layout.prototype.constructor.call(this, options);\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context required');\n            }\n        },\n\n        onRender: function() {\n            var info = new this.regionViews.info({\n                model: this.model\n            });\n\n            var fields = new field.FieldFormCollection(_.defaults({\n                context: this.data.context,\n                concept: this.model,\n                collection: this.model.fields\n            }, this.options));\n\n            this.info.show(info);\n            this.fields.show(fields);\n\n            var minFields = this.options.linksMinFields;\n\n            // Explicitly marked as false which implies disabling this view\n            if (minFields === false) return;\n\n            // Assume the fields have not loaded yet, render when done\n            if (this.model.fields.length === 0) {\n                this.listenToOnce(this.model.fields, 'reset', function(collection) {\n                    if (collection.length >= minFields) this._renderLinks();\n                });\n            }\n            else if (this.model.fields.length > this.options.linksMinFields) {\n                this._renderLinks();\n            }\n        },\n\n        _renderLinks: function() {\n            var links = new this.regionViews.links({\n                concept: this.model,\n                collection: this.model.fields\n            });\n\n            this.links.show(links);\n        },\n\n        jumpToField: function(event) {\n            event.preventDefault();\n\n            // Get the scroll position of the target element.\n            // The additional pixels provides some spacing from the top,\n            // so is not flush with the viewport.\n            var scrollTop = $(event.target.hash).offset().top - 20;\n            $('html,body').animate({scrollTop: scrollTop});\n        },\n    });\n\n    return {\n        ConceptForm: ConceptForm\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/welcome',[\n    'underscore',\n    'marionette'\n], function(_, Marionette) {\n\n    var Welcome = Marionette.ItemView.extend({\n        className: 'welcome',\n\n        template: 'welcome',\n\n        ui: {\n            firstTime: '[data-target=first-time]',\n            welcomeBack: '[data-target=welcome-back]'\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            this.listenTo(this.data.context, 'change', this.renderWelcomeMessage);\n        },\n\n        renderWelcomeMessage: function() {\n            var isReturningUser = false;\n\n            // If there is no session then this is not a returning user.\n            if (this.data.context.get('session') === true) {\n                // Just because the context has been created doesn't mean it\n                // is a returning user. We assume that a returning user will\n                // have at least one filter setup so we check for a created \n                // date and a filter in order to qualify a user as returning.\n                if (this.data.context.get('created') && \n                        !_.isEmpty(this.data.context.get('json'))) {\n                    isReturningUser = true;\n                }\n            }\n\n            if (isReturningUser) {\n                this.ui.firstTime.hide();\n                this.ui.welcomeBack.show();\n            }\n            else {\n                this.ui.firstTime.show();\n                this.ui.welcomeBack.hide();\n            }\n        }\n    });\n\n    return {\n        Welcome: Welcome\n    };\n\n});\n\n","/* global define, require */\n\ndefine('cilantro/ui/concept/workspace',[\n    'underscore',\n    'marionette',\n    'loglevel',\n    '../core',\n    '../base',\n    '../welcome',\n    '../config',\n    './form'\n], function(_, Marionette, loglevel, c, base, welcome, config, form) {\n\n    var ConceptError = base.ErrorView.extend({\n        template: 'concept/error'\n    });\n\n\n    // Some of the class properties here are mimicked after CollectionView\n    // since it is managing the concept form views\n    var ConceptWorkspace = Marionette.Layout.extend({\n        className: 'concept-workspace',\n\n        template: 'concept/workspace',\n\n        itemView: form.ConceptForm,\n\n        errorView: ConceptError,\n\n        regions: {\n            main: '.main-region'\n        },\n\n        regionViews: {\n            main: welcome.Welcome\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.concepts = this.options.concepts)) {\n                throw new Error('concept collection required');\n            }\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            this.listenTo(c, c.CONCEPT_FOCUS, this.showItem);\n        },\n\n        _ensureModel: function(model) {\n            if (!(model instanceof c.models.Concept)) {\n                model = this.data.concepts.get(model);\n            }\n            return model;\n        },\n\n        showItem: function(id) {\n            var model = this._ensureModel(id);\n\n            // Unknown or private model\n            if (!model) {\n                loglevel.debug('unknown workspace concept: ' + (id.id || id));\n                return;\n            }\n\n            c.router.navigate('query', {trigger: true});\n\n            // Already being shown\n            if (this.currentView.model && this.currentView.model.id === model.id) return;\n\n            var options = {\n                model: model,\n                context: this.data.context\n            };\n\n            var result = config.resolveFormOptions(model, 'concepts');\n\n            // Extend options\n            options = _.extend(options, result.options);\n\n            // Load external module, catch error if it doesn't exist\n            if (result.module) {\n                var _this = this;\n\n                require([\n                    result.module\n                ], function(itemView) {\n                    _this.createView(itemView, options);\n                }, function(err) {\n                    _this.showErrorView(model);\n                    loglevel.debug(err);\n                });\n\n            }\n            else {\n                this.createView(result.view || this.itemView, options);\n            }\n        },\n\n        createView: function(itemViewClass, options) {\n            try {\n                var view = new itemViewClass(options);\n                this.setView(view);\n            }\n            catch (err) {\n                this.showErrorView(options.model);\n\n                // Rethrow error\n                if (c.config.get('debug')) throw(err);\n            }\n        },\n\n        showErrorView: function(model) {\n            var view = new this.errorView({\n                model: model\n            });\n            this.setView(view);\n        },\n\n        setView: function(view) {\n            this.currentView = view;\n            this.main.show(view);\n        },\n\n        onRender: function() {\n            var main = new this.regionViews.main({context: this.data.context});\n            this.setView(main);\n        }\n    });\n\n\n    return {\n        ConceptWorkspace: ConceptWorkspace\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/columns/available',[\n    '../index'\n], function(index) {\n\n    var AvailableItem = index.ConceptItem.extend({\n        template: 'concept/columns/available-item',\n\n        events: {\n            'mouseover': 'triggerDetails',\n            'mouseout': 'triggerDetails',\n            'click [data-action=add]': 'triggerAdd'\n        },\n\n        modelEvents: {\n            'columns:add': 'disable',\n            'columns:remove': 'enable'\n        },\n\n        triggerAdd: function(event) {\n            event.preventDefault();\n\n            this.model.trigger('columns:add', this.model);\n        },\n\n        triggerDetails: function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            this.model.trigger('columns:detail', this.model, event);\n        },\n\n        enable: function() {\n            this.$el.removeClass('disabled');\n        },\n\n        disable: function() {\n            this.$el.addClass('disabled');\n        }\n    });\n\n\n    var AvailableSection = index.ConceptSection.extend({\n        template: 'concept/columns/available-section',\n\n        itemView: AvailableItem,\n\n        events: {\n            'click [data-action=add-section]': 'triggerAdd'\n        },\n\n        triggerAdd: function(event) {\n            event.preventDefault();\n\n            this.model.items.each(function(model) {\n                model.trigger('columns:add', model);\n            });\n        }\n    });\n\n\n    var AvailableGroup = index.ConceptGroup.extend({\n        template: 'concept/columns/available-group',\n\n        itemView: AvailableSection,\n\n        events: {\n            'click [data-action=add-group]': 'triggerAdd'\n        },\n\n        triggerAdd: function(event) {\n            event.preventDefault();\n\n            this.model.sections.each(function(model) {\n                model.items.each(function(model) {\n                    model.trigger('columns:add', model);\n                });\n            });\n        }\n    });\n\n\n    var AvailableColumns = index.ConceptIndex.extend({\n        itemView: AvailableGroup,\n\n        className: 'available-columns accordion'\n    });\n\n\n    return {\n        AvailableItem: AvailableItem,\n        AvailableSection: AvailableSection,\n        AvailableGroup: AvailableGroup,\n        AvailableColumns: AvailableColumns\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/columns/selected',[\n    'marionette',\n    '../../base'\n], function(Marionette, base) {\n\n\n    var SelectedItem = Marionette.ItemView.extend({\n        tagName: 'li',\n\n        template: 'concept/columns/selected-item',\n\n        events: {\n            'click [data-action=remove]': 'triggerRemove',\n            'sortupdate': 'updateIndex'\n        },\n\n        modelEvents: {\n            'columns:remove': 'remove'\n        },\n\n        triggerRemove: function(event) {\n            event.preventDefault();\n\n            this.model.trigger('columns:remove', this.model);\n        },\n\n        // Silently move the model to a new index in the collection based\n        // on the current position in the DOM from the sort event.\n        updateIndex: function(event, index) {\n            event.stopPropagation();\n\n            this.collection.remove(this.model, {silent: true});\n            this.collection.add(this.model, {at: index, silent: true});\n        }\n    });\n\n\n    var NoSelectedItem = base.EmptyView.extend({\n        message: 'No columns selected.'\n    });\n\n\n    var SelectedColumns = Marionette.CollectionView.extend({\n        tagName: 'ul',\n\n        className: 'selected-columns',\n\n        itemView: SelectedItem,\n\n        emptyView: NoSelectedItem,\n\n        events: {\n            'sortupdate': 'triggerItemSort'\n        },\n\n        // Explicitly pass the collection to enable re-ordering the models\n        // when they are sorted.\n        itemViewOptions: function(model, index) {\n            return {\n                model: model,\n                index: index,\n                collection: this.collection\n            };\n        },\n\n        onRender: function() {\n            this.$el.sortable({\n                cursor: 'move',\n                forcePlaceholderSize: true,\n                placeholder: 'placeholder'\n            });\n        },\n\n        // 'Sortable' events are not triggered on the item being sorted\n        // so this handles proxying the event to the item itself.\n        // See the SelectedItem handler for the event above.\n        triggerItemSort: function(event, ui) {\n            ui.item.trigger(event, [ui.item.index()]);\n        }\n    });\n\n\n    return {\n        SelectedItem: SelectedItem,\n        SelectedColumns: SelectedColumns\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/columns/layout',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'marionette',\n    '../search',\n    './available',\n    './selected'\n], function($, _, Backbone, Marionette, search, available, selected) {\n\n\n    var ConceptDetailsPopover = Marionette.ItemView.extend({\n        className: 'popover right',\n\n        template: 'concept/popover',\n\n        initialize: function() {\n            this.$el.css({\n                position: 'fixed',\n                zIndex: 1200,\n                minWidth: 300,\n                minHeight: 100\n            }).hide();\n        },\n\n        serializeData: function() {\n            var attrs = this.model.toJSON(),\n                fields = this.model.fields;\n\n            if (fields.length === 0) {\n                // Wait until the fields render in case there is no description\n                if (!attrs.description) {\n                    attrs.description = '<i class=\"icon-spinner icon-spin\"></i>';\n                }\n            }\n            else {\n                // Use the first field's description if it exists\n                if (fields.length === 1) {\n                    if (!attrs.description) {\n                        attrs.description = fields.models[0].get('description');\n                    }\n                }\n                // Only show fields if more than one exists\n                else {\n                    attrs.fields = fields.map(function(model) {\n                        return model.get('name');\n                    }).join(', ');\n                }\n            }\n\n            // Fallback in case there are no details about the concept\n            if (!attrs.description && !attrs.fields) {\n                attrs.description = '<em>No description is available</em>';\n            }\n\n            return attrs;\n        },\n\n        onRender: function() {\n            if (this.model.fields.length === 0) {\n                this.listenTo(this.model.fields, 'reset', this.show);\n                this.model.fields.fetch({reset: true});\n            }\n        },\n\n        // Updates the popover with the new options\n        update: function(options) {\n            // In case it is still listening to the model or fields\n            this.stopListening();\n\n            this.options = options;\n            this.model = options.model;\n            this.show();\n        },\n\n        show: function() {\n            this.render();\n\n            if (this.shown()) {\n                this.$el.stop().animate({\n                    left: this.options.left,\n                    // center the vertical positioning..\n                    top: this.options.top - this.$el.outerHeight() / 2\n                }, 200);\n            }\n            // Show to calculate height\n            else {\n                this.$el.show().css({\n                    left: this.options.left,\n                    // center the vertical positioning..\n                    top: this.options.top - this.$el.outerHeight() / 2\n                }).fadeIn(200);\n            }\n        },\n\n        shown: function() {\n            return this.$el.is(':visible');\n        },\n\n        hide: function() {\n            this.$el.fadeOut(200);\n        }\n    });\n\n\n    // Two-column layout representing the available columns on\n    // the left side and the selected columns on the right.\n    // The data this view expects includes:\n    // - collection: a collection of concepts that are deemed viewable\n    // - facets: the facets collection of a view to be rendered\n    //   in this view as selectable and orderable columns\n    // - facets: the collection of Facets derived from the view that\n    //   represent the concepts being chosen.\n    var ConceptColumnsLayout = Marionette.Layout.extend({\n        className: 'concept-columns',\n\n        template: 'concept/columns/layout',\n\n        events: {\n            'click': 'hideDetailsPopover',\n            'click [data-action=clear]': 'triggerRemoveAll'\n        },\n\n        regions: {\n            search: '.search-region',\n            available: '.available-region',\n            selected: '.selected-region'\n        },\n\n        regionViews: {\n            search: search.ConceptSearch,\n            available: available.AvailableColumns,\n            selected: selected.SelectedColumns\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view required');\n            }\n\n            if (!(this.data.concepts = this.options.concepts)) {\n                throw new Error('concepts collection required');\n            }\n\n            this.listenTo(this.data.concepts, 'columns:detail',\n                this.handleDetailsPopover);\n\n            // Local collection of selected concepts based on the bound `view`\n            this.data.selected = new Backbone.Collection();\n\n            // Listen the columns events on the models\n            this.data.selected.listenTo(this.data.concepts, 'columns:add',\n                function(model) { this.add(model); });\n\n            this.data.selected.on('columns:remove', function(model) {\n                this.remove(model);\n            });\n        },\n\n        handleDetailsPopover: function(model, event) {\n            var _this = this, target = $(event.currentTarget);\n\n            clearTimeout(this._detailsDelay);\n\n            // If the popover is already visible, immediately animate to the next\n            // target, otherwise delay\n            if (event.type === 'mouseover') {\n                var timeout = this.popover.shown() ? 100 : 500;\n\n                this._detailsDelay = _.delay(function() {\n                    _this.showDetailsPopover(model, target);\n                }, timeout);\n            }\n            else if (event.type === 'mouseout') {\n                this._detailsDelay = _.delay(function() {\n                    _this.hideDetailsPopover(model, target);\n                }, 200);\n            }\n        },\n\n        showDetailsPopover: function(model, target) {\n            target = $(target);\n\n            var offset = target.offset();\n\n            this.popover.update({\n                model: model,\n                // center the vertical positioning..\n                top: offset.top + target.outerHeight() / 2,\n                left: offset.left + target.outerWidth()\n            });\n        },\n\n        hideDetailsPopover: function() {\n            if (!this.popover) return;\n            this.popover.hide();\n        },\n\n        resetSelected: function() {\n            this.data.selected.reset();\n\n            var concepts = this.data.concepts;\n\n            this.data.view.facets.each(function(facet) {\n                var model = concepts.get(facet.get('concept'));\n                if (model) model.trigger('columns:add', model);\n            });\n        },\n\n        // Maps the selected concepts to the exists facets collection. This\n        // ensures other attributes such as sort order are preserved.\n        selectedToFacets: function() {\n            var _this = this;\n\n            return this.data.selected.map(function(model) {\n                var facet = _this.data.view.facets.get(model.id);\n\n                // Existing facet, serialize as is\n                if (facet) return facet.toJSON();\n\n                return {\n                    concept: model.id\n                };\n            });\n        },\n\n        onRender: function() {\n            this.$el.modal({show: false});\n\n            var searchRegion = new this.regionViews.search({\n                placeholder: 'Search available columns by name, description, ' +\n                             'or data value...',\n                collection: this.data.concepts,\n                handler: function(query, resp) {\n                    availableRegion.filter(query, resp);\n                }\n            });\n\n            var availableRegion = new this.regionViews.available({\n                collapsable: false,\n                collection: this.data.concepts\n            });\n\n            var selectedRegion = new this.regionViews.selected({\n                collection: this.data.selected\n            });\n\n            this.search.show(searchRegion);\n            this.available.show(availableRegion);\n            this.selected.show(selectedRegion);\n\n            // Initialize a bare popover\n            this.popover = new ConceptDetailsPopover();\n            this.$el.append(this.popover.el);\n\n            // If both collection are populated, reset the selected collection,\n            // otherwise wait until they are reset.\n            if (this.data.view.facets.length > 0 && this.data.concepts.length) {\n                this.resetSelected();\n            }\n            else {\n                this.listenToOnce(this.data.view.facets, 'reset', this.resetSelected);\n                this.listenToOnce(this.data.concepts, 'reset', this.resetSelected);\n            }\n        },\n\n        triggerRemoveAll: function() {\n            // Create a temporary array to prevent the collection from mutating\n            // in place when triggering the events.\n            var models = this.data.selected.slice(0);\n\n            _.each(models, function(model) {\n                model.trigger('columns:remove', model);\n            });\n        }\n    });\n\n\n    return {\n        ConceptColumnsLayout: ConceptColumnsLayout\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/columns/dialog',[\n    'underscore',\n    'marionette',\n    './layout'\n], function(_, Marionette, layout) {\n\n\n    var ConceptColumnsDialog = Marionette.Layout.extend({\n        className: 'columns-modal modal hide full',\n\n        template: 'concept/columns/dialog',\n\n        events: {\n            'click [data-save]': 'save',\n            'click [data-dismiss]': 'reset'\n        },\n\n        ui: {\n            error: '[data-target=error]'\n        },\n\n        regions: {\n            body: '.concept-columns-region'\n        },\n\n        regionViews: {\n            body: layout.ConceptColumnsLayout\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view required');\n            }\n\n            if (!(this.data.concepts = this.options.concepts)) {\n                throw new Error('concepts collection required');\n            }\n\n            // Since the view can now be modified both here and by loading a\n            // shared query, we need to keep an ear out and listed for the sync\n            // event so we can reset the select/available columns. There is\n            // no risk of this affecting us post save because even though the\n            // sync event will happen after saving a new collection of selected\n            // columns, the reset will cause no changes in the UI because the\n            // synced result will be the view we just constructed.\n            this.listenTo(this.data.view, 'sync', this.reset);\n        },\n\n        onRender: function() {\n            this.$el.modal({\n                show: false,\n                keyboard: false,\n                backdrop: 'static'\n            });\n\n            // Locally reference the view for use below in the cancel, and save methods\n            this.columns = new this.regionViews.body({\n                view: this.data.view,\n                concepts: this.data.concepts\n            });\n\n            this.body.show(this.columns);\n        },\n\n        reset: function() {\n            var _this = this;\n\n            _.delay(function() {\n                _this.columns.resetSelected();\n            }, 25);\n\n            this.render();\n        },\n\n        save: function() {\n            this.ui.error.hide();\n            var facets = this.columns.selectedToFacets();\n\n            if (facets.length === 0) {\n                this.ui.error.html('<p>You must select one or more columns.</p>').show();\n                return;\n            }\n\n            this.data.view.facets.reset(facets);\n            this.data.view.save();\n            this.close();\n        },\n\n        open: function() {\n            this.ui.error.hide();\n            this.$el.modal('show');\n        },\n\n        close: function() {\n            this.$el.modal('hide');\n        }\n    });\n\n\n    return {\n        ConceptColumnsDialog: ConceptColumnsDialog\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept/columns',[\n    'underscore',\n    './columns/dialog'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(_, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/concept',[\n    'underscore',\n    './concept/info',\n    './concept/search',\n    './concept/index',\n    './concept/panel',\n    './concept/form',\n    './concept/workspace',\n    './concept/columns'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(_, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/context/filters',[\n    'underscore',\n    'marionette',\n    '../base',\n    '../core',\n    '../../utils/numbers'\n], function(_, Marionette, base, c, numbers) {\n\n    var flattenLanguage = function(attrs, toks, type, wrap) {\n        if (!attrs) return '';\n        if (!toks) toks = [];\n        if (wrap !== false) wrap = true;\n\n        if (wrap) toks.push('<ul>');\n\n        if (attrs.language) {\n            toks.push('<li>' + attrs.language + '</li>');\n        }\n        else if (attrs.type && attrs.children.length) {\n            if (type) {\n                toks.push('<li><small>' + attrs.type.toUpperCase() + '</small><ul>');\n            }\n\n            _.each(attrs.children, function(child) {\n                flattenLanguage(child, toks, type, false);\n            });\n\n            if (type) {\n                toks.push('</ul></li>');\n            }\n        }\n\n        if (wrap) toks.push('</ul>');\n\n        return toks.join('');\n    };\n\n    var ContextFilter = Marionette.ItemView.extend({\n        className: 'context-filter',\n\n        template: 'context/filter',\n\n        ui: {\n            actions: '[data-target=actions]',\n            loader: '[data-target=loader]',\n            remove: '[data-action=remove]',\n            enable: '[data-action=enable]',\n            description: '[data-target=description]',\n            required: '[data-target=required]'\n        },\n\n        events: {\n            'click': 'clickShow',\n            'click @ui.remove': 'clickRemove',\n            'click @ui.enable': 'toggleEnabled',\n        },\n\n        modelEvents: {\n            request: 'showLoadView',\n            sync: 'hideLoadView',\n            error: 'hideLoadView',\n            change: 'render'\n        },\n\n        // This dictionary maps operators to their simple language representation.\n        // renderDescription creates the language to be displayed as the filter\n        // description. The first value in the array is the simple language\n        // shortening. The second is the value present in the default language.\n        simpleLanguage : {\n            'in': ['is', 'is'],\n            '-in': ['not', 'is not'],\n            'exact': ['is', 'is'],\n            'range': ['between', 'is between'],\n            '-range': ['not between', 'is not between'],\n            'isnull': ['is', 'is'],\n            'gt': ['>', 'is greater'],\n            'gte': ['>=', 'is greater than or equal to'],\n            'lt': ['<', 'is less'],\n            'lte': ['<=', 'is less than or equal to']\n        },\n\n        // Navigate to query page when a concept is triggered\n        clickShow: function() {\n            c.trigger(c.CONCEPT_FOCUS, this.model.get('concept'));\n        },\n\n        clickRemove: function(event) {\n            event.stopPropagation();\n            this.model.unapply();\n        },\n\n        // Toggle the enabled state of the node\n        toggleEnabled: function(event) {\n            event.stopPropagation();\n            this.model.toggleEnabled();\n        },\n\n        renderEnabled: function() {\n            this.$el.removeClass('disabled');\n            this.ui.enable.attr('title', 'Disable');\n            this.ui.enable.prop('checked', true);\n        },\n\n        renderDisabled: function() {\n            this.$el.addClass('disabled');\n            this.ui.enable.attr('title', 'Enable');\n            this.ui.enable.prop('checked', false);\n        },\n\n        renderState: function() {\n            if (this.model.get('enabled') !== false) {\n                this.renderEnabled();\n            }\n            else {\n                this.renderDisabled();\n            }\n        },\n\n        // Function for handling values which are not from the 'range'\n        // operator. This function creates an appropriate language to represent\n        // the values.\n        parseValue: function(value, operator) {\n            var i, text = [];\n\n            if (!_.isArray(value)) {\n                if (typeof value.label !== 'undefined') {\n                    value = value.label;\n                }\n                return '<span class=filter-value>' + value + '</span>';\n            }\n\n            // If the # of values are greater than this threshold, do not show\n            // them all.\n            var THRESHOLD = c.config.get('maxFilterDisplayValues');\n\n            if (typeof value[0] === 'object') {\n                value = _.pluck(value, 'label');\n            }\n\n            if (value.length === 1) {\n                return '<span class=filter-value>' + value[0] + '</span>';\n            }\n\n            if (value.length < THRESHOLD) {\n                // In the case of more than one values, construct a string in\n                // the form [fieldname] is [value1], [value2] or [value3] etc.\n                for (i = 0; i < value.length - 1; i++) {\n                    text.push('<span class=filter-value>' + value[i] + ',' +\n                              '</span>');\n                }\n\n                // In case of an exclusion operator, end the list of values with\n                // 'nor'.\n                if (operator.charAt(0) === '-') {\n                    text.push('nor');\n                }\n                else {\n                    text.push('or');\n                }\n\n                text.push('<span class=filter-value>' + value[value.length - 1] +\n                          '</span>');\n            }\n            // In the case # of values exceeds Threshold hide them.\n            else {\n                text.push('<span class=filter-value>' + value[0] + ',' + '</span>');\n                text.push('<span class=filter-value>' + value[1] + ',' + '</span>');\n\n                var tail = value.length - THRESHOLD;\n\n                if (operator.indexOf('-') < 0) {\n                    text.push('...(' + tail + ' more) or');\n                }\n                else {\n                    text.push('...(' + tail + ' more) nor');\n                }\n\n                text.push('<span class=filter-value>' + value[value.length - 1] +\n                          '</span>');\n            }\n\n            return text.join(' ');\n        },\n\n        renderDescription: function() {\n            var attrs = this.model.toJSON();\n\n           /*\n            * styleFilters is a feature supported by Avocado versions 2.3.5 and above.\n            * If this property is not present, then the latest version\n            * is not installed on this app.\n            * In this case, (or in the case of not watching styled filters,\n            * set this setting to false.\n            */\n            if (!c.config.get('styleFilters')) {\n                this.ui.description.html(flattenLanguage(attrs));\n                return;\n            }\n\n           /*\n            * The cleanedValue will be used to prettify the language.\n            * In the case of some values being represented as ids, cleanedValue\n            * will provide their text representation.\n            */\n            var cleanedValue = attrs.cleaned_value; // jshint ignore:line\n\n            var text = [],\n                value = attrs.value,\n                operator = attrs.operator,\n                fieldName = '';\n\n            if (typeof cleanedValue === 'undefined'){\n                cleanedValue = value;\n            }\n\n            // If the fields have been found, get the fieldName from them. Else\n            // split the language at the operator to retrive it.\n            if (c.data.fields.get(attrs.field)) {\n                fieldName = c.data.fields.get(attrs.field).get('name');\n            }\n            else {\n                // Splits the language at the operator and retrives the fieldName\n                // which is always to the left of the operator.\n                fieldName =\n                    attrs.language.split(\n                            this.simpleLanguage[operator][1])[0];\n            }\n\n            // Remove ? and ! from the end of field names\n            fieldName = fieldName.replace(/[!?]$/g, '');\n\n            text.push('<ul><li>');\n\n            text.push('<strong>' + fieldName + '</strong>');\n\n            if (operator === 'range' || operator === '-range') {\n                text.push(this.simpleLanguage[operator][0]);\n                var val1 = value[0];\n                var val2 = value[1];\n\n                // Prettify Numbers\n                if (_.isNumber(val1) && _.isNumber(val2)) {\n                    val1 = numbers.toDelimitedNumber(val1);\n                    val2 = numbers.toDelimitedNumber(val2);\n                }\n\n                text.push('<span class=filter-value>' + val1 + '</span> and ' +\n                          '<span class=filter-value>' + val2 + '</span>');\n            }\n            else if (operator === 'in' || operator === '-in') {\n                text.push(this.simpleLanguage[operator][0]);\n                text.push(this.parseValue(cleanedValue, operator));\n            }\n            // Handles greater than, less than etc.\n            else {\n                text.push(this.simpleLanguage[operator][0]);\n                text.push(this.parseValue(cleanedValue, operator));\n            }\n\n            text.push('</li></ul>');\n\n            this.ui.description.html(text.join(' '));\n        },\n\n        showLoadView: function() {\n            this.ui.loader.show();\n            this.ui.description.hide();\n        },\n\n        hideLoadView: function() {\n            this.ui.loader.hide();\n            this.ui.description.show();\n        },\n\n        onRender: function() {\n            // Required filters cannot be removed nor disabled\n            this.ui.actions.toggle(!this.model.get('required'));\n            this.ui.enable.toggle(!this.model.get('required'));\n            this.ui.required.toggle(this.model.get('required') === true);\n\n            this.ui.required.tooltip({\n                container: 'body',\n                placement: 'left',\n                delay: 500\n            });\n\n            this.renderDescription();\n            this.renderState();\n        }\n    });\n\n\n    var ContextNoFilters = base.EmptyView.extend({\n        template: 'context/empty',\n\n        ui: {\n            noFiltersResultsMessage: '.no-filters-results-workspace',\n            noFiltersQueryMessage: '.no-filters-query-workspace'\n        },\n\n        onRender: function() {\n            this.listenTo(c.router, 'route', this.toggleMessage);\n            this.toggleMessage();\n        },\n\n        onClose: function() {\n            this.stopListening(c.router);\n        },\n\n        toggleMessage: function() {\n            if (c.router.isCurrent('results')) {\n                this.ui.noFiltersQueryMessage.hide();\n                this.ui.noFiltersResultsMessage.show();\n            }\n            else if (c.router.isCurrent('query')) {\n                this.ui.noFiltersQueryMessage.show();\n                this.ui.noFiltersResultsMessage.hide();\n            }\n        }\n    });\n\n\n    var ContextFilters = Marionette.CollectionView.extend({\n        itemView: ContextFilter,\n\n        emptyView: ContextNoFilters\n    });\n\n\n    return {\n        ContextFilter: ContextFilter,\n        ContextFilters: ContextFilters,\n        ContextNoFilters: ContextNoFilters,\n        flattenLanguage: flattenLanguage\n    };\n\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/context/info',[\n    'underscore',\n    'marionette',\n    '../core'\n], function(_, Marionette, c) {\n\n\n    var ContextInfo = Marionette.ItemView.extend({\n        template: 'context/info',\n\n        ui: {\n            query: '[data-route=query]',\n            results: '[data-route=results]'\n        },\n\n        initialize: function() {\n            _.bindAll(this, 'toggleButton');\n\n            // Toggle buttons when the route changes\n            c.router.on('route', this.toggleButton);\n        },\n\n        // Toggles the buttons relative to the current route. This is a shared\n        // view across routes, thus it must be *aware* of which is the current\n        // route.\n        toggleButton: function() {\n            this.ui.query.toggle(c.router.isCurrent('results'));\n            this.ui.results.toggle(c.router.isCurrent('query'));\n        },\n\n        onRender: function() {\n            this.toggleButton();\n        }\n    });\n\n\n    return {\n        ContextInfo: ContextInfo\n    };\n\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/context/actions',[\n    'underscore',\n    'marionette',\n    '../core'\n], function(_, Marionette, c) {\n\n\n    // Provides a set of actions for manipulating a ContextModel object\n    var ContextActions = Marionette.ItemView.extend({\n        template: 'context/actions',\n\n        ui: {\n            removeAll: '[data-action=remove]',\n            count: '[data-target=count]',\n            units: '[data-target=units]',\n            loading: '[data-target=loading-message]'\n        },\n\n        events: {\n            'click @ui.removeAll': 'clickRemoveAll'\n        },\n\n        modelEvents: {\n            'change:count': 'render',\n            'sync': 'showCount',\n            'request': 'showLoad'\n        },\n\n        collectionEvents: {\n            'add remove reset': 'renderRemoveAll'\n        },\n\n        serializeData: function() {\n            var attrs = _.clone(this.model.attributes);\n            attrs.prettyCount = c.utils.prettyNumber(\n                attrs.count, c.config.get('threshold'));\n            return attrs;\n        },\n\n        clickRemoveAll: function() {\n            this.collection.unapply();\n        },\n\n        onRender: function() {\n            this.renderRemoveAll();\n        },\n\n        showLoad: function() {\n            this.ui.count.hide();\n            this.ui.units.hide();\n            this.ui.loading.show();\n        },\n\n        showCount: function() {\n            this.ui.count.show();\n            this.ui.units.show();\n            this.ui.loading.hide();\n        },\n\n        renderRemoveAll: function() {\n            // Required filters cannot be removed, so filter them out\n            var models = this.collection.reject(function(model) {\n                return model.get('required') === true;\n            });\n\n            this.ui.removeAll.prop('disabled', !models.length);\n        }\n    });\n\n\n    return {\n        ContextActions: ContextActions\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/context/panel',[\n    'underscore',\n    'marionette',\n    '../base',\n    '../core',\n    './filters',\n    './info',\n    './actions'\n], function(_, Marionette, base, c, filters, info, actions) {\n\n\n    var ContextPanel = Marionette.Layout.extend({\n        id: 'context-panel',\n\n        className: 'panel panel-right closed',\n\n        template: 'context/panel',\n\n        errorView: base.ErrorOverlayView,\n\n        modelEvents: {\n            sync: 'hideLoadView',\n            error: 'showErrorView',\n            request: 'showLoadView'\n        },\n\n        regions: {\n            info: '.info-region',\n            filters: '.filters-region',\n            actions: '.actions-region'\n        },\n\n        regionViews: {\n            info: info.ContextInfo,\n            filters: filters.ContextFilters,\n            actions: actions.ContextActions\n        },\n\n        showLoadView: function() {\n            if (this._errorView) {\n                this._errorView.remove();\n                delete this._errorView;\n            }\n\n            this.$el.addClass('loading');\n        },\n\n        hideLoadView: function() {\n            this.$el.removeClass('loading');\n        },\n\n        showErrorView: function() {\n            if (this._errorView) return;\n\n            // Show an overlay for the whole filters region\n            this._errorView = new this.errorView({target: this.$el});\n            this._errorView.render();\n        },\n\n        onRender: function() {\n            // Initialize panel to set default state\n            this.$el.panel();\n\n            var info = new this.regionViews.info({\n                model: this.model\n            });\n\n            var actions = new this.regionViews.actions({\n                model: this.model,\n                collection: this.model.filters\n            });\n\n            var filters = new this.regionViews.filters({\n                model: this.model,\n                collection: this.model.filters\n            });\n\n            this.info.show(info);\n            this.actions.show(actions);\n            this.filters.show(filters);\n        },\n\n        openPanel: function(options) {\n            this.$el.panel('open', options);\n        },\n\n        closePanel: function(options) {\n            this.$el.panel('close', options);\n        },\n\n        isPanelOpen: function(options) {\n            return this.$el.data('panel').isOpen(options);\n        },\n\n        isPanelClosed: function(options) {\n            return this.$el.data('panel').isClosed(options);\n        }\n    });\n\n\n    return {\n        ContextPanel: ContextPanel\n    };\n\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/context',[\n    'underscore',\n    './context/panel'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(_, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/exporter',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'marionette',\n    './base',\n    './core'\n], function($, _, Backbone, Marionette, base, c) {\n\n    var ExportOption = Marionette.ItemView.extend({\n        tagName: 'label',\n\n        className: 'checkbox',\n\n        template: 'export/option'\n    });\n\n\n    var NoExportOption = base.EmptyView.extend({\n        message: 'No exporters available.'\n    });\n\n\n    var ExportOptions = Marionette.CollectionView.extend({\n        itemView: ExportOption,\n\n        emptyView: NoExportOption\n    });\n\n\n    var ExportProgress = Marionette.ItemView.extend({\n        template: 'export/progress',\n\n        ui: {\n            status: '[data-target=status]',\n            cancel: '[data-target=cancel]'\n        },\n\n        events: {\n            'click @ui.cancel': 'cancel'\n        },\n\n        modelEvents: {\n            'change:status': 'renderStatus'\n        },\n\n        // TODO this is bound to the implementation Serrano provides\n        // and needs to be noted somewhere.\n        getCookieName: function() {\n            return 'export-type-' + this.model.get('type');\n        },\n\n        getExportUrl: function() {\n            var url = this.model.get('href');\n\n            if (url.charAt(url.length - 1) !== '/') {\n                url += '/';\n            }\n\n            return url + (this.model.get('pages') || '');\n        },\n\n        initialize: function() {\n            var cookie = this.getCookieName(),\n                url = this.getExportUrl();\n\n            this.iframe = $('<iframe />').attr('src', url).css('display', 'none');\n\n            this.model.set({\n                url: url,\n                cookie: cookie,\n                status: 'pending',\n                time: 0\n            });\n        },\n\n        start: function(options) {\n            if (this.model.get('status') === 'canceled') return;\n\n            // Reset the cookie\n            c.utils.setCookie(this.model.get('cookie'), null);\n\n            // Append iframe to trigger browser to load\n            this.$el.append(this.iframe);\n\n            var _this = this;\n\n            var interval = setInterval(function() {\n                _this.check();\n            }, options.monitorDelay);\n\n            this.model.set({\n                interval: interval,\n                status: 'loading'\n            });\n        },\n\n        cancel: function() {\n            var cookie = this.model.get('cookie'),\n                interval = this.model.get('interval');\n\n            clearInterval(interval);\n            c.utils.setCookie(cookie, null);\n\n            this.iframe.remove();\n            this.model.set('status', 'canceled');\n        },\n\n        check: function() {\n            var cookie = this.model.get('cookie'),\n                time = this.model.get('time'),\n                interval = this.model.get('interval');\n\n            // Update execution time\n            time += this.monitorDelay;\n\n            // Check if the export completed\n            if (c.utils.getCookie(cookie) === 'complete') {\n                clearInterval(interval);\n                c.utils.setCookie(cookie, null);\n                this.model.set('status', 'complete');\n            }\n\n            // A timeout occurred\n            else if (time >= this.options.monitorTimeout) {\n                clearInterval(interval);\n                this.model.set('status', 'timeout');\n            }\n\n            // An error occurred\n            else if (this.checkError()) {\n                clearInterval(interval);\n                this.model.set('status', 'error');\n            }\n        },\n\n        checkError: function() {\n            if (!this.iframe[0].document) return false;\n\n            // Since we can't read the content-type of the iframe directly,\n            // we need to check to see if the body of the iframe is populated.\n            // If it is populated, then an error during export has occurred and\n            // the details of that error are contained in the iframe. If all\n            // went well, the iframe will have empty head and body elements\n            // because the content disposition was attachment.\n            return this.iframe.contents()[0].body.children.length !== 0;\n        },\n\n        renderStatus: function(model, value) {\n            var html, done = true;\n\n            switch(value) {\n                case 'error':\n                    html = '<span class=\"label label-important\">Error</span>';\n                    break;\n                case 'timeout':\n                    html = '<span class=\"label label-warning\">Request Timed Out</span>';\n                    break;\n                case 'complete':\n                    html = '<span class=\"label label-success\">Complete</span>';\n                    break;\n                case 'loading':\n                    html = '<div class=\"label label-info\">' +\n                        '<i class=\"icon-spinner icon-spin\"></i> Downloading...</span>';\n                    // I'm stil working, I promise I'll be done soon!\n                    done = false;\n                    break;\n                case 'canceled':\n                    html = '<span class=\"label label-warning\">Canceled</span>';\n                    break;\n            }\n\n            this.ui.cancel.hide();\n            this.ui.status.html(html);\n            this.model.set('done', done);\n        }\n    });\n\n\n    var ExportBatch = Marionette.CompositeView.extend({\n        className: 'export-batch',\n\n        template: 'export/batch',\n\n        itemView: ExportProgress,\n\n        start: function() {\n            var options = this.options;\n\n            this.children.each(function(view, i) {\n                _.delay(function() {\n                    view.start(options);\n                }, i * options.requestDelay);\n            });\n        },\n\n        finish: function() {\n            var _this = this;\n\n            this.$el\n                .html('<h3><i class=\"icon-ok-sign text-success\" /> Export Done</h3>')\n                .css('text-align', 'center');\n\n            _.delay(function() {\n                _this.$el.slideUp({\n                    duration: 300,\n                    easing: 'easeInOutQuad',\n                    complete: function() {\n                        _this.close();\n                    }\n                });\n            }, 2000);\n        }\n\n    });\n\n\n    // Pattern to match user entered export page ranges against. Any ranges\n    // not matching this pattern will be considered invalid.\n    var pageRangePattern = /^[0-9]+(\\.\\.\\.[0-9]+)?$/;\n\n\n    var ExporterDialog = Marionette.Layout.extend({\n        template: 'export/dialog',\n\n        id: 'exporter-dialog',\n\n        className: 'modal hide',\n\n        options: {\n            // In milliseconds\n            requestDelay: 500,\n\n            // In milliseconds\n            monitorDelay: 200,\n\n            // Max time(ms) to monitor exports, 10 minutes\n            monitorTimeout: 600000\n        },\n\n        ui: {\n            pageOption: '[name=pages]',\n            pageRange: '[name=page-range]',\n            error: '[data-target=error]',\n            save: '[data-toggle=save]'\n        },\n\n        events: {\n            'click @ui.save': 'exportData',\n            'click @ui.pageOption': 'togglePageOption',\n            'click [data-action=change-columns]': 'changeColumnsClicked'\n        },\n\n        regions: {\n            types: '[data-target=types]',\n            progress: '[data-target=progress]'\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.exporters = this.options.exporters)) {\n                throw new Error('exporters collection required');\n            }\n        },\n\n        open: function() {\n            this.$el.modal('show');\n        },\n\n        hide: function() {\n            this.$el.modal('hide');\n        },\n\n        onRender: function() {\n            this.$el.modal({show: false});\n\n            var optionsRegion = new ExportOptions({\n                collection: this.data.exporters\n            });\n\n            this.types.show(optionsRegion);\n        },\n\n        // Enables/disables the page range text box based on the selected\n        // radio button\n        togglePageOption: function() {\n            this.ui.pageRange.prop('disabled', !this.pageRangeSelected());\n        },\n\n        // Returns an array of export type models based on the current selection\n        getSelectedOptions: function() {\n            return this.types.currentView.$(':checked').map(function() {\n                return this.value;\n            });\n        },\n\n        getPageRange: function() {\n            if (this.pageRangeSelected()) {\n                return this.ui.pageRange.val();\n            }\n        },\n\n        pageRangeSelected: function() {\n            return this.ui.pageOption.filter(':checked').val() === 'range';\n        },\n\n        isPageRangeValid: function() {\n            return pageRangePattern.test(this.getPageRange());\n        },\n\n        changeColumnsClicked: function() {\n            c.dialogs.columns.open();\n        },\n\n        validate: function() {\n            var errors = [];\n\n            // Get export options that were selected\n            var options = this.getSelectedOptions();\n\n            if (this.pageRangeSelected() && !this.isPageRangeValid()) {\n                errors.push('<p>The page range entered is invalid. It must be a ' +\n                            'single page, e.g. 1, or a range of pages, e.g. 2...5.</p>');\n            }\n            if (options.length === 0) {\n                errors.push('<p>An export type must be selected.</p>');\n            }\n            if (c.data.views.session.facets.length === 0){\n                errors.push('<p>One or more columns must be selected. Click ' +\n                            '<a data-action=change-columns>here</a> to select '+\n                            'columns.</p>');\n            }\n            return errors;\n        },\n\n        // Starts a data export for all selected options\n        exportData: function() {\n            // Clear any of the old iframes. If we are exporting again, these\n            // downloads should all have finished based on the UI blocking\n            // during active exports.\n            this.ui.error.hide();\n\n            // Get export options selected by user\n            var options = this.getSelectedOptions();\n\n            // Return a list of errors\n            var errors = this.validate();\n\n            // Show a list of errors if they exist\n            if (errors.length) {\n                this.ui.error.html(errors).show();\n                return;\n            }\n\n            // Disable export button until the downloads finish.\n            this.ui.save.prop('disabled', true);\n\n            var _this = this, attrs;\n\n            var models = _.map(options, function(option) {\n                attrs = _this.data.exporters.get(option).toJSON();\n\n                // Add additional attributes for this batch\n                attrs.pages = _this.getPageRange();\n                return attrs;\n            });\n\n            // Initial batch of export options\n            var batch = new Backbone.Collection(models);\n\n            this.listenTo(batch, 'change:status', function() {\n                if (batch.where({done: true}).length === batch.length) {\n                    this.stopListening(batch);\n                    this.ui.save.prop('disabled', false);\n\n                    _.delay(function() {\n                        progress.finish();\n                    }, 1000);\n                }\n            });\n\n            // Initialize batch with local options including timeouts and such\n            var progress = new ExportBatch(_.extend({\n                collection: batch\n            }, this.options));\n\n            this.progress.show(progress);\n\n            progress.start();\n        }\n    });\n\n    return {\n        ExporterDialog: ExporterDialog\n    };\n\n});\n\n","/* global define */\n\n/*\n * The cilantro/ui/notify module provides an interface for creating notifications\n * for display to users.\n */\n\ndefine('cilantro/ui/notify',[\n    'underscore',\n    'backbone',\n    'marionette'\n], function(_, Backbone, Marionette) {\n\n    var NotificationModel = Backbone.Model.extend({\n        defaults: {\n            level: 'info',\n            timeout: 4000,\n            dismissable: true,\n            header: null,\n            message: ''\n        }\n    });\n\n    var Notification = Marionette.ItemView.extend({\n        className: 'alert',\n\n        template: 'notification',\n\n        ui: {\n            dismiss: '[data-dismiss]',\n            header: 'h4',\n            message: 'div'\n        },\n\n        events: {\n            'click [data-dismiss]': 'dismiss',\n            'mouseover': 'hold',\n            'mouseout': 'release'\n        },\n\n        dismiss: function() {\n            // Clear the timer if set\n            clearTimeout(this._dismissTimer);\n\n            // Raise an event to let the notification collection know we have\n            // been closed so that it can remove this notification from the collection.\n            this.trigger('close');\n        },\n\n        hold: function() {\n            if (!this._startTime) return;\n\n            clearTimeout(this._dismissTimer);\n            // In case the fade out has started\n            this.$el.stop().show();\n        },\n\n        release: function() {\n            if (!this._startTime) return;\n\n            // Determine the time left relative to the start time and\n            // release after one second in case the mouse runs away\n            var end = this._startTime + this.model.get('timeout'),\n                timeout = Math.max(end - (new Date()).getTime(), 1000);\n\n            var _this = this;\n            this._dismissTimer = setTimeout(function() {\n                _this.$el.fadeOut(function() {\n                    // Raise an event to let the notification collection know we\n                    // have been closed so that it can remove this notification\n                    // from the collection. This is executed in the callback for\n                    // fadeOut so the animation finishes before the close event\n                    // is triggered.\n                    _this.trigger('close');\n                });\n            }, timeout);\n        },\n\n        onRender: function() {\n            // Add class based on the level.\n            this.$el.addClass('alert-' + this.model.get('level'));\n\n            // Toggle header if falsy\n            this.ui.header.toggle(!!this.model.get('header'));\n\n            // Toggle dismiss button\n            this.ui.dismiss.toggle(this.model.get('dismissable'));\n\n            // Add a timeout for time-based notifications\n            var timeout = this.model.get('timeout');\n\n            if (timeout) {\n                this._startTime = (new Date()).getTime();\n                this.release();\n            }\n        }\n    });\n\n    var Notifications = Marionette.CollectionView.extend({\n        className: 'notifications',\n\n        itemView: Notification,\n\n        constructor: function(options) {\n            options = options || {};\n\n            if (!options.collection) {\n                options.collection = new Backbone.Collection();\n            }\n\n            Marionette.CollectionView.prototype.constructor.call(this, options);\n\n            this.on('itemview:close', this.onNotificationClosed);\n\n            _.bindAll(this, 'notify', 'onNotificationClosed');\n        },\n\n        onNotificationClosed: function(args) {\n            this.collection.remove(args.model, {silent: true});\n        },\n\n        notify: function(attrs) {\n            // Handle shorthand notation with only a message\n            if (typeof attrs === 'string') {\n                attrs = {message: attrs};\n            }\n\n            // Prevent duplicate messages from being displayed\n            var searchAttrs = {\n                header: attrs.header,\n                message: attrs.message\n            };\n\n            if (this.collection.findWhere(searchAttrs)) {\n                return;\n            }\n\n            // Manually construct to prevent server-side requests\n            var model = new NotificationModel(attrs);\n            this.collection.add(model);\n            return this.children.findByModel(model);\n        }\n    });\n\n    return {\n        Notifications: Notifications,\n        Notification: Notification\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/query/dialog',[\n    'underscore',\n    'marionette',\n    '../core'\n], function(_, Marionette, c) {\n\n    var DeleteQueryDialog = Marionette.ItemView.extend({\n        className: 'modal hide',\n\n        template: 'query/delete-dialog',\n\n        options: {\n            header: 'Delete Query'\n        },\n\n        events: {\n            'click .delete-query-button': 'deleteQuery'\n        },\n\n        ui: {\n            header: '.modal-header h4',\n            alert: '.alert'\n        },\n\n        showError: function(message) {\n            this.ui.alert.html(message).show();\n        },\n\n        hideError: function() {\n            this.ui.alert.hide();\n        },\n\n        deleteQuery: function() {\n            this.hideError();\n\n            // Re-open on failure and display error message. Closure reference\n            // of model put to prevent re-opening with a new instance.\n            var model = this.model, _this = this;\n\n            this.model.destroy().fail(function() {\n                _this.open(model);\n\n                // TODO evaluate the error and customize the message, e.g. don't\n                // tell a user to try again if there is no hope.\n                _this.showError('Sorry, there was a problem deleting your query. ' +\n                                'Please try again.');\n            });\n\n            this.close();\n        },\n\n        onRender: function() {\n            this.ui.header.text(this.options.header);\n\n            this.$el.modal({\n                show: false,\n                keyboard: false,\n                backdrop: 'static'\n            });\n        },\n\n        open: function(model) {\n            this.hideError();\n            this.model = model;\n            this.$el.modal('show');\n        },\n\n        close: function() {\n            delete this.model;\n            this.$el.modal('hide');\n        }\n    });\n\n    var EditQueryDialog = Marionette.ItemView.extend({\n        className: 'modal hide',\n\n        template: 'query/edit-dialog',\n\n        options: {\n            header: 'Query Properties'\n        },\n\n        events: {\n            'click [data-save]': 'saveQuery'\n        },\n\n        ui: {\n            header: '.modal-header h4',\n            alert: '.alert',\n            name: '.query-name',\n            description: '.query-description',\n            email: '.query-emails',\n            publicity: '.query-publicity',\n            emailMessageContainer: '[data-target=email-message-container]',\n            emailMessage: '[data-target=email-message]'\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view model required');\n            }\n        },\n\n        showError: function(message) {\n            this.ui.alert.html(message).show();\n        },\n\n        hideError: function() {\n            this.ui.alert.hide();\n        },\n\n        saveQuery: function() {\n            this.hideError();\n\n            // Make sure the name is valid, everything else can be left blank.\n            if (!this.ui.name.val()) {\n                this.showError('Please supply a name for the query');\n                return;\n            }\n\n            // Extract data from form and session.\n            var attrs = {\n                name: this.ui.name.val(),\n                description: this.ui.description.val(),\n                usernames_or_emails: this.ui.email.val(), // jshint ignore:line\n                public: this.ui.publicity.prop('checked'),\n                message: this.ui.emailMessage.val()\n            };\n\n            // Create a new model if not defined.\n            if (!this.model) {\n                this.model = new this.collection.model();\n\n                // We only want to set the context and view json if this is a\n                // new saved query. Otherwise, we would be stomping on the saved\n                // context and view with whatever the user currently has in\n                // their session.\n                attrs.context_json = this.data.context.toJSON().json; // jshint ignore:line\n                attrs.view_json = this.data.view.toJSON().json; // jshint ignore:line\n            }\n\n            // Don't stomp on model's collection if it already exists in one.\n            if (!this.model.collection) {\n                this.collection.add(this.model);\n            }\n\n            // Re-open on failure and display error message. Closure reference\n            // of model put to prevent re-opening with a new instance.\n            var model = this.model, _this = this;\n\n            this.model.save(attrs).done(function() {\n                c.notify({\n                    header: 'Saved',\n                    level: 'info',\n                    timeout: 5000,\n                    message: 'Successfully saved your query'\n                });\n            }).fail(function() {\n                _this.open(model);\n\n                // TODO evaluate the error and customize the message, e.g. don't\n                // tell a user to try again if there is no hope.\n                _this.showError('Sorry, there was a problem saving your query. ' +\n                                'Please try again.');\n            });\n\n            this.close();\n\n        },\n\n        onRender: function() {\n            this.ui.header.text(this.options.header);\n\n            this.$el.modal({\n                show: false,\n                keyboard: false,\n                backdrop: 'static'\n            });\n        },\n\n        open: function(model) {\n            this.hideError();\n            this.model = model;\n\n            var name, description, emails, publicity, message;\n\n            // Repopulate modal with model attributes, otherwise initialize\n            // with defaults.\n            if (model) {\n                name = this.model.get('name');\n                description = this.model.get('description');\n                emails = _.pluck(this.model.get('shared_users'), 'email').join(', ');\n                publicity = this.model.get('public');\n                message = this.model.get('message');\n            }\n            else {\n                // Remove timezone info from the current date and then use it as\n                // the suffix for new query title.\n                var fields = Date().toString().split(' ');\n\n                name = 'Query on ' + fields.slice(0, 5).join(' ');\n                description = '';\n                emails = '';\n                publicity = false;\n                message = '';\n            }\n\n            if (c.isSupported('2.3.7')) {\n                this.ui.emailMessageContainer.removeClass('hide');\n            }\n\n            // Reset form fields.\n            this.ui.name.val(name);\n            this.ui.description.val(description);\n            this.ui.email.val(emails);\n            this.ui.publicity.prop('checked', publicity);\n            this.ui.emailMessage.val(message);\n\n            this.$el.modal('show');\n        },\n\n        close: function() {\n            delete this.model;\n            this.$el.modal('hide');\n        }\n    });\n\n    return {\n        DeleteQueryDialog: DeleteQueryDialog,\n        EditQueryDialog: EditQueryDialog\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/query/item',[\n    'jquery',\n    'underscore',\n    'marionette',\n    '../base',\n    '../core',\n    '../context/filters'\n], function($, _, Marionette, base, c, filters) {\n\n    var LoadingQueryItem = base.LoadView.extend({\n        align: 'left'\n    });\n\n    var QueryItem = Marionette.ItemView.extend({\n        className: 'query-item',\n\n        template: 'query/item',\n\n        options: {\n            editable: false\n        },\n\n        ui: {\n            owner: '.owner',\n            nonOwner: '.non-owner',\n            shareCount: '.share-count',\n            publicIcon: '.public-icon',\n            details: '[data-target=details]',\n            toggleDetails: '[data-target=toggle-details]',\n            actions: '.owner button'\n        },\n\n        events: {\n            'click [data-toggle=delete-query-modal]': 'showDeleteQueryModal',\n            'click [data-toggle=edit-query-modal]': 'showEditQueryModal',\n            'click [data-target=query]': 'loadQuery',\n            'click @ui.toggleDetails': 'toggleDetails',\n            'mouseover': 'showActions',\n            'mouseout': 'hideActions'\n        },\n\n        modelEvents: {\n            sync: 'render'\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view model required');\n            }\n        },\n\n        // Custom serialize method to ensure the two nested objects exist for\n        // use by the template.\n        serializeData: function() {\n            var data = this.model.toJSON();\n            if (!data.shared_users) data.shared_users = []; // jshint ignore:line\n            if (!data.user) data.user = {};\n            return data;\n        },\n\n        showActions: function() {\n            this.ui.actions.show();\n        },\n\n        hideActions: function() {\n            this.ui.actions.hide();\n        },\n\n        // Set the query's context and view json on the session context\n        // and view, navigate to the results to view results\n        loadQuery: function(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            $.when(\n                this.data.view.save('json', this.model.get('view_json')),\n                this.data.context.save('json', this.model.get('context_json'), {\n                    reset: true\n                })\n            ).done(function() {\n                c.router.navigate('results', {trigger: true});\n            }).fail(function() {\n                c.notify({\n                    timeout: null,\n                    dismissable: true,\n                    level: 'error',\n                    header: 'Error Opening Query',\n                    message: 'An error occurred when opening the query. ' +\n                             'Click on the link again to try to open the ' +\n                             'query again.'\n                });\n            });\n        },\n\n        showEditQueryModal: function() {\n            this.trigger('showEditQueryModal', this.model);\n        },\n\n        showDeleteQueryModal: function() {\n            this.trigger('showDeleteQueryModal', this.model);\n        },\n\n        toggleDetails: function(event) {\n            event.preventDefault();\n\n            if (this.ui.details.is(':visible')) {\n                this.ui.toggleDetails.text('Show details');\n                this.ui.details.hide();\n            }\n            else {\n                this.ui.toggleDetails.text('Hide details');\n                this.ui.details.show();\n            }\n        },\n\n        renderDetails: function() {\n            var html = [];\n\n            if (this.model.get('description')) {\n                html.push('<span class=muted>' + this.model.get('description') +\n                          '</span>');\n            }\n\n            html.push('<div class=row-fluid><div class=span6><h6>Filters</h6>');\n\n            var json = this.model.context.get('json');\n\n            if (!json || _.isEmpty(json)) {\n                html.push('<p class=muted>No filters were specified for this query.</p>');\n            }\n            else {\n                filters.flattenLanguage(json, html);\n            }\n\n            html.push('</div><div class=span6>');\n\n            /*\n             * When the session.defaults.data.preview setting is being used,\n             * the view is overridden when making request to the preview endpoint\n             * so displaying the columns will not be useful. If this setting\n             * does not exist, then display the columns under a saved query.\n             */\n            if (!c.config.get('session.defaults.data.preview')) {\n                html.push('<h6>Columns</h6>');\n\n                if (!this.model.view.facets.length) {\n                    html.push('<p class=muted>No columns were selected this query.</p>');\n                }\n                else {\n                    html.push('<ul>');\n\n                    // Retrieve the columns selected\n                    this.model.view.facets.each(function(model) {\n                        var concept = c.data.concepts.get(model.get('concept'));\n\n                        if (concept === undefined) return;\n\n                        var name = concept.get('name'),\n                            sort = model.get('sort');\n\n                        html.push('<li>' + name);\n\n                        if (sort === 'asc') {\n                            html.push(' <i class=icon-caret-up ' +\n                                      'title=\"Ascending Order\"></i>');\n                        }\n                        else if (sort === 'desc') {\n                            html.push(' <i class=icon-caret-down ' +\n                                      'title=\"Descending Order\"></i>');\n                        }\n\n                        html.push('</li>');\n                    });\n\n                    html.push('</ul>');\n                }\n            }\n\n            html.push('</div></div>');\n\n            this.ui.details.html(html.join(''));\n        },\n\n        onRender: function() {\n            // The details requires the concepts to be loaded. This checks\n            // based on existence, otherwise waits until they sync.\n            if (c.data.concepts.length) {\n                this.renderDetails();\n            }\n            else {\n                this.listenTo(c.data.concepts, 'sync', function() {\n                    this.renderDetails();\n                });\n            }\n\n            // Short-circuit render if not editable\n            if (!this.options.editable) {\n                this.ui.publicIcon.hide();\n                this.ui.owner.hide();\n\n                // If we are not the owner and the owner is unknown, hide the\n                // shared by information as it will only lead to confusion.\n                if (!this.model.get('user')) {\n                    this.ui.nonOwner.hide();\n                }\n\n                return;\n            }\n\n            if (this.model.get('public')) {\n                this.ui.publicIcon\n                    .removeClass('muted')\n                    .attr('title', 'Public query');\n            }\n\n            // NOTE: The container needs to be set to overcome an issue\n            // with tooltip placement in bootstrap < 3.0. This container\n            // setting can be removed after we upgrade to bootstrap >= 3.0.\n            this.ui.publicIcon.tooltip({\n                html: true,\n                animation: false,\n                placement: 'right',\n                container: 'body'\n            });\n\n            if (this.model.get('is_owner')) {\n                this.ui.nonOwner.hide();\n\n                var emails = _.pluck(this.model.get('shared_users'), 'email');\n\n                if (emails.length) {\n                    this.ui.shareCount\n                        .removeClass('muted')\n                        .attr('title', emails.join(', '));\n                }\n\n                this.ui.shareCount.tooltip({\n                    html: true,\n                    animation: false,\n                    placement: 'right',\n                    container: 'body'\n                });\n            }\n            else {\n                this.ui.owner.hide();\n            }\n        }\n    });\n\n    return {\n        LoadingQueryItem: LoadingQueryItem,\n        QueryItem: QueryItem\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/query/list',[\n    'underscore',\n    'marionette',\n    '../core',\n    './item',\n], function(_, Marionette, c, item) {\n\n    var QueryList = Marionette.CompositeView.extend({\n        itemView: item.QueryItem,\n\n        itemViewContainer: '.items',\n\n        template: 'query/list',\n\n        options: {\n            title: 'Queries',\n            editable: false,\n            emptyMessage: 'You have not yet created any queries nor have had ' +\n                          'any shared with you. You can create a new query by ' +\n                          'navigating to the \"Results\" page and clicking on ' +\n                          'the \"Save Query...\" button. This will save a query with ' +\n                          'the current filters and column view.'\n        },\n\n        ui: {\n            title: '.title',\n            publicIndicator: '.header > div'\n        },\n\n        collectionEvents: {\n            sync: 'onCollectionSync',\n            error: 'onCollectionError',\n            request: 'onCollectionRequest',\n            destroy: '_refreshList',\n            remove: '_refreshList'\n        },\n\n        itemViewOptions: function(model, index) {\n            return {\n                model: model,\n                view: this.data.view,\n                context: this.data.context,\n                editable: this.options.editable,\n                index: index\n            };\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view model required');\n            }\n\n            if (this.options.editable) {\n                this.on('itemview:showEditQueryModal', function(options) {\n                    c.dialogs.query.open(options.model);\n                });\n\n                this.on('itemview:showDeleteQueryModal', function(options) {\n                    c.dialogs.deleteQuery.open(options.model);\n                });\n            }\n        },\n\n        _refreshList: function() {\n            this.$('.error-message').hide();\n            this.$('.loading-indicator').hide();\n            this.checkForEmptyCollection();\n        },\n\n        onCollectionError: function() {\n            this.$('.empty-message').hide();\n            this.$('.error-message').show();\n            this.$('.loading-indicator').hide();\n        },\n\n        onCollectionRequest: function() {\n            this.$('.empty-message').hide();\n            this.$('.error-message').hide();\n            this.$('.loading-indicator').show();\n        },\n\n        onCollectionSync: function() {\n            this._refreshList();\n        },\n\n        checkForEmptyCollection: function() {\n            if (this.collection.length === 0) {\n                this.$('.empty-message').show();\n            }\n            else {\n                this.$('.empty-message').hide();\n            }\n        },\n\n        onRender: function() {\n            this.ui.title.html(this.options.title);\n\n            if (!this.options.editable) this.ui.publicIndicator.hide();\n\n            this.$('.empty-message').html(this.options.emptyMessage);\n            this.checkForEmptyCollection();\n        }\n    });\n\n    return {\n        QueryList: QueryList\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/query/loader',[\n    'underscore',\n    'marionette',\n    '../core'\n], function(_, Marionette, c) {\n\n    var QueryLoader = Marionette.ItemView.extend({\n        className: 'query-loader',\n\n        template: 'query/loader',\n\n        ui: {\n            loadingMessage: '.loading-message',\n            errorMessage: '.error-message'\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view model required');\n            }\n\n            if (!(this.data.queries = this.options.queries)) {\n                throw new Error('queries collection required');\n            }\n\n            this.on('router:load', this.onRouterLoad);\n            this.listenTo(this.data.queries, 'sync', this.loadRequestedQuery);\n        },\n\n        onRouterLoad: function(router, fragment, id) {\n            this.requestedQueryId = parseInt(id) || null;\n        },\n\n        loadRequestedQuery: function() {\n            if (this.requestedQueryId) {\n                var query = this.data.queries.get(this.requestedQueryId);\n\n                delete this.requestedQueryId;\n\n                if (query) {\n                    this.data.view.save('json', query.get('view_json'));\n                    this.data.context.save('json', query.get('context_json'), {\n                        reset: true\n                    });\n                    c.router.navigate('results', {trigger: true});\n                } else {\n                    this.ui.loadingMessage.hide();\n                    this.ui.errorMessage.show();\n                }\n            }\n        }\n    });\n\n    return {\n        QueryLoader: QueryLoader\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/query',[\n    'underscore',\n    './query/dialog',\n    './query/item',\n    './query/list',\n    './query/loader'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(null, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/stats',[\n    'jquery',\n    'underscore',\n    'marionette'\n], function($, _, Marionette) {\n\n    var CountItem = Marionette.ItemView.extend({\n        tagName: 'tr',\n\n        template: 'stats/count-item',\n\n        templateHelpers: function() {\n            var name = this.model.get('verbose_name');\n\n            if (this.model.get('count') > 1) {\n                name = this.model.get('verbose_name_plural');\n            }\n\n            return {\n                displayName: name\n            };\n        }\n    });\n\n    var CountList = Marionette.CompositeView.extend({\n        template: 'stats/count-list',\n\n        itemView: CountItem,\n\n        itemViewContainer: 'tbody',\n\n        ui: {\n            'statsTable': 'table',\n            'loader': '.loading-message'\n        },\n\n        events: {\n            'click thead th': 'handleSort'\n        },\n\n        collectionEvents: {\n            'sort': '_renderChildren',\n            'request': 'showLoader',\n            'reset': 'onCollectionReset'\n        },\n\n        onCollectionReset: function() {\n            this.hideLoader();\n\n            if (this.options.statsModelsList !== null) {\n                var _this = this;\n\n                var summaryCollection = _.filter(this.collection.models, function(count) {\n                    var appModel = count.get('app_name') + '.' + count.get('model_name');\n                    return _this.options.statsModelsList.indexOf(appModel) !== -1;\n                });\n\n                this.collection.reset(summaryCollection, {silent: true});\n            }\n        },\n\n        hideLoader: function() {\n            this.ui.loader.hide();\n            this.ui.statsTable.show();\n        },\n\n        showLoader: function() {\n            this.ui.loader.show();\n            this.ui.statsTable.hide();\n        },\n\n        handleSort: function(event) {\n            if (!this.collection.length) return;\n\n            this.applySort($(event.target).data('sort'));\n        },\n\n        applySort: function(attr) {\n            var dir = 'asc';\n\n            // Already sorted by the attribute, cycle direction.\n            if (this.collection._sortAttr === attr) {\n                dir = this.collection._sortDir === 'asc' ? 'desc' : 'asc';\n            }\n\n            this.$('[data-sort=' + this.collection._sortAttr + ']')\n                .removeClass(this.collection._sortDir);\n            this.$('[data-sort=' + attr + ']').addClass(dir);\n\n            // Reference for cycling.\n            this.collection._sortAttr = attr;\n            this.collection._sortDir = dir;\n\n            // Parse function for handling the sort attributes.\n            var parse = function(v) {\n                return v;\n            };\n\n            this.collection.comparator = function(m1, m2) {\n                var v1 = parse(m1.get(attr)),\n                    v2 = parse(m2.get(attr));\n\n                if (v1 < v2) return (dir === 'asc' ? -1 : 1);\n                if (v1 > v2) return (dir === 'asc' ? 1 : -1);\n\n                return 0;\n            };\n\n            this.collection.sort();\n        }\n    });\n\n    return {\n        CountList: CountList\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/tables/cell',[\n    'marionette'\n], function(Marionette) {\n\n    var Cell = Marionette.View.extend({\n        tagName: 'td',\n\n        initialize: function() {\n            this.listenTo(this.model.index, 'change:visible', this.toggleVisible);\n        },\n\n        render: function() {\n            this.toggleVisible();\n            this.$el.html(this.model.get('value'));\n            return this;\n        },\n\n        toggleVisible: function() {\n            this.$el.toggle(this.model.index.get('visible'));\n        }\n    });\n\n    return {\n        Cell: Cell\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/tables/row',[\n    'underscore',\n    'marionette',\n    '../base',\n    './cell'\n], function(_, Marionette, base, cell) {\n\n    var Row = Marionette.CollectionView.extend({\n        tagName: 'tr',\n\n        itemView: cell.Cell,\n\n        itemViewOptions: function(model) {\n            return _.extend({}, this.options, {\n                model: model\n            });\n        }\n    });\n\n    var EmptyRow = base.LoadView.extend({\n        align: 'left',\n\n        tagName: 'tr'\n    });\n\n    return {\n        EmptyRow: EmptyRow,\n        Row: Row\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/tables/header',[\n    'underscore',\n    'marionette',\n    './row'\n], function(_, Marionette, row) {\n\n    var HeaderCell = Marionette.ItemView.extend({\n        tagName: 'th',\n\n        events: {\n            'click': 'onClick'\n        },\n\n        constructor: function(options) {\n            if (!options.view) {\n                throw new Error('ViewModel instance required');\n            }\n\n            this.view = options.view;\n            delete options.view;\n            Marionette.ItemView.prototype.constructor.call(this, options);\n        },\n\n        onClick: function() {\n            _.each(this.view.facets.models, function(f) {\n                var direction;\n\n                if (f.get('concept') === this.model.id) {\n                    direction = f.get('sort');\n\n                    if (direction) {\n                        if (direction.toLowerCase() === \"asc\") {\n                            f.set('sort', \"desc\");\n                            f.set('sort_index', 0);\n                        }\n                        else {\n                            f.unset('sort');\n                            f.unset('sort_index');\n                        }\n                    }\n                    else {\n                        f.set('sort', \"asc\");\n                        f.set('sort_index', 0);\n                    }\n                }\n                else {\n                    f.unset('sort');\n                    f.unset('sort_index');\n                }\n            }, this);\n\n            this.view.save();\n        },\n\n        initialize: function() {\n            this.listenTo(this.model, 'change:visible', this.toggleVisible);\n        },\n\n        // Finds and returns the sort icon html associatied with the sort\n        // direction of the Facet being represented by this header cell.\n        getSortIconClass: function() {\n            var direction, model;\n\n            model = this.view.facets.findWhere({concept: this.model.id});\n\n            // If there are no view facets for the this header cell's model\n            // then the this really shouldn't be displaying anyway so return\n            // the empty string. We really should not ever get into this\n            // situation since the facets should be driving the columns but\n            // this check prevents TypeErrors just in case.\n            if (!model) return;\n\n            direction = (model.get('sort') || '').toLowerCase();\n\n            switch (direction) {\n                case 'asc':\n                    return 'icon-sort-up';\n                case 'desc':\n                    return 'icon-sort-down';\n                default:\n                    return 'icon-sort';\n            }\n        },\n\n        render: function() {\n            this.toggleVisible();\n\n            var iconClass = this.getSortIconClass();\n\n            // TODO: Could we just use a template here instead and then just\n            // modify the class on the icon in the template?\n            this.$el.html('<span>' + (this.model.get('name')) + ' <i class=' +\n                          iconClass + '></i></span>');\n            this.$el.attr('title', this.model.get('name'));\n\n            return this;\n        },\n\n        toggleVisible: function() {\n            this.$el.toggle(this.model.get('visible'));\n        }\n    });\n\n    var HeaderRow = row.Row.extend({\n        itemView: HeaderCell\n    });\n\n    var Header = Marionette.ItemView.extend({\n        tagName: 'thead',\n\n        render: function() {\n            var row = new HeaderRow(this.options);\n\n            this.$el.html(row.el);\n            row.render();\n            return this;\n        }\n    });\n\n    return {\n        Header: Header\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/tables/footer',[\n    'marionette'\n], function(Marionette) {\n\n    var Footer = Marionette.ItemView.extend({\n        tagName: 'tfoot',\n\n        template: function() {}\n    });\n\n    return {\n        Footer: Footer\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/tables/body',[\n    'underscore',\n    'marionette',\n    './row'\n], function(_, Marionette, row) {\n\n    // Represent a \"frame\" of rows. The model is referenced for keeping\n    // track which frame this is relative to the whole series.\n    var Body = Marionette.CollectionView.extend({\n        tagName: 'tbody',\n\n        itemView: row.Row,\n\n        itemViewOptions: function(model) {\n            return _.defaults({collection: model.data}, this.options);\n        }\n    });\n\n    return {\n        Body: Body\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/tables/table',[\n    'underscore',\n    'marionette',\n    './body',\n    './header',\n    './footer'\n], function(_, Marionette, body, header, footer) {\n\n    // Renders a table with the thead and tfoot elements and one or more\n    // tbody elements each representing a frame of data in the collection.\n    var Table = Marionette.CollectionView.extend({\n        tagName: 'table',\n\n        className: 'table table-striped',\n\n        itemView: body.Body,\n\n        itemViewOptions: function(item) {\n            return _.defaults({collection: item.series}, this.options);\n        },\n\n        collectionEvents: {\n            'change:currentpage': 'showCurrentPage'\n        },\n\n        initialize: function() {\n            this.header = new header.Header(_.defaults({\n                collection: this.collection.indexes\n            }, this.options));\n\n            this.footer = new footer.Footer(_.defaults({\n                collection: this.collection.indexes\n            }, this.options));\n\n            this.header.render();\n            this.footer.render();\n\n            this.$el.append(this.header.el, this.footer.el);\n\n            this.listenTo(this.collection, 'reset', function() {\n                if (this.collection.objectCount === 0) {\n                    this.$el.hide();\n                }\n                else {\n                    this.$el.show();\n                }\n            });\n        },\n\n        showCurrentPage: function(model, num) {\n            this.children.each(function(view) {\n                view.$el.toggle(view.model.id === num);\n            });\n        }\n    });\n\n    return {\n        Table: Table\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/tables',[\n    'underscore',\n    './tables/cell',\n    './tables/row',\n    './tables/header',\n    './tables/footer',\n    './tables/body',\n    './tables/table'\n], function(_) {\n\n    // Modules to be mixed-in with exports.\n    var mods = Array.prototype.slice.call(arguments, 1);\n\n    // Merge the mods into an empty object that will be exported.\n    return _.extend.apply(_, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/workflows/query',[\n    'marionette',\n    '../core',\n    '../concept'\n], function(Marionette, c, concept) {\n\n    /*\n    The QueryWorkflow provides an interface for navigating and viewing\n    concepts that are deemed 'queryable'. This includes browsing the\n    available concepts in the index, viewing details about the\n    concept in the workspace as well as adding or modifying filters,\n    and viewing the list of filters in the context panel.\n\n    This view requires the following options:\n    - concepts: a collection of concepts that are deemed queryable\n    - context: the session/active context model\n    */\n    var QueryWorkflow = Marionette.Layout.extend({\n        className: 'query-workflow',\n\n        template: 'workflows/query',\n\n        regions: {\n            workspace: '.concept-workspace-region'\n        },\n\n        regionViews: {\n            workspace: concept.ConceptWorkspace\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            if (!(this.data.concepts = this.options.concepts)) {\n                throw new Error('concept collection required');\n            }\n\n            // Ensure the necessary panels are toggled\n            this.on('router:load', function() {\n                c.panels.concept.openPanel();\n                c.panels.context.openPanel();\n            });\n\n            this.on('router:unload', function() {\n                c.panels.concept.closePanel();\n            });\n        },\n\n        onRender: function() {\n            var workspace = new this.regionViews.workspace({\n                context: this.data.context,\n                concepts: this.data.concepts\n            });\n\n            this.workspace.show(workspace);\n        }\n    });\n\n\n    return {\n        QueryWorkflow: QueryWorkflow\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/numbers',[\n    './core'\n], function(c) {\n\n    // Method for rendering a count. It will prettify the number for display\n    // and set the (delimited) raw number as the title for a popover. If the\n    // count is null, 'n/a' will be displayed.\n    var renderCount = function($el, count, fallback) {\n        if (!fallback) fallback = '<em>n/a</em>';\n\n        if (!count) {\n            $el.html(fallback);\n        }\n        else {\n            $el.html(c.utils.prettyNumber(count, c.config.get('threshold')))\n               .attr('title', c.utils.toDelimitedNumber(count));\n        }\n    };\n\n    return {\n        renderCount: renderCount\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/workflows/results',[\n    'jquery',\n    'underscore',\n    'marionette',\n    '../core',\n    '../paginator',\n    '../numbers',\n    '../tables'\n], function($, _, Marionette, c, paginator, numbers, tables) {\n\n\n    var ResultCount = Marionette.ItemView.extend({\n        tagName: 'span',\n\n        className: 'result-count',\n\n        template: 'count',\n\n        ui: {\n            count: '.count',\n            label: '.count-label'\n        },\n\n        modelEvents: {\n            'change:objectcount': 'renderCount'\n        },\n\n        onRender: function() {\n            if (this.model.objectCount !== undefined) {\n                this.renderCount(this.model, this.model.objectCount);\n            }\n            else {\n                this.renderCount(this.model, '');\n            }\n        },\n\n        renderCount: function(model, count) {\n            numbers.renderCount(this.ui.count, count);\n            this.ui.label.text('records');\n        }\n    });\n\n\n    /*\n     * The ResultsWorkflow provides an interface for previewing tabular data,\n     * mechanisms for customizing the view, and a method for exporting data\n     * to alternate formats.\n     *\n     * This view requires the following options:\n     *      - view: the session/active view model\n     *      - results: a Results collection that contains the tabular data\n     */\n    var ResultsWorkflow = Marionette.Layout.extend({\n        className: 'results-workflow',\n\n        template: 'workflows/results',\n\n        ui: {\n            toggleFiltersButton: '[data-toggle=context-panel]',\n            toggleFiltersIcon: '[data-toggle=context-panel] i',\n            toggleFiltersText: '[data-toggle=context-panel] span',\n            navbar: '.results-workflow-navbar',\n            resultsContainer: '.results-container',\n            navbarButtons: '.results-workflow-navbar button',\n            loadingOverlay: '.loading-overlay'\n        },\n\n        events: {\n            'click [data-toggle=columns-dialog]': 'showColumnsDialog',\n            'click [data-toggle=exporter-dialog]': 'showExporterDialog',\n            'click [data-toggle=query-dialog]': 'showQueryDialog',\n            'click [data-toggle=context-panel]': 'toggleContextPanel'\n        },\n\n        regions: {\n            count: '.count-region',\n            table: '.table-region',\n            paginator: '.paginator-region'\n        },\n\n        initialize: function() {\n            // Bind for use as event handlers\n            _.bindAll(this, 'onPageScroll');\n\n            this.data = {};\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view model required');\n            }\n\n            if (!(this.data.results = this.options.results)) {\n                throw new Error('results collection required');\n            }\n\n            this.listenTo(this.data.results, 'request', this.showLoadingOverlay);\n            this.listenTo(this.data.results, 'sync', this.hideLoadingOverlay);\n\n            this.on('router:load', this.onRouterLoad);\n            this.on('router:unload', this.onRouterUnload);\n        },\n\n        onRouterLoad: function() {\n            this.data.results.trigger('workspace:load');\n            this.hideContextPanel();\n        },\n\n        onRouterUnload: function() {\n            this.data.results.trigger('workspace:unload');\n        },\n\n        showLoadingOverlay: function() {\n            if (this.isClosed !== true) this.ui.loadingOverlay.show();\n        },\n\n        hideLoadingOverlay: function() {\n            if (this.isClosed !== true) this.ui.loadingOverlay.hide();\n        },\n\n        toggleContextPanel: function() {\n            if (c.panels.context.isPanelClosed()) {\n                this.showContextPanel();\n            }\n            else {\n                this.hideContextPanel();\n            }\n        },\n\n        showContextPanel: function() {\n            c.panels.context.openPanel();\n            this.$el.addClass('panel-open');\n\n            // If we don't update the title by calling fixTitle the tooltip\n            // will not respect the attribute change. Also, if we are changing\n            // the visibility of the context panel just go ahead and hide the\n            // tooltip in case the cause of this was a user click in which case\n            // the show/hide filter button is no longer under their mouse.\n            this.ui.toggleFiltersButton.tooltip('hide')\n                .attr('data-original-title', 'Hide Filter Panel')\n                .tooltip('fixTitle');\n\n            this.ui.toggleFiltersIcon.removeClass('icon-collapse-alt');\n            this.ui.toggleFiltersIcon.addClass('icon-expand-alt');\n            this.ui.toggleFiltersText.html('Hide Filters');\n        },\n\n        hideContextPanel: function() {\n            c.panels.context.closePanel({full: true});\n            this.$el.removeClass('panel-open');\n\n            // If we don't update the title by calling fixTitle the tooltip\n            // will not respect the attribute change. Also, if we are changing\n            // the visibility of the context panel just go ahead and hide the\n            // tooltip in case the cause of this was a user click in which case\n            // the show/hide filter button is no longer under their mouse.\n            this.ui.toggleFiltersButton.tooltip('hide')\n                .attr('data-original-title', 'Show Filter Panel')\n                .tooltip('fixTitle');\n\n            this.ui.toggleFiltersIcon.addClass('icon-collapse-alt');\n            this.ui.toggleFiltersIcon.removeClass('icon-expand-alt');\n            this.ui.toggleFiltersText.html('Show Filters');\n        },\n\n        onPageScroll: function() {\n            var scrollPos = $(document).scrollTop();\n\n            // Record the vertical offset of the masthead nav bar if we\n            // haven't done so already. This is used in scroll calculations.\n            if (this.navbarVerticalOffset === undefined) {\n                this.navbarVerticalOffset = this.ui.navbar.offset().top;\n            }\n\n            // If there is already something fixed to the top, record the\n            // height of it so we can account for it in our scroll\n            // calculations later.\n            if (this.topNavbarHeight === undefined) {\n                var topElement = $('.navbar-fixed-top');\n                if (topElement.length > 0) {\n                    this.topNavbarHeight = topElement.height();\n                }\n                else {\n                    this.topNavbarHeight = 0;\n                }\n            }\n\n            if (this.ui.navbar.hasClass('navbar-fixed-top')) {\n                if (scrollPos < (this.navbarVerticalOffset - this.topNavbarHeight)) {\n                    // Remove the results navbar from the top.\n                    this.ui.navbar.removeClass('navbar-fixed-top');\n                }\n            }\n            else {\n                if (scrollPos >= (this.navbarVerticalOffset - this.topNavbarHeight)) {\n                    // Move the results navbar to the top.\n                    this.ui.navbar.css('top', this.topNavbarHeight);\n                    this.ui.navbar.addClass('navbar-fixed-top');\n                }\n            }\n        },\n\n        onRender: function() {\n            $(document).on('scroll', this.onPageScroll);\n\n            // Remove unsupported features from view/\n            if (!c.isSupported('2.1.0')) {\n                this.ui.saveQueryToggle.remove();\n                this.ui.saveQuery.remove();\n            }\n\n            this.paginator.show(new paginator.Paginator({\n                model: this.data.results\n            }));\n\n            this.count.show(new ResultCount({\n                model: this.data.results\n            }));\n\n            this.table.show(new tables.Table({\n                view: this.data.view,\n                collection: this.data.results\n            }));\n\n            this.ui.navbarButtons.tooltip({\n                animation: false,\n                placement: 'bottom'\n            });\n\n            /*\n            * If the user's view is empty, show them a notification explaining why no data\n            * is being displayed. The notification is not shown when the\n            * 'session.defaults.data.preview' config option is present. When that option\n            * is being used, the view is overridden when making requests to the preview\n            * endpoint so the data(order aside) shown in the results table will not be\n            * affected by the columns(or lack thereof) the user has chosen.\n            */\n            this.listenTo(this.data.view.facets, 'reset', function() {\n                if (this.data.view.facets.length === 0 &&\n                        !c.config.get('session.defaults.data.preview')) {\n                    c.notify({\n                        header: 'No Columns Selected: ',\n                        level: 'warning',\n                        timeout: false,\n                        message: 'No data can be displayed. Click the \"Change ' +\n                                 'Columns\" button on the toolbar to select ' +\n                                 'columns to display.'\n                    });\n                }\n            });\n        },\n\n        onClose: function() {\n            $(document).off('scroll', this.onPageScroll);\n        },\n\n        showExporterDialog: function() {\n            c.dialogs.exporter.open();\n        },\n\n        showColumnsDialog: function() {\n            c.dialogs.columns.open();\n        },\n\n        showQueryDialog: function() {\n            // Opens the query modal without passing a model which assumes a\n            // new one will be created based on the current session.\n            c.dialogs.query.open();\n        }\n    });\n\n    return {\n        ResultCount: ResultCount,\n        ResultsWorkflow: ResultsWorkflow\n    };\n});\n\n","/* global define */\n\ndefine('cilantro/ui/workflows/workspace',[\n    'jquery',\n    'backbone',\n    'marionette',\n    '../core',\n    '../query',\n    '../stats'\n], function($, Backbone, Marionette, c, query, stats) {\n\n    var WorkspaceWorkflow = Marionette.Layout.extend({\n        className: 'workspace-workflow',\n\n        template: 'workflows/workspace',\n\n        ui: {\n            loadingOverlay: '.loading-overlay'\n        },\n\n        regions: {\n            dataSummary: '.data-summary-region',\n            publicQueries: '.public-query-region',\n            queries: '.query-region'\n        },\n\n        regionViews: {\n            dataSummary: stats.CountList,\n            publicQueries: query.QueryList,\n            queries: query.QueryList\n        },\n\n        initialize: function() {\n            this.data = {};\n\n            if (c.isSupported('2.2.0')) {\n                if (!(this.data.publicQueries = this.options.public_queries)) {  // jshint ignore:line\n                    throw new Error('public queries collection required');\n                }\n            }\n\n            if (!(this.data.queries = this.options.queries)) {\n                throw new Error('queries collection required');\n            }\n\n            if (!(this.data.context = this.options.context)) {\n                throw new Error('context model required');\n            }\n\n            if (!(this.data.view = this.options.view)) {\n                throw new Error('view model required');\n            }\n\n            if (c.isSupported('2.3.6')) {\n                if (!(this.data.stats = this.options.stats)) {\n                    throw new Error('stats model required');\n                }\n            }\n\n            // When this workflow is loaded, toggle shared components\n            this.on('router:load', function() {\n                // Fully hide the panel; do not leave an edge to show/hide\n                c.panels.context.closePanel({full: true});\n                c.panels.concept.closePanel({full: true});\n                this.ui.loadingOverlay.hide();\n            });\n\n            // Query items, when clicked, will update the view and the context\n            // for the user and then, when that is done, will navigate to the\n            // Results page. Instead of listening here for both the view and\n            // the context sync events, we can simply hide the loading view\n            // on the router unload event which the query item will trigger\n            // when it uses the router to navigate to the Results page.\n            this.on('router:unload', function() {\n                this.ui.loadingOverlay.hide();\n            });\n        },\n\n        onRender: function() {\n            var queryView = new this.regionViews.queries({\n                collection: this.data.queries,\n                context: this.data.context,\n                view: this.data.view,\n                editable: true\n            });\n\n            this.queries.show(queryView);\n\n            if (c.isSupported('2.2.0')) {\n                var publicQueryView = new this.regionViews.publicQueries({\n                    collection: this.data.publicQueries,\n                    context: this.data.context,\n                    view: this.data.view,\n                    title: 'Public Queries',\n                    emptyMessage: \"There are no public queries. You can create a \" +\n                                  \"new, public query by navigating to the 'Results'\" +\n                                  \"page and clicking on the 'Save Query...' button. \" +\n                                  \"While filling out the query form, you can mark \" +\n                                  \"the query as public which will make it visible \" +\n                                  \"to all users and cause it to be listed here.\"\n                });\n\n                // We explicitly set the editable option to false below because\n                // users should not be able to edit the public queries\n                // collection.\n                this.publicQueries.show(publicQueryView);\n\n                // When the queries are synced we need to manually update the\n                // public queries collection so that any changes to public\n                // queries are reflected there. Right now, this is done lazily\n                // rather than checking if the changed model is public or had\n                // its publicity changed. If this becomes too slow we can\n                // perform these checks but for now this is snappy enough.\n                this.listenTo(this.data.queries, 'sync', function() {\n                    this.data.publicQueries.fetch({reset: true});\n                });\n\n                this.listenTo(this.data.queries, 'destroy', function(model) {\n                    this.data.publicQueries.remove(model);\n                });\n            }\n\n            var showStats = c.config.get('statsModelsList') === null ||\n                            c.config.get('statsModelsList').length > 0;\n            if (c.isSupported('2.3.6') && showStats) {\n                var dataSummaryView = new this.regionViews.dataSummary({\n                    collection: this.data.stats.counts,\n                    statsModelsList: c.config.get('statsModelsList')\n                });\n\n                this.dataSummary.show(dataSummaryView);\n            }\n            else {\n                $(this.dataSummary.el).empty();\n                $(this.queries.el).detach().appendTo(this.dataSummary.el);\n            }\n\n            this.listenTo(c.data.concepts, 'reset', function() {\n                this.queries.show(queryView);\n\n                if (this.publicQueries) {\n                    this.publicQueries.show(publicQueryView);\n                }\n            });\n\n            this.listenTo(this.data.view, 'request', function() {\n                this.ui.loadingOverlay.show();\n            });\n        }\n    });\n\n\n    return {\n        WorkspaceWorkflow: WorkspaceWorkflow\n    };\n\n});\n\n","/* global define */\n\ndefine('cilantro/ui/workflows',[\n    'underscore',\n    './workflows/query',\n    './workflows/results',\n    './workflows/workspace'\n], function(_) {\n\n    var mods = [].slice.call(arguments, 1);\n\n    return _.extend.apply(null, [{}].concat(mods));\n\n});\n\n","/* global define */\n\n// Return all the view and general UI-based components\ndefine('cilantro/ui',[\n    'underscore',\n    './ui/core',\n    './ui/accordion',\n    './ui/base',\n    './ui/button',\n    './ui/charts',\n    './ui/concept',\n    './ui/context',\n    './ui/controls',\n    './ui/exporter',\n    './ui/field',\n    './ui/notify',\n    './ui/paginator',\n    './ui/query',\n    './ui/stats',\n    './ui/tables',\n    './ui/workflows'\n], function(_) {\n\n    // Note, the ui/core module is intentially left out\n    var mods = [].slice.call(arguments, 2);\n\n    return _.extend.apply(null, [{}].concat(mods));\n\n});\n\n","/* global define */\n\ndefine('cilantro/setup',[\n    'underscore',\n    'backbone',\n    'marionette',\n    'jquery',\n    'loglevel',\n    './core',\n    './ui'\n], function(_, Backbone, Marionette, $, loglevel, c, ui) {\n\n    // Set configuration options for corresponding APIs\n    c.templates.set(c.config.get('templates', {}));\n    c.controls.set(c.config.get('controls', {}));\n\n    // Extend Marionette template loader facilities to use Cilantro template API\n    var defaultLoadTemplate = Marionette.TemplateCache.prototype.loadTemplate,\n        defaultCompileTemplate = Marionette.TemplateCache.prototype.compileTemplate;\n\n    // Override to get in the template cache\n    Marionette.TemplateCache.prototype.loadTemplate = function(templateId) {\n        var func = c.templates.get(templateId);\n        if (!func) func = defaultLoadTemplate.call(this, templateId);\n        return func;\n    };\n\n    // Prevent re-compiling already compiled templates\n    Marionette.TemplateCache.prototype.compileTemplate = function(template) {\n        if (typeof template !== 'function') {\n            template = defaultCompileTemplate(template);\n        }\n        return template;\n    };\n\n    // See http://documentcloud.github.io/underscore-contrib/#exists\n    _.exists = function(value) {\n        return !_.isUndefined(value) && !_.isNull(value);\n    };\n\n    // Initialize notification stream and append it to the body\n    var stream = new ui.Notifications({\n        id: 'cilantro-notifications'\n    });\n\n    $('body').append(stream.render().el);\n\n    // Add public method\n    c.notify = stream.notify;\n\n    // Support cross origin requests with credentials (i.e. cookies)\n    // See http://www.html5rocks.com/en/tutorials/cors/\n    $.ajaxPrefilter(function(settings) {\n        settings.xhrFields = {\n            withCredentials: true\n        };\n    });\n\n    // Setup debugging facilities\n    if (c.config.get('debug')) {\n        loglevel.setLevel('debug');\n\n        c.on('all', function() {\n            loglevel.info.apply(loglevel.info, [].slice.call(arguments, 0));\n        });\n    }\n\n    // Relies on the jquery-ajax-queue plugin to supply this method.\n    // This ensures data is not silently lost\n    $(window).on('beforeunload', function() {\n        if (c.config.get('debug') || !$.hasPendingRequest()) {\n            // Turn off ajax error handling to prevent unwanted notifications displaying\n            $(document).off('ajaxError');\n            return;\n        }\n\n        return \"Wow, you're quick! Your data is being saved. \" +\n               \"It will only take a moment.\";\n    });\n\n    $(document).ajaxError(function(event, xhr, settings, exception) {\n        // A statusText value of 'abort' is an aborted request which is\n        // usually intentional by the app or from a page reload.\n        if (xhr.statusText === 'abort' ||\n            (xhr.status >= 300 && xhr.status < 400) ) return;\n\n        var message = '';\n\n        if (xhr.status === 0 && exception === '') {\n            // An empty exception value is an unknown error which usually\n            // means the server is unavailable.\n            message = 'The application is no longer responding.';\n        } else {\n            // General purpose error message\n            message = 'There is a communication problem with the server. ' +\n                '<a href=\"#\" onclick=\"location.reload()\">Refreshing</a> ' +\n                'the page may help.';\n        }\n\n        c.notify({\n            timeout: null,\n            dismissable: true,\n            level: 'error',\n            header: 'Uh oh.',\n            message: message\n        });\n    });\n\n    // Route based on the URL\n    $(document).on('click', 'a', function(event) {\n        // Only catch if a router is available\n        if (!c.router) return;\n\n        // Path of the target link\n        var path = this.pathname;\n\n        // Handle IE quirk\n        if (path.charAt(0) !== '/') path = '/' + path;\n\n        // Trim off the root on the path if present\n        var root = Backbone.history.root || '/';\n\n        if (path.slice(0, root.length) === root) {\n            path = path.slice(root.length);\n        }\n\n        // If this is a valid route then go ahead and navigate to it,\n        // otherwise let the event process normally to load the new\n        // location.\n        if (c.router.hasRoute(path)) {\n            event.preventDefault();\n            c.router.navigate(path, {trigger: true});\n        }\n    });\n\n    // Route by ID specified by the data-route attribute.\n    $(document).on('click', '[data-route]', function(event) {\n        // Only catch if a router is available\n        if (!c.router) return;\n\n        var route = $(event.target).attr('data-route');\n\n        if (c.router.isNavigable(route)) {\n            event.preventDefault();\n            c.router.navigate(route, {trigger: true});\n        }\n    });\n\n    // Page visibility API: http://stackoverflow.com/a/1060034/407954\n    var hidden = 'hidden';\n\n    var visibilityMap = {\n        focus: true,\n        focusin: true,\n        pageshow: true,\n        blur: false,\n        focusout: false,\n        pagehide: false\n    };\n\n    function onchange (event) {\n        event = event || window.event;\n\n        var isVisible;\n\n        // Map visibility\n        if (event.type in visibilityMap) {\n            isVisible = visibilityMap[event.type];\n        } else {\n            isVisible = !this[hidden];\n        }\n\n        // Trigger 'visible' and 'hidden' events on cilantro\n        if (isVisible === true) {\n            c.trigger('visible');\n        } else if (isVisible === false) {\n            c.trigger('hidden');\n        }\n    }\n\n    // Standards\n    if (hidden in document) {\n        document.addEventListener('visibilitychange', onchange);\n    } else if ((hidden = 'mozHidden') in document) {\n        document.addEventListener('mozvisibilitychange', onchange);\n    } else if ((hidden = 'webkitHidden') in document) {\n        document.addEventListener('webkitvisibilitychange', onchange);\n    } else if ((hidden = 'msHidden') in document) {\n        document.addEventListener('msvisibilitychange', onchange);\n    // IE 9 and lower\n    } else if ('onfocusin' in document) {\n        document.onfocusin = document.onfocusout = onchange;\n    // All others\n    } else {\n        window.onpageshow = window.onpagehide =\n            window.onfocus = window.onblur = onchange;\n    }\n\n    // Handlers for the window blur/focus events to support tracking. The\n    // primary use of these events is to toggle pinging the server when the\n    // window goes out of focus.\n    window.onblur = function() {\n        c.trigger('blur');\n    };\n\n    window.onfocus = function() {\n        c.trigger('focus');\n    };\n});\n\n"]}